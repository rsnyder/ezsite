var Ga=Object.defineProperty;var Za=(n,i,e)=>i in n?Ga(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e;var pe=(n,i,e)=>(Za(n,typeof i!="symbol"?i+"":i,e),e),Xa=(n,i,e)=>{if(!i.has(n))throw TypeError("Cannot "+e)};var Nr=(n,i,e)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,e)};var Yi=(n,i,e)=>(Xa(n,i,"access private method"),e);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const Ka="modulepreload",Ya=function(n){return"/ezsite/ezsite/dist/"+n},cs={},Ja=function(i,e,t){if(!e||e.length===0)return i();const r=document.getElementsByTagName("link");return Promise.all(e.map(s=>{if(s=Ya(s),s in cs)return;cs[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!t)for(let h=r.length-1;h>=0;h--){const d=r[h];if(d.href===s&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Ka,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>i()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function Tn(n,i){const e=Object.create(null),t=n.split(",");for(let r=0;r<t.length;r++)e[t[r]]=!0;return i?r=>!!e[r.toLowerCase()]:r=>!!e[r]}const Te={},oi=[],ct=()=>{},Qa=()=>!1,$a=/^on[^a-z]/,Pr=n=>$a.test(n),_n=n=>n.startsWith("onUpdate:"),ze=Object.assign,Sn=(n,i)=>{const e=n.indexOf(i);e>-1&&n.splice(e,1)},el=Object.prototype.hasOwnProperty,ge=(n,i)=>el.call(n,i),se=Array.isArray,ai=n=>Cr(n)==="[object Map]",_o=n=>Cr(n)==="[object Set]",he=n=>typeof n=="function",Ie=n=>typeof n=="string",En=n=>typeof n=="symbol",Se=n=>n!==null&&typeof n=="object",So=n=>Se(n)&&he(n.then)&&he(n.catch),Eo=Object.prototype.toString,Cr=n=>Eo.call(n),tl=n=>Cr(n).slice(8,-1),Po=n=>Cr(n)==="[object Object]",Pn=n=>Ie(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,or=Tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kr=n=>{const i=Object.create(null);return e=>i[e]||(i[e]=n(e))},il=/-(\w)/g,Ye=kr(n=>n.replace(il,(i,e)=>e?e.toUpperCase():"")),rl=/\B([A-Z])/g,nt=kr(n=>n.replace(rl,"-$1").toLowerCase()),Rr=kr(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ur=kr(n=>n?`on${Rr(n)}`:""),Ii=(n,i)=>!Object.is(n,i),jr=(n,i)=>{for(let e=0;e<n.length;e++)n[e](i)},pr=(n,i,e)=>{Object.defineProperty(n,i,{configurable:!0,enumerable:!1,value:e})},nl=n=>{const i=parseFloat(n);return isNaN(i)?n:i},hs=n=>{const i=Ie(n)?Number(n):NaN;return isNaN(i)?n:i};let us;const tn=()=>us||(us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cn(n){if(se(n)){const i={};for(let e=0;e<n.length;e++){const t=n[e],r=Ie(t)?ll(t):Cn(t);if(r)for(const s in r)i[s]=r[s]}return i}else{if(Ie(n))return n;if(Se(n))return n}}const sl=/;(?![^(]*\))/g,ol=/:([^]+)/,al=/\/\*[^]*?\*\//g;function ll(n){const i={};return n.replace(al,"").split(sl).forEach(e=>{if(e){const t=e.split(ol);t.length>1&&(i[t[0].trim()]=t[1].trim())}}),i}function Ar(n){let i="";if(Ie(n))i=n;else if(se(n))for(let e=0;e<n.length;e++){const t=Ar(n[e]);t&&(i+=t+" ")}else if(Se(n))for(const e in n)n[e]&&(i+=e+" ");return i.trim()}const cl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hl=Tn(cl);function Co(n){return!!n||n===""}const ds=n=>Ie(n)?n:n==null?"":se(n)||Se(n)&&(n.toString===Eo||!he(n.toString))?JSON.stringify(n,ko,2):String(n),ko=(n,i)=>i&&i.__v_isRef?ko(n,i.value):ai(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((e,[t,r])=>(e[`${t} =>`]=r,e),{})}:_o(i)?{[`Set(${i.size})`]:[...i.values()]}:Se(i)&&!se(i)&&!Po(i)?String(i):i;let rt;class ul{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!i&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const e=rt;try{return rt=this,i()}finally{rt=e}}}on(){rt=this}off(){rt=this.parent}stop(i){if(this._active){let e,t;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].stop();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!i){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function dl(n,i=rt){i&&i.active&&i.effects.push(n)}function fl(){return rt}const kn=n=>{const i=new Set(n);return i.w=0,i.n=0,i},Ro=n=>(n.w&Mt)>0,Ao=n=>(n.n&Mt)>0,pl=({deps:n})=>{if(n.length)for(let i=0;i<n.length;i++)n[i].w|=Mt},gl=n=>{const{deps:i}=n;if(i.length){let e=0;for(let t=0;t<i.length;t++){const r=i[t];Ro(r)&&!Ao(r)?r.delete(n):i[e++]=r,r.w&=~Mt,r.n&=~Mt}i.length=e}},rn=new WeakMap;let Ei=0,Mt=1;const nn=30;let st;const qt=Symbol(""),sn=Symbol("");class Rn{constructor(i,e=null,t){this.fn=i,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,dl(this,t)}run(){if(!this.active)return this.fn();let i=st,e=Dt;for(;i;){if(i===this)return;i=i.parent}try{return this.parent=st,st=this,Dt=!0,Mt=1<<++Ei,Ei<=nn?pl(this):fs(this),this.fn()}finally{Ei<=nn&&gl(this),Mt=1<<--Ei,st=this.parent,Dt=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){st===this?this.deferStop=!0:this.active&&(fs(this),this.onStop&&this.onStop(),this.active=!1)}}function fs(n){const{deps:i}=n;if(i.length){for(let e=0;e<i.length;e++)i[e].delete(n);i.length=0}}let Dt=!0;const Oo=[];function wi(){Oo.push(Dt),Dt=!1}function yi(){const n=Oo.pop();Dt=n===void 0?!0:n}function Xe(n,i,e){if(Dt&&st){let t=rn.get(n);t||rn.set(n,t=new Map);let r=t.get(e);r||t.set(e,r=kn()),zo(r)}}function zo(n,i){let e=!1;Ei<=nn?Ao(n)||(n.n|=Mt,e=!Ro(n)):e=!n.has(st),e&&(n.add(st),st.deps.push(n))}function St(n,i,e,t,r,s){const a=rn.get(n);if(!a)return;let o=[];if(i==="clear")o=[...a.values()];else if(e==="length"&&se(n)){const l=Number(t);a.forEach((c,h)=>{(h==="length"||h>=l)&&o.push(c)})}else switch(e!==void 0&&o.push(a.get(e)),i){case"add":se(n)?Pn(e)&&o.push(a.get("length")):(o.push(a.get(qt)),ai(n)&&o.push(a.get(sn)));break;case"delete":se(n)||(o.push(a.get(qt)),ai(n)&&o.push(a.get(sn)));break;case"set":ai(n)&&o.push(a.get(qt));break}if(o.length===1)o[0]&&on(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);on(kn(l))}}function on(n,i){const e=se(n)?n:[...n];for(const t of e)t.computed&&ps(t);for(const t of e)t.computed||ps(t)}function ps(n,i){(n!==st||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const ml=Tn("__proto__,__v_isRef,__isVue"),Do=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(En)),vl=An(),wl=An(!1,!0),yl=An(!0),gs=bl();function bl(){const n={};return["includes","indexOf","lastIndexOf"].forEach(i=>{n[i]=function(...e){const t=ve(this);for(let s=0,a=this.length;s<a;s++)Xe(t,"get",s+"");const r=t[i](...e);return r===-1||r===!1?t[i](...e.map(ve)):r}}),["push","pop","shift","unshift","splice"].forEach(i=>{n[i]=function(...e){wi();const t=ve(this)[i].apply(this,e);return yi(),t}}),n}function xl(n){const i=ve(this);return Xe(i,"has",n),i.hasOwnProperty(n)}function An(n=!1,i=!1){return function(t,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw"&&s===(n?i?Hl:Bo:i?Ho:Mo).get(t))return t;const a=se(t);if(!n){if(a&&ge(gs,r))return Reflect.get(gs,r,s);if(r==="hasOwnProperty")return xl}const o=Reflect.get(t,r,s);return(En(r)?Do.has(r):ml(r))||(n||Xe(t,"get",r),i)?o:je(o)?a&&Pn(r)?o:o.value:Se(o)?n?Fo(o):Dn(o):o}}const Tl=Lo(),_l=Lo(!0);function Lo(n=!1){return function(e,t,r,s){let a=e[t];if(hi(a)&&je(a)&&!je(r))return!1;if(!n&&(!gr(r)&&!hi(r)&&(a=ve(a),r=ve(r)),!se(e)&&je(a)&&!je(r)))return a.value=r,!0;const o=se(e)&&Pn(t)?Number(t)<e.length:ge(e,t),l=Reflect.set(e,t,r,s);return e===ve(s)&&(o?Ii(r,a)&&St(e,"set",t,r):St(e,"add",t,r)),l}}function Sl(n,i){const e=ge(n,i);n[i];const t=Reflect.deleteProperty(n,i);return t&&e&&St(n,"delete",i,void 0),t}function El(n,i){const e=Reflect.has(n,i);return(!En(i)||!Do.has(i))&&Xe(n,"has",i),e}function Pl(n){return Xe(n,"iterate",se(n)?"length":qt),Reflect.ownKeys(n)}const Io={get:vl,set:Tl,deleteProperty:Sl,has:El,ownKeys:Pl},Cl={get:yl,set(n,i){return!0},deleteProperty(n,i){return!0}},kl=ze({},Io,{get:wl,set:_l}),On=n=>n,Or=n=>Reflect.getPrototypeOf(n);function Ji(n,i,e=!1,t=!1){n=n.__v_raw;const r=ve(n),s=ve(i);e||(i!==s&&Xe(r,"get",i),Xe(r,"get",s));const{has:a}=Or(r),o=t?On:e?In:Mi;if(a.call(r,i))return o(n.get(i));if(a.call(r,s))return o(n.get(s));n!==r&&n.get(i)}function Qi(n,i=!1){const e=this.__v_raw,t=ve(e),r=ve(n);return i||(n!==r&&Xe(t,"has",n),Xe(t,"has",r)),n===r?e.has(n):e.has(n)||e.has(r)}function $i(n,i=!1){return n=n.__v_raw,!i&&Xe(ve(n),"iterate",qt),Reflect.get(n,"size",n)}function ms(n){n=ve(n);const i=ve(this);return Or(i).has.call(i,n)||(i.add(n),St(i,"add",n,n)),this}function vs(n,i){i=ve(i);const e=ve(this),{has:t,get:r}=Or(e);let s=t.call(e,n);s||(n=ve(n),s=t.call(e,n));const a=r.call(e,n);return e.set(n,i),s?Ii(i,a)&&St(e,"set",n,i):St(e,"add",n,i),this}function ws(n){const i=ve(this),{has:e,get:t}=Or(i);let r=e.call(i,n);r||(n=ve(n),r=e.call(i,n)),t&&t.call(i,n);const s=i.delete(n);return r&&St(i,"delete",n,void 0),s}function ys(){const n=ve(this),i=n.size!==0,e=n.clear();return i&&St(n,"clear",void 0,void 0),e}function er(n,i){return function(t,r){const s=this,a=s.__v_raw,o=ve(a),l=i?On:n?In:Mi;return!n&&Xe(o,"iterate",qt),a.forEach((c,h)=>t.call(r,l(c),l(h),s))}}function tr(n,i,e){return function(...t){const r=this.__v_raw,s=ve(r),a=ai(s),o=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,c=r[n](...t),h=e?On:i?In:Mi;return!i&&Xe(s,"iterate",l?sn:qt),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function Rt(n){return function(...i){return n==="delete"?!1:this}}function Rl(){const n={get(s){return Ji(this,s)},get size(){return $i(this)},has:Qi,add:ms,set:vs,delete:ws,clear:ys,forEach:er(!1,!1)},i={get(s){return Ji(this,s,!1,!0)},get size(){return $i(this)},has:Qi,add:ms,set:vs,delete:ws,clear:ys,forEach:er(!1,!0)},e={get(s){return Ji(this,s,!0)},get size(){return $i(this,!0)},has(s){return Qi.call(this,s,!0)},add:Rt("add"),set:Rt("set"),delete:Rt("delete"),clear:Rt("clear"),forEach:er(!0,!1)},t={get(s){return Ji(this,s,!0,!0)},get size(){return $i(this,!0)},has(s){return Qi.call(this,s,!0)},add:Rt("add"),set:Rt("set"),delete:Rt("delete"),clear:Rt("clear"),forEach:er(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=tr(s,!1,!1),e[s]=tr(s,!0,!1),i[s]=tr(s,!1,!0),t[s]=tr(s,!0,!0)}),[n,e,i,t]}const[Al,Ol,zl,Dl]=Rl();function zn(n,i){const e=i?n?Dl:zl:n?Ol:Al;return(t,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?t:Reflect.get(ge(e,r)&&r in t?e:t,r,s)}const Ll={get:zn(!1,!1)},Il={get:zn(!1,!0)},Ml={get:zn(!0,!1)},Mo=new WeakMap,Ho=new WeakMap,Bo=new WeakMap,Hl=new WeakMap;function Bl(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fl(n){return n.__v_skip||!Object.isExtensible(n)?0:Bl(tl(n))}function Dn(n){return hi(n)?n:Ln(n,!1,Io,Ll,Mo)}function Nl(n){return Ln(n,!1,kl,Il,Ho)}function Fo(n){return Ln(n,!0,Cl,Ml,Bo)}function Ln(n,i,e,t,r){if(!Se(n)||n.__v_raw&&!(i&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const a=Fl(n);if(a===0)return n;const o=new Proxy(n,a===2?t:e);return r.set(n,o),o}function li(n){return hi(n)?li(n.__v_raw):!!(n&&n.__v_isReactive)}function hi(n){return!!(n&&n.__v_isReadonly)}function gr(n){return!!(n&&n.__v_isShallow)}function No(n){return li(n)||hi(n)}function ve(n){const i=n&&n.__v_raw;return i?ve(i):n}function Uo(n){return pr(n,"__v_skip",!0),n}const Mi=n=>Se(n)?Dn(n):n,In=n=>Se(n)?Fo(n):n;function jo(n){Dt&&st&&(n=ve(n),zo(n.dep||(n.dep=kn())))}function Wo(n,i){n=ve(n);const e=n.dep;e&&on(e)}function je(n){return!!(n&&n.__v_isRef===!0)}function Re(n){return Ul(n,!1)}function Ul(n,i){return je(n)?n:new jl(n,i)}class jl{constructor(i,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?i:ve(i),this._value=e?i:Mi(i)}get value(){return jo(this),this._value}set value(i){const e=this.__v_isShallow||gr(i)||hi(i);i=e?i:ve(i),Ii(i,this._rawValue)&&(this._rawValue=i,this._value=e?i:Mi(i),Wo(this))}}function Wl(n){return je(n)?n.value:n}const Vl={get:(n,i,e)=>Wl(Reflect.get(n,i,e)),set:(n,i,e,t)=>{const r=n[i];return je(r)&&!je(e)?(r.value=e,!0):Reflect.set(n,i,e,t)}};function Vo(n){return li(n)?n:new Proxy(n,Vl)}class ql{constructor(i,e,t,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Rn(i,()=>{this._dirty||(this._dirty=!0,Wo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=t}get value(){const i=ve(this);return jo(i),(i._dirty||!i._cacheable)&&(i._dirty=!1,i._value=i.effect.run()),i._value}set value(i){this._setter(i)}}function Gl(n,i,e=!1){let t,r;const s=he(n);return s?(t=n,r=ct):(t=n.get,r=n.set),new ql(t,r,s||!r,e)}function Lt(n,i,e,t){let r;try{r=t?n(...t):n()}catch(s){zr(s,i,e)}return r}function ht(n,i,e,t){if(he(n)){const s=Lt(n,i,e,t);return s&&So(s)&&s.catch(a=>{zr(a,i,e)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(ht(n[s],i,e,t));return r}function zr(n,i,e,t=!0){const r=i?i.vnode:null;if(i){let s=i.parent;const a=i.proxy,o=e;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](n,a,o)===!1)return}s=s.parent}const l=i.appContext.config.errorHandler;if(l){Lt(l,null,10,[n,a,o]);return}}Zl(n,e,r,t)}function Zl(n,i,e,t=!0){console.error(n)}let Hi=!1,an=!1;const Ne=[];let mt=0;const ci=[];let xt=null,jt=0;const qo=Promise.resolve();let Mn=null;function Go(n){const i=Mn||qo;return n?i.then(this?n.bind(this):n):i}function Xl(n){let i=mt+1,e=Ne.length;for(;i<e;){const t=i+e>>>1;Bi(Ne[t])<n?i=t+1:e=t}return i}function Hn(n){(!Ne.length||!Ne.includes(n,Hi&&n.allowRecurse?mt+1:mt))&&(n.id==null?Ne.push(n):Ne.splice(Xl(n.id),0,n),Zo())}function Zo(){!Hi&&!an&&(an=!0,Mn=qo.then(Ko))}function Kl(n){const i=Ne.indexOf(n);i>mt&&Ne.splice(i,1)}function Yl(n){se(n)?ci.push(...n):(!xt||!xt.includes(n,n.allowRecurse?jt+1:jt))&&ci.push(n),Zo()}function bs(n,i=Hi?mt+1:0){for(;i<Ne.length;i++){const e=Ne[i];e&&e.pre&&(Ne.splice(i,1),i--,e())}}function Xo(n){if(ci.length){const i=[...new Set(ci)];if(ci.length=0,xt){xt.push(...i);return}for(xt=i,xt.sort((e,t)=>Bi(e)-Bi(t)),jt=0;jt<xt.length;jt++)xt[jt]();xt=null,jt=0}}const Bi=n=>n.id==null?1/0:n.id,Jl=(n,i)=>{const e=Bi(n)-Bi(i);if(e===0){if(n.pre&&!i.pre)return-1;if(i.pre&&!n.pre)return 1}return e};function Ko(n){an=!1,Hi=!0,Ne.sort(Jl);const i=ct;try{for(mt=0;mt<Ne.length;mt++){const e=Ne[mt];e&&e.active!==!1&&Lt(e,null,14)}}finally{mt=0,Ne.length=0,Xo(),Hi=!1,Mn=null,(Ne.length||ci.length)&&Ko()}}function Ql(n,i,...e){if(n.isUnmounted)return;const t=n.vnode.props||Te;let r=e;const s=i.startsWith("update:"),a=s&&i.slice(7);if(a&&a in t){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:f}=t[h]||Te;f&&(r=e.map(v=>Ie(v)?v.trim():v)),d&&(r=e.map(nl))}let o,l=t[o=Ur(i)]||t[o=Ur(Ye(i))];!l&&s&&(l=t[o=Ur(nt(i))]),l&&ht(l,n,6,r);const c=t[o+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,ht(c,n,6,r)}}function Yo(n,i,e=!1){const t=i.emitsCache,r=t.get(n);if(r!==void 0)return r;const s=n.emits;let a={},o=!1;if(!he(n)){const l=c=>{const h=Yo(c,i,!0);h&&(o=!0,ze(a,h))};!e&&i.mixins.length&&i.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!o?(Se(n)&&t.set(n,null),null):(se(s)?s.forEach(l=>a[l]=null):ze(a,s),Se(n)&&t.set(n,a),a)}function Dr(n,i){return!n||!Pr(i)?!1:(i=i.slice(2).replace(/Once$/,""),ge(n,i[0].toLowerCase()+i.slice(1))||ge(n,nt(i))||ge(n,i))}let ot=null,Jo=null;function mr(n){const i=ot;return ot=n,Jo=n&&n.type.__scopeId||null,i}function $l(n,i=ot,e){if(!i||n._n)return n;const t=(...r)=>{t._d&&Os(-1);const s=mr(i);let a;try{a=n(...r)}finally{mr(s),t._d&&Os(1)}return a};return t._n=!0,t._c=!0,t._d=!0,t}function Wr(n){const{type:i,vnode:e,proxy:t,withProxy:r,props:s,propsOptions:[a],slots:o,attrs:l,emit:c,render:h,renderCache:d,data:f,setupState:v,ctx:w,inheritAttrs:x}=n;let b,_;const A=mr(n);try{if(e.shapeFlag&4){const I=r||t;b=gt(h.call(I,I,d,s,v,f,w)),_=l}else{const I=i;b=gt(I.length>1?I(s,{attrs:l,slots:o,emit:c}):I(s,null)),_=i.props?l:ec(l)}}catch(I){ki.length=0,zr(I,n,1),b=ut(Xt)}let D=b;if(_&&x!==!1){const I=Object.keys(_),{shapeFlag:W}=D;I.length&&W&7&&(a&&I.some(_n)&&(_=tc(_,a)),D=ui(D,_))}return e.dirs&&(D=ui(D),D.dirs=D.dirs?D.dirs.concat(e.dirs):e.dirs),e.transition&&(D.transition=e.transition),b=D,mr(A),b}const ec=n=>{let i;for(const e in n)(e==="class"||e==="style"||Pr(e))&&((i||(i={}))[e]=n[e]);return i},tc=(n,i)=>{const e={};for(const t in n)(!_n(t)||!(t.slice(9)in i))&&(e[t]=n[t]);return e};function ic(n,i,e){const{props:t,children:r,component:s}=n,{props:a,children:o,patchFlag:l}=i,c=s.emitsOptions;if(i.dirs||i.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return t?xs(t,a,c):!!a;if(l&8){const h=i.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(a[f]!==t[f]&&!Dr(c,f))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:t===a?!1:t?a?xs(t,a,c):!0:!!a;return!1}function xs(n,i,e){const t=Object.keys(i);if(t.length!==Object.keys(n).length)return!0;for(let r=0;r<t.length;r++){const s=t[r];if(i[s]!==n[s]&&!Dr(e,s))return!0}return!1}function rc({vnode:n,parent:i},e){for(;i&&i.subTree===n;)(n=i.vnode).el=e,i=i.parent}const nc=n=>n.__isSuspense;function sc(n,i){i&&i.pendingBranch?se(n)?i.effects.push(...n):i.effects.push(n):Yl(n)}const ir={};function Ue(n,i,e){return Qo(n,i,e)}function Qo(n,i,{immediate:e,deep:t,flush:r,onTrack:s,onTrigger:a}=Te){var o;const l=fl()===((o=Me)==null?void 0:o.scope)?Me:null;let c,h=!1,d=!1;if(je(n)?(c=()=>n.value,h=gr(n)):li(n)?(c=()=>n,t=!0):se(n)?(d=!0,h=n.some(I=>li(I)||gr(I)),c=()=>n.map(I=>{if(je(I))return I.value;if(li(I))return si(I);if(he(I))return Lt(I,l,2)})):he(n)?i?c=()=>Lt(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),ht(n,l,3,[v])}:c=ct,i&&t){const I=c;c=()=>si(I())}let f,v=I=>{f=A.onStop=()=>{Lt(I,l,4)}},w;if(Ni)if(v=ct,i?e&&ht(i,l,3,[c(),d?[]:void 0,v]):c(),r==="sync"){const I=th();w=I.__watcherHandles||(I.__watcherHandles=[])}else return ct;let x=d?new Array(n.length).fill(ir):ir;const b=()=>{if(A.active)if(i){const I=A.run();(t||h||(d?I.some((W,q)=>Ii(W,x[q])):Ii(I,x)))&&(f&&f(),ht(i,l,3,[I,x===ir?void 0:d&&x[0]===ir?[]:x,v]),x=I)}else A.run()};b.allowRecurse=!!i;let _;r==="sync"?_=b:r==="post"?_=()=>qe(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),_=()=>Hn(b));const A=new Rn(c,_);i?e?b():x=A.run():r==="post"?qe(A.run.bind(A),l&&l.suspense):A.run();const D=()=>{A.stop(),l&&l.scope&&Sn(l.scope.effects,A)};return w&&w.push(D),D}function oc(n,i,e){const t=this.proxy,r=Ie(n)?n.includes(".")?$o(t,n):()=>t[n]:n.bind(t,t);let s;he(i)?s=i:(s=i.handler,e=i);const a=Me;di(this);const o=Qo(r,s.bind(t),e);return a?di(a):Gt(),o}function $o(n,i){const e=i.split(".");return()=>{let t=n;for(let r=0;r<e.length&&t;r++)t=t[e[r]];return t}}function si(n,i){if(!Se(n)||n.__v_skip||(i=i||new Set,i.has(n)))return n;if(i.add(n),je(n))si(n.value,i);else if(se(n))for(let e=0;e<n.length;e++)si(n[e],i);else if(_o(n)||ai(n))n.forEach(e=>{si(e,i)});else if(Po(n))for(const e in n)si(n[e],i);return n}function Ft(n,i,e,t){const r=n.dirs,s=i&&i.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[t];l&&(wi(),ht(l,e,8,[n.el,o,n,i]),yi())}}function Pt(n,i){return he(n)?(()=>ze({name:n.name},i,{setup:n}))():n}const ar=n=>!!n.type.__asyncLoader,ea=n=>n.type.__isKeepAlive;function ac(n,i){ta(n,"a",i)}function lc(n,i){ta(n,"da",i)}function ta(n,i,e=Me){const t=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Lr(i,t,e),e){let r=e.parent;for(;r&&r.parent;)ea(r.parent.vnode)&&cc(t,i,e,r),r=r.parent}}function cc(n,i,e,t){const r=Lr(i,n,t,!0);ia(()=>{Sn(t[i],r)},e)}function Lr(n,i,e=Me,t=!1){if(e){const r=e[n]||(e[n]=[]),s=i.__weh||(i.__weh=(...a)=>{if(e.isUnmounted)return;wi(),di(e);const o=ht(i,e,n,a);return Gt(),yi(),o});return t?r.unshift(s):r.push(s),s}}const Ct=n=>(i,e=Me)=>(!Ni||n==="sp")&&Lr(n,(...t)=>i(...t),e),hc=Ct("bm"),Ht=Ct("m"),uc=Ct("bu"),dc=Ct("u"),fc=Ct("bum"),ia=Ct("um"),pc=Ct("sp"),gc=Ct("rtg"),mc=Ct("rtc");function vc(n,i=Me){Lr("ec",n,i)}const ra="components";function wc(n,i){return bc(ra,n,!0,i)||n}const yc=Symbol.for("v-ndc");function bc(n,i,e=!0,t=!1){const r=ot||Me;if(r){const s=r.type;if(n===ra){const o=Qc(s,!1);if(o&&(o===i||o===Ye(i)||o===Rr(Ye(i))))return s}const a=Ts(r[n]||s[n],i)||Ts(r.appContext[n],i);return!a&&t?s:a}}function Ts(n,i){return n&&(n[i]||n[Ye(i)]||n[Rr(Ye(i))])}const ln=n=>n?ga(n)?Wn(n)||n.proxy:ln(n.parent):null,Ci=ze(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ln(n.parent),$root:n=>ln(n.root),$emit:n=>n.emit,$options:n=>Bn(n),$forceUpdate:n=>n.f||(n.f=()=>Hn(n.update)),$nextTick:n=>n.n||(n.n=Go.bind(n.proxy)),$watch:n=>oc.bind(n)}),Vr=(n,i)=>n!==Te&&!n.__isScriptSetup&&ge(n,i),xc={get({_:n},i){const{ctx:e,setupState:t,data:r,props:s,accessCache:a,type:o,appContext:l}=n;let c;if(i[0]!=="$"){const v=a[i];if(v!==void 0)switch(v){case 1:return t[i];case 2:return r[i];case 4:return e[i];case 3:return s[i]}else{if(Vr(t,i))return a[i]=1,t[i];if(r!==Te&&ge(r,i))return a[i]=2,r[i];if((c=n.propsOptions[0])&&ge(c,i))return a[i]=3,s[i];if(e!==Te&&ge(e,i))return a[i]=4,e[i];cn&&(a[i]=0)}}const h=Ci[i];let d,f;if(h)return i==="$attrs"&&Xe(n,"get",i),h(n);if((d=o.__cssModules)&&(d=d[i]))return d;if(e!==Te&&ge(e,i))return a[i]=4,e[i];if(f=l.config.globalProperties,ge(f,i))return f[i]},set({_:n},i,e){const{data:t,setupState:r,ctx:s}=n;return Vr(r,i)?(r[i]=e,!0):t!==Te&&ge(t,i)?(t[i]=e,!0):ge(n.props,i)||i[0]==="$"&&i.slice(1)in n?!1:(s[i]=e,!0)},has({_:{data:n,setupState:i,accessCache:e,ctx:t,appContext:r,propsOptions:s}},a){let o;return!!e[a]||n!==Te&&ge(n,a)||Vr(i,a)||(o=s[0])&&ge(o,a)||ge(t,a)||ge(Ci,a)||ge(r.config.globalProperties,a)},defineProperty(n,i,e){return e.get!=null?n._.accessCache[i]=0:ge(e,"value")&&this.set(n,i,e.value,null),Reflect.defineProperty(n,i,e)}};function _s(n){return se(n)?n.reduce((i,e)=>(i[e]=null,i),{}):n}let cn=!0;function Tc(n){const i=Bn(n),e=n.proxy,t=n.ctx;cn=!1,i.beforeCreate&&Ss(i.beforeCreate,n,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:v,updated:w,activated:x,deactivated:b,beforeDestroy:_,beforeUnmount:A,destroyed:D,unmounted:I,render:W,renderTracked:q,renderTriggered:Y,errorCaptured:X,serverPrefetch:Q,expose:ne,inheritAttrs:oe,components:ue,directives:de,filters:_e}=i;if(c&&_c(c,t,null),a)for(const te in a){const le=a[te];he(le)&&(t[te]=le.bind(e))}if(r){const te=r.call(e,e);Se(te)&&(n.data=Dn(te))}if(cn=!0,s)for(const te in s){const le=s[te],xe=he(le)?le.bind(e,e):he(le.get)?le.get.bind(e,e):ct,H=!he(le)&&he(le.set)?le.set.bind(e):ct,M=Ee({get:xe,set:H});Object.defineProperty(t,te,{enumerable:!0,configurable:!0,get:()=>M.value,set:G=>M.value=G})}if(o)for(const te in o)na(o[te],t,e,te);if(l){const te=he(l)?l.call(e):l;Reflect.ownKeys(te).forEach(le=>{Rc(le,te[le])})}h&&Ss(h,n,"c");function ae(te,le){se(le)?le.forEach(xe=>te(xe.bind(e))):le&&te(le.bind(e))}if(ae(hc,d),ae(Ht,f),ae(uc,v),ae(dc,w),ae(ac,x),ae(lc,b),ae(vc,X),ae(mc,q),ae(gc,Y),ae(fc,A),ae(ia,I),ae(pc,Q),se(ne))if(ne.length){const te=n.exposed||(n.exposed={});ne.forEach(le=>{Object.defineProperty(te,le,{get:()=>e[le],set:xe=>e[le]=xe})})}else n.exposed||(n.exposed={});W&&n.render===ct&&(n.render=W),oe!=null&&(n.inheritAttrs=oe),ue&&(n.components=ue),de&&(n.directives=de)}function _c(n,i,e=ct){se(n)&&(n=hn(n));for(const t in n){const r=n[t];let s;Se(r)?"default"in r?s=lr(r.from||t,r.default,!0):s=lr(r.from||t):s=lr(r),je(s)?Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):i[t]=s}}function Ss(n,i,e){ht(se(n)?n.map(t=>t.bind(i.proxy)):n.bind(i.proxy),i,e)}function na(n,i,e,t){const r=t.includes(".")?$o(e,t):()=>e[t];if(Ie(n)){const s=i[n];he(s)&&Ue(r,s)}else if(he(n))Ue(r,n.bind(e));else if(Se(n))if(se(n))n.forEach(s=>na(s,i,e,t));else{const s=he(n.handler)?n.handler.bind(e):i[n.handler];he(s)&&Ue(r,s,n)}}function Bn(n){const i=n.type,{mixins:e,extends:t}=i,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=n.appContext,o=s.get(i);let l;return o?l=o:!r.length&&!e&&!t?l=i:(l={},r.length&&r.forEach(c=>vr(l,c,a,!0)),vr(l,i,a)),Se(i)&&s.set(i,l),l}function vr(n,i,e,t=!1){const{mixins:r,extends:s}=i;s&&vr(n,s,e,!0),r&&r.forEach(a=>vr(n,a,e,!0));for(const a in i)if(!(t&&a==="expose")){const o=Sc[a]||e&&e[a];n[a]=o?o(n[a],i[a]):i[a]}return n}const Sc={data:Es,props:Ps,emits:Ps,methods:Pi,computed:Pi,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Pi,directives:Pi,watch:Pc,provide:Es,inject:Ec};function Es(n,i){return i?n?function(){return ze(he(n)?n.call(this,this):n,he(i)?i.call(this,this):i)}:i:n}function Ec(n,i){return Pi(hn(n),hn(i))}function hn(n){if(se(n)){const i={};for(let e=0;e<n.length;e++)i[n[e]]=n[e];return i}return n}function We(n,i){return n?[...new Set([].concat(n,i))]:i}function Pi(n,i){return n?ze(Object.create(null),n,i):i}function Ps(n,i){return n?se(n)&&se(i)?[...new Set([...n,...i])]:ze(Object.create(null),_s(n),_s(i??{})):i}function Pc(n,i){if(!n)return i;if(!i)return n;const e=ze(Object.create(null),n);for(const t in i)e[t]=We(n[t],i[t]);return e}function sa(){return{app:null,config:{isNativeTag:Qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cc=0;function kc(n,i){return function(t,r=null){he(t)||(t=ze({},t)),r!=null&&!Se(r)&&(r=null);const s=sa(),a=new Set;let o=!1;const l=s.app={_uid:Cc++,_component:t,_props:r,_container:null,_context:s,_instance:null,version:ih,get config(){return s.config},set config(c){},use(c,...h){return a.has(c)||(c&&he(c.install)?(a.add(c),c.install(l,...h)):he(c)&&(a.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,d){if(!o){const f=ut(t,r);return f.appContext=s,h&&i?i(f,c):n(f,c,d),o=!0,l._container=c,c.__vue_app__=l,Wn(f.component)||f.component.proxy}},unmount(){o&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l},runWithContext(c){wr=l;try{return c()}finally{wr=null}}};return l}}let wr=null;function Rc(n,i){if(Me){let e=Me.provides;const t=Me.parent&&Me.parent.provides;t===e&&(e=Me.provides=Object.create(t)),e[n]=i}}function lr(n,i,e=!1){const t=Me||ot;if(t||wr){const r=t?t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides:wr._context.provides;if(r&&n in r)return r[n];if(arguments.length>1)return e&&he(i)?i.call(t&&t.proxy):i}}function Ac(n,i,e,t=!1){const r={},s={};pr(s,Mr,1),n.propsDefaults=Object.create(null),oa(n,i,r,s);for(const a in n.propsOptions[0])a in r||(r[a]=void 0);e?n.props=t?r:Nl(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function Oc(n,i,e,t){const{props:r,attrs:s,vnode:{patchFlag:a}}=n,o=ve(r),[l]=n.propsOptions;let c=!1;if((t||a>0)&&!(a&16)){if(a&8){const h=n.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Dr(n.emitsOptions,f))continue;const v=i[f];if(l)if(ge(s,f))v!==s[f]&&(s[f]=v,c=!0);else{const w=Ye(f);r[w]=un(l,o,w,v,n,!1)}else v!==s[f]&&(s[f]=v,c=!0)}}}else{oa(n,i,r,s)&&(c=!0);let h;for(const d in o)(!i||!ge(i,d)&&((h=nt(d))===d||!ge(i,h)))&&(l?e&&(e[d]!==void 0||e[h]!==void 0)&&(r[d]=un(l,o,d,void 0,n,!0)):delete r[d]);if(s!==o)for(const d in s)(!i||!ge(i,d))&&(delete s[d],c=!0)}c&&St(n,"set","$attrs")}function oa(n,i,e,t){const[r,s]=n.propsOptions;let a=!1,o;if(i)for(let l in i){if(or(l))continue;const c=i[l];let h;r&&ge(r,h=Ye(l))?!s||!s.includes(h)?e[h]=c:(o||(o={}))[h]=c:Dr(n.emitsOptions,l)||(!(l in t)||c!==t[l])&&(t[l]=c,a=!0)}if(s){const l=ve(e),c=o||Te;for(let h=0;h<s.length;h++){const d=s[h];e[d]=un(r,l,d,c[d],n,!ge(c,d))}}return a}function un(n,i,e,t,r,s){const a=n[e];if(a!=null){const o=ge(a,"default");if(o&&t===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&he(l)){const{propsDefaults:c}=r;e in c?t=c[e]:(di(r),t=c[e]=l.call(null,i),Gt())}else t=l}a[0]&&(s&&!o?t=!1:a[1]&&(t===""||t===nt(e))&&(t=!0))}return t}function aa(n,i,e=!1){const t=i.propsCache,r=t.get(n);if(r)return r;const s=n.props,a={},o=[];let l=!1;if(!he(n)){const h=d=>{l=!0;const[f,v]=aa(d,i,!0);ze(a,f),v&&o.push(...v)};!e&&i.mixins.length&&i.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!s&&!l)return Se(n)&&t.set(n,oi),oi;if(se(s))for(let h=0;h<s.length;h++){const d=Ye(s[h]);Cs(d)&&(a[d]=Te)}else if(s)for(const h in s){const d=Ye(h);if(Cs(d)){const f=s[h],v=a[d]=se(f)||he(f)?{type:f}:ze({},f);if(v){const w=As(Boolean,v.type),x=As(String,v.type);v[0]=w>-1,v[1]=x<0||w<x,(w>-1||ge(v,"default"))&&o.push(d)}}}const c=[a,o];return Se(n)&&t.set(n,c),c}function Cs(n){return n[0]!=="$"}function ks(n){const i=n&&n.toString().match(/^\s*(function|class) (\w+)/);return i?i[2]:n===null?"null":""}function Rs(n,i){return ks(n)===ks(i)}function As(n,i){return se(i)?i.findIndex(e=>Rs(e,n)):he(i)&&Rs(i,n)?0:-1}const la=n=>n[0]==="_"||n==="$stable",Fn=n=>se(n)?n.map(gt):[gt(n)],zc=(n,i,e)=>{if(i._n)return i;const t=$l((...r)=>Fn(i(...r)),e);return t._c=!1,t},ca=(n,i,e)=>{const t=n._ctx;for(const r in n){if(la(r))continue;const s=n[r];if(he(s))i[r]=zc(r,s,t);else if(s!=null){const a=Fn(s);i[r]=()=>a}}},ha=(n,i)=>{const e=Fn(i);n.slots.default=()=>e},Dc=(n,i)=>{if(n.vnode.shapeFlag&32){const e=i._;e?(n.slots=ve(i),pr(i,"_",e)):ca(i,n.slots={})}else n.slots={},i&&ha(n,i);pr(n.slots,Mr,1)},Lc=(n,i,e)=>{const{vnode:t,slots:r}=n;let s=!0,a=Te;if(t.shapeFlag&32){const o=i._;o?e&&o===1?s=!1:(ze(r,i),!e&&o===1&&delete r._):(s=!i.$stable,ca(i,r)),a=i}else i&&(ha(n,i),a={default:1});if(s)for(const o in r)!la(o)&&!(o in a)&&delete r[o]};function dn(n,i,e,t,r=!1){if(se(n)){n.forEach((f,v)=>dn(f,i&&(se(i)?i[v]:i),e,t,r));return}if(ar(t)&&!r)return;const s=t.shapeFlag&4?Wn(t.component)||t.component.proxy:t.el,a=r?null:s,{i:o,r:l}=n,c=i&&i.r,h=o.refs===Te?o.refs={}:o.refs,d=o.setupState;if(c!=null&&c!==l&&(Ie(c)?(h[c]=null,ge(d,c)&&(d[c]=null)):je(c)&&(c.value=null)),he(l))Lt(l,o,12,[a,h]);else{const f=Ie(l),v=je(l);if(f||v){const w=()=>{if(n.f){const x=f?ge(d,l)?d[l]:h[l]:l.value;r?se(x)&&Sn(x,s):se(x)?x.includes(s)||x.push(s):f?(h[l]=[s],ge(d,l)&&(d[l]=h[l])):(l.value=[s],n.k&&(h[n.k]=l.value))}else f?(h[l]=a,ge(d,l)&&(d[l]=a)):v&&(l.value=a,n.k&&(h[n.k]=a))};a?(w.id=-1,qe(w,e)):w()}}}const qe=sc;function Ic(n){return Mc(n)}function Mc(n,i){const e=tn();e.__VUE__=!0;const{insert:t,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:v=ct,insertStaticContent:w}=n,x=(S,C,L,u=null,m=null,E=null,k=!1,P=null,O=!!C.dynamicChildren)=>{if(S===C)return;S&&!xi(S,C)&&(u=Pe(S),G(S,m,E,!0),S=null),C.patchFlag===-2&&(O=!1,C.dynamicChildren=null);const{type:R,ref:U,shapeFlag:N}=C;switch(R){case Ir:b(S,C,L,u);break;case Xt:_(S,C,L,u);break;case cr:S==null&&A(C,L,u,k);break;case Tt:ue(S,C,L,u,m,E,k,P,O);break;default:N&1?W(S,C,L,u,m,E,k,P,O):N&6?de(S,C,L,u,m,E,k,P,O):(N&64||N&128)&&R.process(S,C,L,u,m,E,k,P,O,He)}U!=null&&m&&dn(U,S&&S.ref,E,C||S,!C)},b=(S,C,L,u)=>{if(S==null)t(C.el=o(C.children),L,u);else{const m=C.el=S.el;C.children!==S.children&&c(m,C.children)}},_=(S,C,L,u)=>{S==null?t(C.el=l(C.children||""),L,u):C.el=S.el},A=(S,C,L,u)=>{[S.el,S.anchor]=w(S.children,C,L,u,S.el,S.anchor)},D=({el:S,anchor:C},L,u)=>{let m;for(;S&&S!==C;)m=f(S),t(S,L,u),S=m;t(C,L,u)},I=({el:S,anchor:C})=>{let L;for(;S&&S!==C;)L=f(S),r(S),S=L;r(C)},W=(S,C,L,u,m,E,k,P,O)=>{k=k||C.type==="svg",S==null?q(C,L,u,m,E,k,P,O):Q(S,C,m,E,k,P,O)},q=(S,C,L,u,m,E,k,P)=>{let O,R;const{type:U,props:N,shapeFlag:j,transition:F,dirs:J}=S;if(O=S.el=a(S.type,E,N&&N.is,N),j&8?h(O,S.children):j&16&&X(S.children,O,null,u,m,E&&U!=="foreignObject",k,P),J&&Ft(S,null,u,"created"),Y(O,S,S.scopeId,k,u),N){for(const ie in N)ie!=="value"&&!or(ie)&&s(O,ie,null,N[ie],E,S.children,u,m,be);"value"in N&&s(O,"value",null,N.value),(R=N.onVnodeBeforeMount)&&ft(R,u,S)}J&&Ft(S,null,u,"beforeMount");const K=(!m||m&&!m.pendingBranch)&&F&&!F.persisted;K&&F.beforeEnter(O),t(O,C,L),((R=N&&N.onVnodeMounted)||K||J)&&qe(()=>{R&&ft(R,u,S),K&&F.enter(O),J&&Ft(S,null,u,"mounted")},m)},Y=(S,C,L,u,m)=>{if(L&&v(S,L),u)for(let E=0;E<u.length;E++)v(S,u[E]);if(m){let E=m.subTree;if(C===E){const k=m.vnode;Y(S,k,k.scopeId,k.slotScopeIds,m.parent)}}},X=(S,C,L,u,m,E,k,P,O=0)=>{for(let R=O;R<S.length;R++){const U=S[R]=P?Ot(S[R]):gt(S[R]);x(null,U,C,L,u,m,E,k,P)}},Q=(S,C,L,u,m,E,k)=>{const P=C.el=S.el;let{patchFlag:O,dynamicChildren:R,dirs:U}=C;O|=S.patchFlag&16;const N=S.props||Te,j=C.props||Te;let F;L&&Nt(L,!1),(F=j.onVnodeBeforeUpdate)&&ft(F,L,C,S),U&&Ft(C,S,L,"beforeUpdate"),L&&Nt(L,!0);const J=m&&C.type!=="foreignObject";if(R?ne(S.dynamicChildren,R,P,L,u,J,E):k||le(S,C,P,null,L,u,J,E,!1),O>0){if(O&16)oe(P,C,N,j,L,u,m);else if(O&2&&N.class!==j.class&&s(P,"class",null,j.class,m),O&4&&s(P,"style",N.style,j.style,m),O&8){const K=C.dynamicProps;for(let ie=0;ie<K.length;ie++){const g=K[ie],p=N[g],y=j[g];(y!==p||g==="value")&&s(P,g,p,y,m,S.children,L,u,be)}}O&1&&S.children!==C.children&&h(P,C.children)}else!k&&R==null&&oe(P,C,N,j,L,u,m);((F=j.onVnodeUpdated)||U)&&qe(()=>{F&&ft(F,L,C,S),U&&Ft(C,S,L,"updated")},u)},ne=(S,C,L,u,m,E,k)=>{for(let P=0;P<C.length;P++){const O=S[P],R=C[P],U=O.el&&(O.type===Tt||!xi(O,R)||O.shapeFlag&70)?d(O.el):L;x(O,R,U,null,u,m,E,k,!0)}},oe=(S,C,L,u,m,E,k)=>{if(L!==u){if(L!==Te)for(const P in L)!or(P)&&!(P in u)&&s(S,P,L[P],null,k,C.children,m,E,be);for(const P in u){if(or(P))continue;const O=u[P],R=L[P];O!==R&&P!=="value"&&s(S,P,R,O,k,C.children,m,E,be)}"value"in u&&s(S,"value",L.value,u.value)}},ue=(S,C,L,u,m,E,k,P,O)=>{const R=C.el=S?S.el:o(""),U=C.anchor=S?S.anchor:o("");let{patchFlag:N,dynamicChildren:j,slotScopeIds:F}=C;F&&(P=P?P.concat(F):F),S==null?(t(R,L,u),t(U,L,u),X(C.children,L,U,m,E,k,P,O)):N>0&&N&64&&j&&S.dynamicChildren?(ne(S.dynamicChildren,j,L,m,E,k,P),(C.key!=null||m&&C===m.subTree)&&ua(S,C,!0)):le(S,C,L,U,m,E,k,P,O)},de=(S,C,L,u,m,E,k,P,O)=>{C.slotScopeIds=P,S==null?C.shapeFlag&512?m.ctx.activate(C,L,u,k,O):_e(C,L,u,m,E,k,O):Ae(S,C,O)},_e=(S,C,L,u,m,E,k)=>{const P=S.component=Zc(S,u,m);if(ea(S)&&(P.ctx.renderer=He),Xc(P),P.asyncDep){if(m&&m.registerDep(P,ae),!S.el){const O=P.subTree=ut(Xt);_(null,O,C,L)}return}ae(P,S,C,L,m,E,k)},Ae=(S,C,L)=>{const u=C.component=S.component;if(ic(S,C,L))if(u.asyncDep&&!u.asyncResolved){te(u,C,L);return}else u.next=C,Kl(u.update),u.update();else C.el=S.el,u.vnode=C},ae=(S,C,L,u,m,E,k)=>{const P=()=>{if(S.isMounted){let{next:U,bu:N,u:j,parent:F,vnode:J}=S,K=U,ie;Nt(S,!1),U?(U.el=J.el,te(S,U,k)):U=J,N&&jr(N),(ie=U.props&&U.props.onVnodeBeforeUpdate)&&ft(ie,F,U,J),Nt(S,!0);const g=Wr(S),p=S.subTree;S.subTree=g,x(p,g,d(p.el),Pe(p),S,m,E),U.el=g.el,K===null&&rc(S,g.el),j&&qe(j,m),(ie=U.props&&U.props.onVnodeUpdated)&&qe(()=>ft(ie,F,U,J),m)}else{let U;const{el:N,props:j}=C,{bm:F,m:J,parent:K}=S,ie=ar(C);if(Nt(S,!1),F&&jr(F),!ie&&(U=j&&j.onVnodeBeforeMount)&&ft(U,K,C),Nt(S,!0),N&&$e){const g=()=>{S.subTree=Wr(S),$e(N,S.subTree,S,m,null)};ie?C.type.__asyncLoader().then(()=>!S.isUnmounted&&g()):g()}else{const g=S.subTree=Wr(S);x(null,g,L,u,S,m,E),C.el=g.el}if(J&&qe(J,m),!ie&&(U=j&&j.onVnodeMounted)){const g=C;qe(()=>ft(U,K,g),m)}(C.shapeFlag&256||K&&ar(K.vnode)&&K.vnode.shapeFlag&256)&&S.a&&qe(S.a,m),S.isMounted=!0,C=L=u=null}},O=S.effect=new Rn(P,()=>Hn(R),S.scope),R=S.update=()=>O.run();R.id=S.uid,Nt(S,!0),R()},te=(S,C,L)=>{C.component=S;const u=S.vnode.props;S.vnode=C,S.next=null,Oc(S,C.props,u,L),Lc(S,C.children,L),wi(),bs(),yi()},le=(S,C,L,u,m,E,k,P,O=!1)=>{const R=S&&S.children,U=S?S.shapeFlag:0,N=C.children,{patchFlag:j,shapeFlag:F}=C;if(j>0){if(j&128){H(R,N,L,u,m,E,k,P,O);return}else if(j&256){xe(R,N,L,u,m,E,k,P,O);return}}F&8?(U&16&&be(R,m,E),N!==R&&h(L,N)):U&16?F&16?H(R,N,L,u,m,E,k,P,O):be(R,m,E,!0):(U&8&&h(L,""),F&16&&X(N,L,u,m,E,k,P,O))},xe=(S,C,L,u,m,E,k,P,O)=>{S=S||oi,C=C||oi;const R=S.length,U=C.length,N=Math.min(R,U);let j;for(j=0;j<N;j++){const F=C[j]=O?Ot(C[j]):gt(C[j]);x(S[j],F,L,null,m,E,k,P,O)}R>U?be(S,m,E,!0,!1,N):X(C,L,u,m,E,k,P,O,N)},H=(S,C,L,u,m,E,k,P,O)=>{let R=0;const U=C.length;let N=S.length-1,j=U-1;for(;R<=N&&R<=j;){const F=S[R],J=C[R]=O?Ot(C[R]):gt(C[R]);if(xi(F,J))x(F,J,L,null,m,E,k,P,O);else break;R++}for(;R<=N&&R<=j;){const F=S[N],J=C[j]=O?Ot(C[j]):gt(C[j]);if(xi(F,J))x(F,J,L,null,m,E,k,P,O);else break;N--,j--}if(R>N){if(R<=j){const F=j+1,J=F<U?C[F].el:u;for(;R<=j;)x(null,C[R]=O?Ot(C[R]):gt(C[R]),L,J,m,E,k,P,O),R++}}else if(R>j)for(;R<=N;)G(S[R],m,E,!0),R++;else{const F=R,J=R,K=new Map;for(R=J;R<=j;R++){const Z=C[R]=O?Ot(C[R]):gt(C[R]);Z.key!=null&&K.set(Z.key,R)}let ie,g=0;const p=j-J+1;let y=!1,T=0;const z=new Array(p);for(R=0;R<p;R++)z[R]=0;for(R=F;R<=N;R++){const Z=S[R];if(g>=p){G(Z,m,E,!0);continue}let ce;if(Z.key!=null)ce=K.get(Z.key);else for(ie=J;ie<=j;ie++)if(z[ie-J]===0&&xi(Z,C[ie])){ce=ie;break}ce===void 0?G(Z,m,E,!0):(z[ce-J]=R+1,ce>=T?T=ce:y=!0,x(Z,C[ce],L,null,m,E,k,P,O),g++)}const B=y?Hc(z):oi;for(ie=B.length-1,R=p-1;R>=0;R--){const Z=J+R,ce=C[Z],ee=Z+1<U?C[Z+1].el:u;z[R]===0?x(null,ce,L,ee,m,E,k,P,O):y&&(ie<0||R!==B[ie]?M(ce,L,ee,2):ie--)}}},M=(S,C,L,u,m=null)=>{const{el:E,type:k,transition:P,children:O,shapeFlag:R}=S;if(R&6){M(S.component.subTree,C,L,u);return}if(R&128){S.suspense.move(C,L,u);return}if(R&64){k.move(S,C,L,He);return}if(k===Tt){t(E,C,L);for(let N=0;N<O.length;N++)M(O[N],C,L,u);t(S.anchor,C,L);return}if(k===cr){D(S,C,L);return}if(u!==2&&R&1&&P)if(u===0)P.beforeEnter(E),t(E,C,L),qe(()=>P.enter(E),m);else{const{leave:N,delayLeave:j,afterLeave:F}=P,J=()=>t(E,C,L),K=()=>{N(E,()=>{J(),F&&F()})};j?j(E,J,K):K()}else t(E,C,L)},G=(S,C,L,u=!1,m=!1)=>{const{type:E,props:k,ref:P,children:O,dynamicChildren:R,shapeFlag:U,patchFlag:N,dirs:j}=S;if(P!=null&&dn(P,null,L,S,!0),U&256){C.ctx.deactivate(S);return}const F=U&1&&j,J=!ar(S);let K;if(J&&(K=k&&k.onVnodeBeforeUnmount)&&ft(K,C,S),U&6)ye(S.component,L,u);else{if(U&128){S.suspense.unmount(L,u);return}F&&Ft(S,null,C,"beforeUnmount"),U&64?S.type.remove(S,C,L,m,He,u):R&&(E!==Tt||N>0&&N&64)?be(R,C,L,!1,!0):(E===Tt&&N&384||!m&&U&16)&&be(O,C,L),u&&re(S)}(J&&(K=k&&k.onVnodeUnmounted)||F)&&qe(()=>{K&&ft(K,C,S),F&&Ft(S,null,C,"unmounted")},L)},re=S=>{const{type:C,el:L,anchor:u,transition:m}=S;if(C===Tt){fe(L,u);return}if(C===cr){I(S);return}const E=()=>{r(L),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(S.shapeFlag&1&&m&&!m.persisted){const{leave:k,delayLeave:P}=m,O=()=>k(L,E);P?P(S.el,E,O):O()}else E()},fe=(S,C)=>{let L;for(;S!==C;)L=f(S),r(S),S=L;r(C)},ye=(S,C,L)=>{const{bum:u,scope:m,update:E,subTree:k,um:P}=S;u&&jr(u),m.stop(),E&&(E.active=!1,G(k,S,C,L)),P&&qe(P,C),qe(()=>{S.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},be=(S,C,L,u=!1,m=!1,E=0)=>{for(let k=E;k<S.length;k++)G(S[k],C,L,u,m)},Pe=S=>S.shapeFlag&6?Pe(S.component.subTree):S.shapeFlag&128?S.suspense.next():f(S.anchor||S.el),Ce=(S,C,L)=>{S==null?C._vnode&&G(C._vnode,null,null,!0):x(C._vnode||null,S,C,null,null,null,L),bs(),Xo(),C._vnode=S},He={p:x,um:G,m:M,r:re,mt:_e,mc:X,pc:le,pbc:ne,n:Pe,o:n};let dt,$e;return i&&([dt,$e]=i(He)),{render:Ce,hydrate:dt,createApp:kc(Ce,dt)}}function Nt({effect:n,update:i},e){n.allowRecurse=i.allowRecurse=e}function ua(n,i,e=!1){const t=n.children,r=i.children;if(se(t)&&se(r))for(let s=0;s<t.length;s++){const a=t[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=Ot(r[s]),o.el=a.el),e||ua(a,o)),o.type===Ir&&(o.el=a.el)}}function Hc(n){const i=n.slice(),e=[0];let t,r,s,a,o;const l=n.length;for(t=0;t<l;t++){const c=n[t];if(c!==0){if(r=e[e.length-1],n[r]<c){i[t]=r,e.push(t);continue}for(s=0,a=e.length-1;s<a;)o=s+a>>1,n[e[o]]<c?s=o+1:a=o;c<n[e[s]]&&(s>0&&(i[t]=e[s-1]),e[s]=t)}}for(s=e.length,a=e[s-1];s-- >0;)e[s]=a,a=i[a];return e}const Bc=n=>n.__isTeleport,Tt=Symbol.for("v-fgt"),Ir=Symbol.for("v-txt"),Xt=Symbol.for("v-cmt"),cr=Symbol.for("v-stc"),ki=[];let at=null;function lt(n=!1){ki.push(at=n?null:[])}function Fc(){ki.pop(),at=ki[ki.length-1]||null}let Fi=1;function Os(n){Fi+=n}function da(n){return n.dynamicChildren=Fi>0?at||oi:null,Fc(),Fi>0&&at&&at.push(n),n}function _t(n,i,e,t,r,s){return da(Be(n,i,e,t,r,s,!0))}function fa(n,i,e,t,r){return da(ut(n,i,e,t,r,!0))}function Nc(n){return n?n.__v_isVNode===!0:!1}function xi(n,i){return n.type===i.type&&n.key===i.key}const Mr="__vInternal",pa=({key:n})=>n??null,hr=({ref:n,ref_key:i,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?Ie(n)||je(n)||he(n)?{i:ot,r:n,k:i,f:!!e}:n:null);function Be(n,i=null,e=null,t=0,r=null,s=n===Tt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:i,key:i&&pa(i),ref:i&&hr(i),scopeId:Jo,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:t,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ot};return o?(Un(l,e),s&128&&n.normalize(l)):e&&(l.shapeFlag|=Ie(e)?8:16),Fi>0&&!a&&at&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&at.push(l),l}const ut=Uc;function Uc(n,i=null,e=null,t=0,r=null,s=!1){if((!n||n===yc)&&(n=Xt),Nc(n)){const o=ui(n,i,!0);return e&&Un(o,e),Fi>0&&!s&&at&&(o.shapeFlag&6?at[at.indexOf(n)]=o:at.push(o)),o.patchFlag|=-2,o}if($c(n)&&(n=n.__vccOpts),i){i=jc(i);let{class:o,style:l}=i;o&&!Ie(o)&&(i.class=Ar(o)),Se(l)&&(No(l)&&!se(l)&&(l=ze({},l)),i.style=Cn(l))}const a=Ie(n)?1:nc(n)?128:Bc(n)?64:Se(n)?4:he(n)?2:0;return Be(n,i,e,t,r,a,s,!0)}function jc(n){return n?No(n)||Mr in n?ze({},n):n:null}function ui(n,i,e=!1){const{props:t,ref:r,patchFlag:s,children:a}=n,o=i?Vc(t||{},i):t;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:o,key:o&&pa(o),ref:i&&i.ref?e&&r?se(r)?r.concat(hr(i)):[r,hr(i)]:hr(i):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:i&&n.type!==Tt?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ui(n.ssContent),ssFallback:n.ssFallback&&ui(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function Wc(n=" ",i=0){return ut(Ir,null,n,i)}function Nn(n,i){const e=ut(cr,null,n);return e.staticCount=i,e}function qr(n="",i=!1){return i?(lt(),fa(Xt,null,n)):ut(Xt,null,n)}function gt(n){return n==null||typeof n=="boolean"?ut(Xt):se(n)?ut(Tt,null,n.slice()):typeof n=="object"?Ot(n):ut(Ir,null,String(n))}function Ot(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ui(n)}function Un(n,i){let e=0;const{shapeFlag:t}=n;if(i==null)i=null;else if(se(i))e=16;else if(typeof i=="object")if(t&65){const r=i.default;r&&(r._c&&(r._d=!1),Un(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=i._;!r&&!(Mr in i)?i._ctx=ot:r===3&&ot&&(ot.slots._===1?i._=1:(i._=2,n.patchFlag|=1024))}else he(i)?(i={default:i,_ctx:ot},e=32):(i=String(i),t&64?(e=16,i=[Wc(i)]):e=8);n.children=i,n.shapeFlag|=e}function Vc(...n){const i={};for(let e=0;e<n.length;e++){const t=n[e];for(const r in t)if(r==="class")i.class!==t.class&&(i.class=Ar([i.class,t.class]));else if(r==="style")i.style=Cn([i.style,t.style]);else if(Pr(r)){const s=i[r],a=t[r];a&&s!==a&&!(se(s)&&s.includes(a))&&(i[r]=s?[].concat(s,a):a)}else r!==""&&(i[r]=t[r])}return i}function ft(n,i,e,t=null){ht(n,i,7,[e,t])}const qc=sa();let Gc=0;function Zc(n,i,e){const t=n.type,r=(i?i.appContext:n.appContext)||qc,s={uid:Gc++,vnode:n,type:t,parent:i,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ul(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aa(t,r),emitsOptions:Yo(t,r),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:t.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=i?i.root:s,s.emit=Ql.bind(null,s),n.ce&&n.ce(s),s}let Me=null,jn,ii,zs="__VUE_INSTANCE_SETTERS__";(ii=tn()[zs])||(ii=tn()[zs]=[]),ii.push(n=>Me=n),jn=n=>{ii.length>1?ii.forEach(i=>i(n)):ii[0](n)};const di=n=>{jn(n),n.scope.on()},Gt=()=>{Me&&Me.scope.off(),jn(null)};function ga(n){return n.vnode.shapeFlag&4}let Ni=!1;function Xc(n,i=!1){Ni=i;const{props:e,children:t}=n.vnode,r=ga(n);Ac(n,e,r,i),Dc(n,t);const s=r?Kc(n,i):void 0;return Ni=!1,s}function Kc(n,i){const e=n.type;n.accessCache=Object.create(null),n.proxy=Uo(new Proxy(n.ctx,xc));const{setup:t}=e;if(t){const r=n.setupContext=t.length>1?Jc(n):null;di(n),wi();const s=Lt(t,n,0,[n.props,r]);if(yi(),Gt(),So(s)){if(s.then(Gt,Gt),i)return s.then(a=>{Ds(n,a,i)}).catch(a=>{zr(a,n,0)});n.asyncDep=s}else Ds(n,s,i)}else ma(n,i)}function Ds(n,i,e){he(i)?n.type.__ssrInlineRender?n.ssrRender=i:n.render=i:Se(i)&&(n.setupState=Vo(i)),ma(n,e)}let Ls;function ma(n,i,e){const t=n.type;if(!n.render){if(!i&&Ls&&!t.render){const r=t.template||Bn(n).template;if(r){const{isCustomElement:s,compilerOptions:a}=n.appContext.config,{delimiters:o,compilerOptions:l}=t,c=ze(ze({isCustomElement:s,delimiters:o},a),l);t.render=Ls(r,c)}}n.render=t.render||ct}di(n),wi(),Tc(n),yi(),Gt()}function Yc(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(i,e){return Xe(n,"get","$attrs"),i[e]}}))}function Jc(n){const i=e=>{n.exposed=e||{}};return{get attrs(){return Yc(n)},slots:n.slots,emit:n.emit,expose:i}}function Wn(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Vo(Uo(n.exposed)),{get(i,e){if(e in i)return i[e];if(e in Ci)return Ci[e](n)},has(i,e){return e in i||e in Ci}}))}function Qc(n,i=!0){return he(n)?n.displayName||n.name:n.name||i&&n.__name}function $c(n){return he(n)&&"__vccOpts"in n}const Ee=(n,i)=>Gl(n,i,Ni),eh=Symbol.for("v-scx"),th=()=>lr(eh),ih="3.3.4",rh="http://www.w3.org/2000/svg",Wt=typeof document<"u"?document:null,Is=Wt&&Wt.createElement("template"),nh={insert:(n,i,e)=>{i.insertBefore(n,e||null)},remove:n=>{const i=n.parentNode;i&&i.removeChild(n)},createElement:(n,i,e,t)=>{const r=i?Wt.createElementNS(rh,n):Wt.createElement(n,e?{is:e}:void 0);return n==="select"&&t&&t.multiple!=null&&r.setAttribute("multiple",t.multiple),r},createText:n=>Wt.createTextNode(n),createComment:n=>Wt.createComment(n),setText:(n,i)=>{n.nodeValue=i},setElementText:(n,i)=>{n.textContent=i},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Wt.querySelector(n),setScopeId(n,i){n.setAttribute(i,"")},insertStaticContent(n,i,e,t,r,s){const a=e?e.previousSibling:i.lastChild;if(r&&(r===s||r.nextSibling))for(;i.insertBefore(r.cloneNode(!0),e),!(r===s||!(r=r.nextSibling)););else{Is.innerHTML=t?`<svg>${n}</svg>`:n;const o=Is.content;if(t){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}i.insertBefore(o,e)}return[a?a.nextSibling:i.firstChild,e?e.previousSibling:i.lastChild]}};function sh(n,i,e){const t=n._vtc;t&&(i=(i?[i,...t]:[...t]).join(" ")),i==null?n.removeAttribute("class"):e?n.setAttribute("class",i):n.className=i}function oh(n,i,e){const t=n.style,r=Ie(e);if(e&&!r){if(i&&!Ie(i))for(const s in i)e[s]==null&&fn(t,s,"");for(const s in e)fn(t,s,e[s])}else{const s=t.display;r?i!==e&&(t.cssText=e):i&&n.removeAttribute("style"),"_vod"in n&&(t.display=s)}}const Ms=/\s*!important$/;function fn(n,i,e){if(se(e))e.forEach(t=>fn(n,i,t));else if(e==null&&(e=""),i.startsWith("--"))n.setProperty(i,e);else{const t=ah(n,i);Ms.test(e)?n.setProperty(nt(t),e.replace(Ms,""),"important"):n[t]=e}}const Hs=["Webkit","Moz","ms"],Gr={};function ah(n,i){const e=Gr[i];if(e)return e;let t=Ye(i);if(t!=="filter"&&t in n)return Gr[i]=t;t=Rr(t);for(let r=0;r<Hs.length;r++){const s=Hs[r]+t;if(s in n)return Gr[i]=s}return i}const Bs="http://www.w3.org/1999/xlink";function lh(n,i,e,t,r){if(t&&i.startsWith("xlink:"))e==null?n.removeAttributeNS(Bs,i.slice(6,i.length)):n.setAttributeNS(Bs,i,e);else{const s=hl(i);e==null||s&&!Co(e)?n.removeAttribute(i):n.setAttribute(i,s?"":e)}}function ch(n,i,e,t,r,s,a){if(i==="innerHTML"||i==="textContent"){t&&a(t,r,s),n[i]=e??"";return}const o=n.tagName;if(i==="value"&&o!=="PROGRESS"&&!o.includes("-")){n._value=e;const c=o==="OPTION"?n.getAttribute("value"):n.value,h=e??"";c!==h&&(n.value=h),e==null&&n.removeAttribute(i);return}let l=!1;if(e===""||e==null){const c=typeof n[i];c==="boolean"?e=Co(e):e==null&&c==="string"?(e="",l=!0):c==="number"&&(e=0,l=!0)}try{n[i]=e}catch{}l&&n.removeAttribute(i)}function hh(n,i,e,t){n.addEventListener(i,e,t)}function uh(n,i,e,t){n.removeEventListener(i,e,t)}function dh(n,i,e,t,r=null){const s=n._vei||(n._vei={}),a=s[i];if(t&&a)a.value=t;else{const[o,l]=fh(i);if(t){const c=s[i]=mh(t,r);hh(n,o,c,l)}else a&&(uh(n,o,a,l),s[i]=void 0)}}const Fs=/(?:Once|Passive|Capture)$/;function fh(n){let i;if(Fs.test(n)){i={};let t;for(;t=n.match(Fs);)n=n.slice(0,n.length-t[0].length),i[t[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):nt(n.slice(2)),i]}let Zr=0;const ph=Promise.resolve(),gh=()=>Zr||(ph.then(()=>Zr=0),Zr=Date.now());function mh(n,i){const e=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=e.attached)return;ht(vh(t,e.value),i,5,[t])};return e.value=n,e.attached=gh(),e}function vh(n,i){if(se(i)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},i.map(t=>r=>!r._stopped&&t&&t(r))}else return i}const Ns=/^on[a-z]/,wh=(n,i,e,t,r=!1,s,a,o,l)=>{i==="class"?sh(n,t,r):i==="style"?oh(n,e,t):Pr(i)?_n(i)||dh(n,i,e,t,a):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):yh(n,i,t,r))?ch(n,i,t,s,a,o,l):(i==="true-value"?n._trueValue=t:i==="false-value"&&(n._falseValue=t),lh(n,i,t,r))};function yh(n,i,e,t){return t?!!(i==="innerHTML"||i==="textContent"||i in n&&Ns.test(i)&&he(e)):i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&n.tagName==="INPUT"||i==="type"&&n.tagName==="TEXTAREA"||Ns.test(i)&&Ie(e)?!1:i in n}function At(n,i){const e=Pt(n);class t extends Vn{constructor(s){super(e,s,i)}}return t.def=e,t}const bh=typeof HTMLElement<"u"?HTMLElement:class{};class Vn extends bh{constructor(i,e={},t){super(),this._def=i,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&t?t(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Go(()=>{this._connected||(js(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);new MutationObserver(t=>{for(const r of t)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const i=(t,r=!1)=>{const{props:s,styles:a}=t;let o;if(s&&!se(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=hs(this._props[l])),(o||(o=Object.create(null)))[Ye(l)]=!0)}this._numberProps=o,r&&this._resolveProps(t),this._applyStyles(a),this._update()},e=this._def.__asyncLoader;e?e().then(t=>i(t,!0)):i(this._def)}_resolveProps(i){const{props:e}=i,t=se(e)?e:Object.keys(e||{});for(const r of Object.keys(this))r[0]!=="_"&&t.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of t.map(Ye))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s)}})}_setAttr(i){let e=this.getAttribute(i);const t=Ye(i);this._numberProps&&this._numberProps[t]&&(e=hs(e)),this._setProp(t,e,!1)}_getProp(i){return this._props[i]}_setProp(i,e,t=!0,r=!0){e!==this._props[i]&&(this._props[i]=e,r&&this._instance&&this._update(),t&&(e===!0?this.setAttribute(nt(i),""):typeof e=="string"||typeof e=="number"?this.setAttribute(nt(i),e+""):e||this.removeAttribute(nt(i))))}_update(){js(this._createVNode(),this.shadowRoot)}_createVNode(){const i=ut(this._def,ze({},this._props));return this._instance||(i.ce=e=>{this._instance=e,e.isCE=!0;const t=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};e.emit=(s,...a)=>{t(s,a),nt(s)!==s&&t(nt(s),a)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Vn){e.parent=r._instance,e.provides=r._instance.provides;break}}),i}_applyStyles(i){i&&i.forEach(e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)})}}const xh=ze({patchProp:wh},nh);let Us;function Th(){return Us||(Us=Ic(xh))}const js=(...n)=>{Th().render(...n)};var pn="";function gn(n){pn=n}function _h(n=""){if(!pn){const i=[...document.getElementsByTagName("script")],e=i.find(t=>t.hasAttribute("data-shoelace"));if(e)gn(e.getAttribute("data-shoelace"));else{const t=i.find(s=>/shoelace(\.min)?\.js($|\?)/.test(s.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(s.src));let r="";t&&(r=t.getAttribute("src")),gn(r.split("/").slice(0,-1).join("/"))}}return pn.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var va=Object.defineProperty,Sh=Object.getOwnPropertyDescriptor,Ws=Object.getOwnPropertySymbols,Eh=Object.prototype.hasOwnProperty,Ph=Object.prototype.propertyIsEnumerable,Vs=(n,i,e)=>i in n?va(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e,wa=(n,i)=>{for(var e in i||(i={}))Eh.call(i,e)&&Vs(n,e,i[e]);if(Ws)for(var e of Ws(i))Ph.call(i,e)&&Vs(n,e,i[e]);return n},De=(n,i,e,t)=>{for(var r=t>1?void 0:t?Sh(i,e):i,s=n.length-1,a;s>=0;s--)(a=n[s])&&(r=(t?a(i,e,r):a(r))||r);return t&&r&&va(i,e,r),r};/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Hr{constructor(i,e){this.$collection=[],this.selector=i,this.config=e,this.events={}}_fireEvent(i,e=null){this.events.hasOwnProperty(i)&&this.events[i](e)}_dispatch(i,e,t=null){const r=new CustomEvent(i,{detail:{payload:t},bubbles:!0,cancelable:!0,composed:!1});e.dispatchEvent(r)}on(i,e){this.events[i]=e}afterTransition(i,e){const t=()=>{e(),i.removeEventListener("transitionend",t,!0)};window.getComputedStyle(i,null).getPropertyValue("transition")!=="all 0s ease 0s"?i.addEventListener("transitionend",t,!0):e()}getClassProperty(i,e,t=""){return(window.getComputedStyle(i).getPropertyValue(e)||t).replace(" ","")}}/*
 * HSAccordion
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Ch extends Hr{constructor(e){super(".hs-accordion");pe(this,"root");this.root=e}init(){this.root.addEventListener("click",e=>{const t=e.target,r=t.closest(this.selector),s=t.closest(".hs-accordion-toggle"),a=t.closest(".hs-accordion-group");r&&a&&s&&(this._hideAll(r),this.show(r))})}show(e){if(e.classList.contains("active"))return this.hide(e);e.classList.add("active");const t=e.querySelector(".hs-accordion-content");t.style.display="block",t.style.height=0,setTimeout(()=>{t.style.height=`${t.scrollHeight}px`}),this.afterTransition(t,()=>{e.classList.contains("active")&&(t.style.height="",this._fireEvent("open",e),this._dispatch("open.hs.accordion",e,e))})}hide(e){const t=e.querySelector(".hs-accordion-content");t.style.height=`${t.scrollHeight}px`,setTimeout(()=>{t.style.height=0}),this.afterTransition(t,()=>{e.classList.contains("active")||(t.style.display="",this._fireEvent("hide",e),this._dispatch("hide.hs.accordion",e,e))}),e.classList.remove("active")}_hideAll(e){const t=e.closest(".hs-accordion-group");t.hasAttribute("data-hs-accordion-always-open")||t.querySelectorAll(this.selector).forEach(r=>{e!==r&&this.hide(r)})}}const kh=Nn('<div class="hs-accordion active" id="hs-basic-heading-one"><button class="hs-accordion-toggle hs-accordion-active:text-blue-600 group py-3 inline-flex items-center gap-x-3 w-full font-semibold text-left text-gray-800 transition hover:text-gray-500 dark:hs-accordion-active:text-blue-500 dark:text-gray-200 dark:hover:text-gray-400" aria-controls="hs-basic-collapse-one"><svg class="hs-accordion-active:hidden hs-accordion-active:text-blue-600 hs-accordion-active:group-hover:text-blue-600 block w-3 h-3 text-gray-600 group-hover:text-gray-500 dark:text-gray-400" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8.12421 13.36V2.35999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><svg class="hs-accordion-active:block hs-accordion-active:text-blue-600 hs-accordion-active:group-hover:text-blue-600 hidden w-3 h-3 text-gray-600 group-hover:text-gray-500 dark:text-gray-400" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> Accordion #1 </button><div id="hs-basic-collapse-one" class="hs-accordion-content w-full overflow-hidden transition-[height] duration-300" aria-labelledby="hs-basic-heading-one"><p class="text-gray-800 dark:text-gray-200"><em>This is the first item&#39;s accordion body.</em> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. </p></div></div><div class="hs-accordion" id="hs-basic-heading-two"><button class="hs-accordion-toggle hs-accordion-active:text-blue-600 group py-3 inline-flex items-center gap-x-3 w-full font-semibold text-left text-gray-800 transition hover:text-gray-500 dark:hs-accordion-active:text-blue-500 dark:text-gray-200 dark:hover:text-gray-400" aria-controls="hs-basic-collapse-two"><svg class="hs-accordion-active:hidden hs-accordion-active:text-blue-600 hs-accordion-active:group-hover:text-blue-600 block w-3 h-3 text-gray-600 group-hover:text-gray-500 dark:text-gray-400" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8.12421 13.36V2.35999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><svg class="hs-accordion-active:block hs-accordion-active:text-blue-600 hs-accordion-active:group-hover:text-blue-600 hidden w-3 h-3 text-gray-600 group-hover:text-gray-500 dark:text-gray-400" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> Accordion #2 </button><div id="hs-basic-collapse-two" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="hs-basic-heading-two"><p class="text-gray-800 dark:text-gray-200"><em>This is the second item&#39;s accordion body.</em> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. </p></div></div><div class="hs-accordion" id="hs-basic-heading-three"><button class="hs-accordion-toggle hs-accordion-active:text-blue-600 group py-3 inline-flex items-center gap-x-3 w-full font-semibold text-left text-gray-800 transition hover:text-gray-500 dark:hs-accordion-active:text-blue-500 dark:text-gray-200 dark:hover:text-gray-400" aria-controls="hs-basic-collapse-three"><svg class="hs-accordion-active:hidden hs-accordion-active:text-blue-600 hs-accordion-active:group-hover:text-blue-600 block w-3 h-3 text-gray-600 group-hover:text-gray-500 dark:text-gray-400" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M8.12421 13.36V2.35999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg><svg class="hs-accordion-active:block hs-accordion-active:text-blue-600 hs-accordion-active:group-hover:text-blue-600 hidden w-3 h-3 text-gray-600 group-hover:text-gray-500 dark:text-gray-400" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> Accordion #3 </button><div id="hs-basic-collapse-three" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="hs-basic-heading-three"><p class="text-gray-800 dark:text-gray-200"><em>This is the third item&#39;s accordion body.</em> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. </p></div></div>',3),Rh=[kh],Ah=Pt({__name:"Accordion.ce",setup(n){const i=Re(null),e=Ee(()=>{var t;return(t=i==null?void 0:i.value)==null?void 0:t.parentNode});return Ht(()=>{new Ch(e.value).init()}),(t,r)=>(lt(),_t("div",{ref_key:"root",ref:i,class:"hs-accordion-group"},Rh,512))}}),Oh=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.z-50{z-index:50}.m-2{margin:.5rem}.ml-4{margin-left:1rem}.mt-4{margin-top:1rem}.block{display:block}.table{display:table}.flow-root{display:flow-root}.hidden{display:none}.w-full{width:100%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0{opacity:0}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}
`,$t=(n,i)=>{const e=n.__vccOpts||n;for(const[t,r]of i)e[t]=r;return e},zh=$t(Ah,[["styles",[Oh]]]);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ur=globalThis,qn=ur.ShadowRoot&&(ur.ShadyCSS===void 0||ur.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Gn=Symbol(),qs=new WeakMap;let ya=class{constructor(i,e,t){if(this._$cssResult$=!0,t!==Gn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i,this.t=e}get styleSheet(){let i=this.o;const e=this.t;if(qn&&i===void 0){const t=e!==void 0&&e.length===1;t&&(i=qs.get(e)),i===void 0&&((this.o=i=new CSSStyleSheet).replaceSync(this.cssText),t&&qs.set(e,i))}return i}toString(){return this.cssText}};const Dh=n=>new ya(typeof n=="string"?n:n+"",void 0,Gn),Zn=(n,...i)=>{const e=n.length===1?n[0]:i.reduce((t,r,s)=>t+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+n[s+1],n[0]);return new ya(e,n,Gn)},Lh=(n,i)=>{if(qn)n.adoptedStyleSheets=i.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const e of i){const t=document.createElement("style"),r=ur.litNonce;r!==void 0&&t.setAttribute("nonce",r),t.textContent=e.cssText,n.appendChild(t)}},Gs=qn?n=>n:n=>n instanceof CSSStyleSheet?(i=>{let e="";for(const t of i.cssRules)e+=t.cssText;return Dh(e)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Ih,defineProperty:Mh,getOwnPropertyDescriptor:Hh,getOwnPropertyNames:Bh,getOwnPropertySymbols:Fh,getPrototypeOf:Nh}=Object,It=globalThis,Zs=It.trustedTypes,Uh=Zs?Zs.emptyScript:"",Xr=It.reactiveElementPolyfillSupport,Ri=(n,i)=>n,yr={toAttribute(n,i){switch(i){case Boolean:n=n?Uh:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,i){let e=n;switch(i){case Boolean:e=n!==null;break;case Number:e=n===null?null:Number(n);break;case Object:case Array:try{e=JSON.parse(n)}catch{e=null}}return e}},Xn=(n,i)=>!Ih(n,i),Xs={attribute:!0,type:String,converter:yr,reflect:!1,hasChanged:Xn};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),It.litPropertyMetadata??(It.litPropertyMetadata=new WeakMap);class ri extends HTMLElement{static addInitializer(i){this._$Ei(),(this.l??(this.l=[])).push(i)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(i,e=Xs){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(i,e),!e.noAccessor){const t=Symbol(),r=this.getPropertyDescriptor(i,t,e);r!==void 0&&Mh(this.prototype,i,r)}}static getPropertyDescriptor(i,e,t){const{get:r,set:s}=Hh(this.prototype,i)??{get(){return this[e]},set(a){this[e]=a}};return{get(){return r==null?void 0:r.call(this)},set(a){const o=r==null?void 0:r.call(this);s.call(this,a),this.requestUpdate(i,o,t)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)??Xs}static _$Ei(){if(this.hasOwnProperty(Ri("elementProperties")))return;const i=Nh(this);i.finalize(),i.l!==void 0&&(this.l=[...i.l]),this.elementProperties=new Map(i.elementProperties)}static finalize(){if(this.hasOwnProperty(Ri("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ri("properties"))){const e=this.properties,t=[...Bh(e),...Fh(e)];for(const r of t)this.createProperty(r,e[r])}const i=this[Symbol.metadata];if(i!==null){const e=litPropertyMetadata.get(i);if(e!==void 0)for(const[t,r]of e)this.elementProperties.set(t,r)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const r=this._$Eu(e,t);r!==void 0&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(i){const e=[];if(Array.isArray(i)){const t=new Set(i.flat(1/0).reverse());for(const r of t)e.unshift(Gs(r))}else i!==void 0&&e.push(Gs(i));return e}static _$Eu(i,e){const t=e.attribute;return t===!1?void 0:typeof t=="string"?t:typeof i=="string"?i.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var i;this._$Eg=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$ES(),this.requestUpdate(),(i=this.constructor.l)==null||i.forEach(e=>e(this))}addController(i){var e;(this._$E_??(this._$E_=new Set)).add(i),this.renderRoot!==void 0&&this.isConnected&&((e=i.hostConnected)==null||e.call(i))}removeController(i){var e;(e=this._$E_)==null||e.delete(i)}_$ES(){const i=new Map,e=this.constructor.elementProperties;for(const t of e.keys())this.hasOwnProperty(t)&&(i.set(t,this[t]),delete this[t]);i.size>0&&(this._$Ep=i)}createRenderRoot(){const i=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Lh(i,this.constructor.elementStyles),i}connectedCallback(){var i;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(i=this._$E_)==null||i.forEach(e=>{var t;return(t=e.hostConnected)==null?void 0:t.call(e)})}enableUpdating(i){}disconnectedCallback(){var i;(i=this._$E_)==null||i.forEach(e=>{var t;return(t=e.hostDisconnected)==null?void 0:t.call(e)})}attributeChangedCallback(i,e,t){this._$AK(i,t)}_$EO(i,e){var s;const t=this.constructor.elementProperties.get(i),r=this.constructor._$Eu(i,t);if(r!==void 0&&t.reflect===!0){const a=(((s=t.converter)==null?void 0:s.toAttribute)!==void 0?t.converter:yr).toAttribute(e,t.type);this._$Em=i,a==null?this.removeAttribute(r):this.setAttribute(r,a),this._$Em=null}}_$AK(i,e){var s;const t=this.constructor,r=t._$Eh.get(i);if(r!==void 0&&this._$Em!==r){const a=t.getPropertyOptions(r),o=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:yr;this._$Em=r,this[r]=o.fromAttribute(e,a.type),this._$Em=null}}requestUpdate(i,e,t,r=!1,s){if(i!==void 0){if(t??(t=this.constructor.getPropertyOptions(i)),!(t.hasChanged??Xn)(r?s:this[i],e))return;this.C(i,e,t)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}C(i,e,t){this._$AL.has(i)||this._$AL.set(i,e),t.reflect===!0&&this._$Em!==i&&(this._$Ej??(this._$Ej=new Set)).add(i)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(e){Promise.reject(e)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,a]of this._$Ep)this[s]=a;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,a]of r)a.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.C(s,this[s],a)}let i=!1;const e=this._$AL;try{i=this.shouldUpdate(e),i?(this.willUpdate(e),(t=this._$E_)==null||t.forEach(r=>{var s;return(s=r.hostUpdate)==null?void 0:s.call(r)}),this.update(e)):this._$ET()}catch(r){throw i=!1,this._$ET(),r}i&&this._$AE(e)}willUpdate(i){}_$AE(i){var e;(e=this._$E_)==null||e.forEach(t=>{var r;return(r=t.hostUpdated)==null?void 0:r.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(i){return!0}update(i){this._$Ej&&(this._$Ej=this._$Ej.forEach(e=>this._$EO(e,this[e]))),this._$ET()}updated(i){}firstUpdated(i){}}ri.elementStyles=[],ri.shadowRootOptions={mode:"open"},ri[Ri("elementProperties")]=new Map,ri[Ri("finalized")]=new Map,Xr==null||Xr({ReactiveElement:ri}),(It.reactiveElementVersions??(It.reactiveElementVersions=[])).push("2.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ai=globalThis,br=Ai.trustedTypes,Ks=br?br.createPolicy("lit-html",{createHTML:n=>n}):void 0,ba="$lit$",zt=`lit$${(Math.random()+"").slice(9)}$`,xa="?"+zt,jh=`<${xa}>`,Kt=document,Ui=()=>Kt.createComment(""),ji=n=>n===null||typeof n!="object"&&typeof n!="function",Ta=Array.isArray,Wh=n=>Ta(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",Kr=`[ 	
\f\r]`,Ti=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ys=/-->/g,Js=/>/g,Ut=RegExp(`>|${Kr}(?:([^\\s"'>=/]+)(${Kr}*=${Kr}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Qs=/'/g,$s=/"/g,_a=/^(?:script|style|textarea|title)$/i,Vh=n=>(i,...e)=>({_$litType$:n,strings:i,values:e}),Sa=Vh(1),Yt=Symbol.for("lit-noChange"),Oe=Symbol.for("lit-nothing"),eo=new WeakMap,Vt=Kt.createTreeWalker(Kt,129);function Ea(n,i){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ks!==void 0?Ks.createHTML(i):i}const qh=(n,i)=>{const e=n.length-1,t=[];let r,s=i===2?"<svg>":"",a=Ti;for(let o=0;o<e;o++){const l=n[o];let c,h,d=-1,f=0;for(;f<l.length&&(a.lastIndex=f,h=a.exec(l),h!==null);)f=a.lastIndex,a===Ti?h[1]==="!--"?a=Ys:h[1]!==void 0?a=Js:h[2]!==void 0?(_a.test(h[2])&&(r=RegExp("</"+h[2],"g")),a=Ut):h[3]!==void 0&&(a=Ut):a===Ut?h[0]===">"?(a=r??Ti,d=-1):h[1]===void 0?d=-2:(d=a.lastIndex-h[2].length,c=h[1],a=h[3]===void 0?Ut:h[3]==='"'?$s:Qs):a===$s||a===Qs?a=Ut:a===Ys||a===Js?a=Ti:(a=Ut,r=void 0);const v=a===Ut&&n[o+1].startsWith("/>")?" ":"";s+=a===Ti?l+jh:d>=0?(t.push(c),l.slice(0,d)+ba+l.slice(d)+zt+v):l+zt+(d===-2?o:v)}return[Ea(n,s+(n[e]||"<?>")+(i===2?"</svg>":"")),t]};class Wi{constructor({strings:i,_$litType$:e},t){let r;this.parts=[];let s=0,a=0;const o=i.length-1,l=this.parts,[c,h]=qh(i,e);if(this.el=Wi.createElement(c,t),Vt.currentNode=this.el.content,e===2){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(r=Vt.nextNode())!==null&&l.length<o;){if(r.nodeType===1){if(r.hasAttributes())for(const d of r.getAttributeNames())if(d.endsWith(ba)){const f=h[a++],v=r.getAttribute(d).split(zt),w=/([.?@])?(.*)/.exec(f);l.push({type:1,index:s,name:w[2],strings:v,ctor:w[1]==="."?Zh:w[1]==="?"?Xh:w[1]==="@"?Kh:Br}),r.removeAttribute(d)}else d.startsWith(zt)&&(l.push({type:6,index:s}),r.removeAttribute(d));if(_a.test(r.tagName)){const d=r.textContent.split(zt),f=d.length-1;if(f>0){r.textContent=br?br.emptyScript:"";for(let v=0;v<f;v++)r.append(d[v],Ui()),Vt.nextNode(),l.push({type:2,index:++s});r.append(d[f],Ui())}}}else if(r.nodeType===8)if(r.data===xa)l.push({type:2,index:s});else{let d=-1;for(;(d=r.data.indexOf(zt,d+1))!==-1;)l.push({type:7,index:s}),d+=zt.length-1}s++}}static createElement(i,e){const t=Kt.createElement("template");return t.innerHTML=i,t}}function fi(n,i,e=n,t){var a,o;if(i===Yt)return i;let r=t!==void 0?(a=e._$Co)==null?void 0:a[t]:e._$Cl;const s=ji(i)?void 0:i._$litDirective$;return(r==null?void 0:r.constructor)!==s&&((o=r==null?void 0:r._$AO)==null||o.call(r,!1),s===void 0?r=void 0:(r=new s(n),r._$AT(n,e,t)),t!==void 0?(e._$Co??(e._$Co=[]))[t]=r:e._$Cl=r),r!==void 0&&(i=fi(n,r._$AS(n,i.values),r,t)),i}class Gh{constructor(i,e){this._$AV=[],this._$AN=void 0,this._$AD=i,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(i){const{el:{content:e},parts:t}=this._$AD,r=((i==null?void 0:i.creationScope)??Kt).importNode(e,!0);Vt.currentNode=r;let s=Vt.nextNode(),a=0,o=0,l=t[0];for(;l!==void 0;){if(a===l.index){let c;l.type===2?c=new Zi(s,s.nextSibling,this,i):l.type===1?c=new l.ctor(s,l.name,l.strings,this,i):l.type===6&&(c=new Yh(s,this,i)),this._$AV.push(c),l=t[++o]}a!==(l==null?void 0:l.index)&&(s=Vt.nextNode(),a++)}return Vt.currentNode=Kt,r}p(i){let e=0;for(const t of this._$AV)t!==void 0&&(t.strings!==void 0?(t._$AI(i,t,e),e+=t.strings.length-2):t._$AI(i[e])),e++}}class Zi{get _$AU(){var i;return((i=this._$AM)==null?void 0:i._$AU)??this._$Cv}constructor(i,e,t,r){this.type=2,this._$AH=Oe,this._$AN=void 0,this._$AA=i,this._$AB=e,this._$AM=t,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let i=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(i==null?void 0:i.nodeType)===11&&(i=e.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,e=this){i=fi(this,i,e),ji(i)?i===Oe||i==null||i===""?(this._$AH!==Oe&&this._$AR(),this._$AH=Oe):i!==this._$AH&&i!==Yt&&this._(i):i._$litType$!==void 0?this.g(i):i.nodeType!==void 0?this.$(i):Wh(i)?this.T(i):this._(i)}k(i){return this._$AA.parentNode.insertBefore(i,this._$AB)}$(i){this._$AH!==i&&(this._$AR(),this._$AH=this.k(i))}_(i){this._$AH!==Oe&&ji(this._$AH)?this._$AA.nextSibling.data=i:this.$(Kt.createTextNode(i)),this._$AH=i}g(i){var s;const{values:e,_$litType$:t}=i,r=typeof t=="number"?this._$AC(i):(t.el===void 0&&(t.el=Wi.createElement(Ea(t.h,t.h[0]),this.options)),t);if(((s=this._$AH)==null?void 0:s._$AD)===r)this._$AH.p(e);else{const a=new Gh(r,this),o=a.u(this.options);a.p(e),this.$(o),this._$AH=a}}_$AC(i){let e=eo.get(i.strings);return e===void 0&&eo.set(i.strings,e=new Wi(i)),e}T(i){Ta(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let t,r=0;for(const s of i)r===e.length?e.push(t=new Zi(this.k(Ui()),this.k(Ui()),this,this.options)):t=e[r],t._$AI(s),r++;r<e.length&&(this._$AR(t&&t._$AB.nextSibling,r),e.length=r)}_$AR(i=this._$AA.nextSibling,e){var t;for((t=this._$AP)==null?void 0:t.call(this,!1,!0,e);i&&i!==this._$AB;){const r=i.nextSibling;i.remove(),i=r}}setConnected(i){var e;this._$AM===void 0&&(this._$Cv=i,(e=this._$AP)==null||e.call(this,i))}}class Br{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(i,e,t,r,s){this.type=1,this._$AH=Oe,this._$AN=void 0,this.element=i,this.name=e,this._$AM=r,this.options=s,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=Oe}_$AI(i,e=this,t,r){const s=this.strings;let a=!1;if(s===void 0)i=fi(this,i,e,0),a=!ji(i)||i!==this._$AH&&i!==Yt,a&&(this._$AH=i);else{const o=i;let l,c;for(i=s[0],l=0;l<s.length-1;l++)c=fi(this,o[t+l],e,l),c===Yt&&(c=this._$AH[l]),a||(a=!ji(c)||c!==this._$AH[l]),c===Oe?i=Oe:i!==Oe&&(i+=(c??"")+s[l+1]),this._$AH[l]=c}a&&!r&&this.O(i)}O(i){i===Oe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class Zh extends Br{constructor(){super(...arguments),this.type=3}O(i){this.element[this.name]=i===Oe?void 0:i}}class Xh extends Br{constructor(){super(...arguments),this.type=4}O(i){this.element.toggleAttribute(this.name,!!i&&i!==Oe)}}class Kh extends Br{constructor(i,e,t,r,s){super(i,e,t,r,s),this.type=5}_$AI(i,e=this){if((i=fi(this,i,e,0)??Oe)===Yt)return;const t=this._$AH,r=i===Oe&&t!==Oe||i.capture!==t.capture||i.once!==t.once||i.passive!==t.passive,s=i!==Oe&&(t===Oe||r);r&&this.element.removeEventListener(this.name,this,t),s&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,i):this._$AH.handleEvent(i)}}class Yh{constructor(i,e,t){this.element=i,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(i){fi(this,i)}}const Yr=Ai.litHtmlPolyfillSupport;Yr==null||Yr(Wi,Zi),(Ai.litHtmlVersions??(Ai.litHtmlVersions=[])).push("3.1.0");const Jh=(n,i,e)=>{const t=(e==null?void 0:e.renderBefore)??i;let r=t._$litPart$;if(r===void 0){const s=(e==null?void 0:e.renderBefore)??null;t._$litPart$=r=new Zi(i.insertBefore(Ui(),s),s,void 0,e??{})}return r._$AI(n),r};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Oi=class extends ri{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const i=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=i.firstChild),i}update(i){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Do=Jh(e,this.renderRoot,this.renderOptions)}connectedCallback(){var i;super.connectedCallback(),(i=this._$Do)==null||i.setConnected(!0)}disconnectedCallback(){var i;super.disconnectedCallback(),(i=this._$Do)==null||i.setConnected(!1)}render(){return Yt}};var To;Oi._$litElement$=!0,Oi.finalized=!0,(To=globalThis.litElementHydrateSupport)==null||To.call(globalThis,{LitElement:Oi});const Jr=globalThis.litElementPolyfillSupport;Jr==null||Jr({LitElement:Oi});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.2");var Pa=Zn`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,Qh=Zn`
  ${Pa}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,$h=Zn`
  ${Pa}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,eu={name:"default",resolver:n=>_h(`assets/icons/${n}.svg`)},tu=eu,to={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},iu={name:"system",resolver:n=>n in to?`data:image/svg+xml,${encodeURIComponent(to[n])}`:""},ru=iu,nu=[tu,ru],mn=[];function su(n){mn.push(n)}function ou(n){mn=mn.filter(i=>i!==n)}function io(n){return nu.find(i=>i.name===n)}function Ca(n,i){const e=wa({waitUntilFirstUpdate:!1},i);return(t,r)=>{const{update:s}=t,a=Array.isArray(n)?n:[n];t.update=function(o){a.forEach(l=>{const c=l;if(o.has(c)){const h=o.get(c),d=this[c];h!==d&&(!e.waitUntilFirstUpdate||this.hasUpdated)&&this[r](h,d)}}),s.call(this,o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const au={attribute:!0,type:String,converter:yr,reflect:!1,hasChanged:Xn},lu=(n=au,i,e)=>{const{kind:t,metadata:r}=e;let s=globalThis.litPropertyMetadata.get(r);if(s===void 0&&globalThis.litPropertyMetadata.set(r,s=new Map),s.set(e.name,n),t==="accessor"){const{name:a}=e;return{set(o){const l=i.get.call(this);i.set.call(this,o),this.requestUpdate(a,l,n)},init(o){return o!==void 0&&this.C(a,void 0,n),o}}}if(t==="setter"){const{name:a}=e;return function(o){const l=this[a];i.call(this,o),this.requestUpdate(a,l,n)}}throw Error("Unsupported decorator location: "+t)};function Ve(n){return(i,e)=>typeof e=="object"?lu(n,i,e):((t,r,s)=>{const a=r.hasOwnProperty(s);return r.constructor.createProperty(s,a?{...t,wrapped:!0}:t),a?Object.getOwnPropertyDescriptor(r,s):void 0})(n,i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ka(n){return Ve({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ro=(n,i,e)=>(e.configurable=!0,e.enumerable=!0,Reflect.decorate&&typeof i!="object"&&Object.defineProperty(n,i,e),e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function cu(n,i){return(e,t,r)=>{const s=a=>{var o;return((o=a.renderRoot)==null?void 0:o.querySelector(n))??null};if(i){const{get:a,set:o}=typeof t=="object"?e:r??(()=>{const l=Symbol();return{get(){return this[l]},set(c){this[l]=c}}})();return ro(e,t,{get(){let l=a.call(this);return l===void 0&&(l=s(this),(l!==null||this.hasUpdated)&&o.call(this,l)),l}})}return ro(e,t,{get(){return s(this)}})}}var bi=class extends Oi{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,i])=>{this.constructor.define(n,i)})}emit(n,i){const e=new CustomEvent(n,wa({bubbles:!0,cancelable:!1,composed:!0,detail:{}},i));return this.dispatchEvent(e),e}static define(n,i=this,e={}){const t=customElements.get(n);if(!t){customElements.define(n,class extends i{},e);return}let r=" (unknown version)",s=r;"version"in i&&i.version&&(r=" v"+i.version),"version"in t&&t.version&&(s=" v"+t.version),!(r&&s&&r===s)&&console.warn(`Attempted to register <${n}>${r}, but <${n}>${s} has already been registered.`)}};bi.version="2.12.0";bi.dependencies={};De([Ve()],bi.prototype,"dir",2);De([Ve()],bi.prototype,"lang",2);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hu=(n,i)=>i===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===i;var _i=Symbol(),rr=Symbol(),Qr,$r=new Map,kt=class extends bi{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,i){var e;let t;if(i!=null&&i.spriteSheet)return Sa`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(t=await fetch(n,{mode:"cors"}),!t.ok)return t.status===410?_i:rr}catch{return rr}try{const r=document.createElement("div");r.innerHTML=await t.text();const s=r.firstElementChild;if(((e=s==null?void 0:s.tagName)==null?void 0:e.toLowerCase())!=="svg")return _i;Qr||(Qr=new DOMParser);const o=Qr.parseFromString(s.outerHTML,"text/html").body.querySelector("svg");return o?(o.part.add("svg"),document.adoptNode(o)):_i}catch{return _i}}connectedCallback(){super.connectedCallback(),su(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),ou(this)}getIconSource(){const n=io(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:i,fromLibrary:e}=this.getIconSource(),t=e?io(this.library):void 0;if(!i){this.svg=null;return}let r=$r.get(i);if(r||(r=this.resolveIcon(i,t),$r.set(i,r)),!this.initialRender)return;const s=await r;if(s===rr&&$r.delete(i),i===this.getIconSource().url){if(hu(s)){this.svg=s;return}switch(s){case rr:case _i:this.svg=null,this.emit("sl-error");break;default:this.svg=s.cloneNode(!0),(n=t==null?void 0:t.mutator)==null||n.call(t,this.svg),this.emit("sl-load")}}}render(){return this.svg}};kt.styles=$h;De([ka()],kt.prototype,"svg",2);De([Ve({reflect:!0})],kt.prototype,"name",2);De([Ve()],kt.prototype,"src",2);De([Ve()],kt.prototype,"label",2);De([Ve({reflect:!0})],kt.prototype,"library",2);De([Ca("label")],kt.prototype,"handleLabelChange",1);De([Ca(["name","src","library"])],kt.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uu={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},du=n=>(...i)=>({_$litDirective$:n,values:i});class fu{constructor(i){}get _$AU(){return this._$AM._$AU}_$AT(i,e,t){this._$Ct=i,this._$AM=e,this._$Ci=t}_$AS(i,e){return this.update(i,e)}update(i,e){return this.render(...e)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pu=du(class extends fu{constructor(n){var i;if(super(n),n.type!==uu.ATTRIBUTE||n.name!=="class"||((i=n.strings)==null?void 0:i.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(i=>n[i]).join(" ")+" "}update(n,[i]){var t,r;if(this.it===void 0){this.it=new Set,n.strings!==void 0&&(this.st=new Set(n.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in i)i[s]&&!((t=this.st)!=null&&t.has(s))&&this.it.add(s);return this.render(i)}const e=n.element.classList;for(const s of this.it)s in i||(e.remove(s),this.it.delete(s));for(const s in i){const a=!!i[s];a===this.it.has(s)||(r=this.st)!=null&&r.has(s)||(a?(e.add(s),this.it.add(s)):(e.remove(s),this.it.delete(s)))}return Yt}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ra=Symbol.for(""),gu=n=>{if((n==null?void 0:n.r)===Ra)return n==null?void 0:n._$litStatic$},no=(n,...i)=>({_$litStatic$:i.reduce((e,t,r)=>e+(s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${s}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(t)+n[r+1],n[0]),r:Ra}),so=new Map,mu=n=>(i,...e)=>{const t=e.length;let r,s;const a=[],o=[];let l,c=0,h=!1;for(;c<t;){for(l=i[c];c<t&&(s=e[c],(r=gu(s))!==void 0);)l+=r+i[++c],h=!0;c!==t&&o.push(s),a.push(l),c++}if(c===t&&a.push(i[t]),h){const d=a.join("$$lit$$");(i=so.get(d))===void 0&&(a.raw=a,so.set(d,i=a)),e=o}return n(i,...e)},vu=mu(Sa);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pt=n=>n??Oe;var Qe=class extends bi{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}render(){const n=!!this.href,i=n?no`a`:no`button`;return vu`
      <${i}
        part="base"
        class=${pu({"icon-button":!0,"icon-button--disabled":!n&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${pt(n?void 0:this.disabled)}
        type=${pt(n?void 0:"button")}
        href=${pt(n?this.href:void 0)}
        target=${pt(n?this.target:void 0)}
        download=${pt(n?this.download:void 0)}
        rel=${pt(n&&this.target?"noreferrer noopener":void 0)}
        role=${pt(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${pt(this.name)}
          library=${pt(this.library)}
          src=${pt(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${i}>
    `}};Qe.styles=Qh;Qe.dependencies={"sl-icon":kt};De([cu(".icon-button")],Qe.prototype,"button",2);De([ka()],Qe.prototype,"hasFocus",2);De([Ve()],Qe.prototype,"name",2);De([Ve()],Qe.prototype,"library",2);De([Ve()],Qe.prototype,"src",2);De([Ve()],Qe.prototype,"href",2);De([Ve()],Qe.prototype,"target",2);De([Ve()],Qe.prototype,"download",2);De([Ve()],Qe.prototype,"label",2);De([Ve({type:Boolean,reflect:!0})],Qe.prototype,"disabled",2);Qe.define("sl-icon-button");const wu=Pt({__name:"Button.ce",props:{href:{type:String},label:{type:String},icon:{type:String}},setup(n){const i=Re(null),e=Ee(()=>{var t,r;return(r=(t=i.value)==null?void 0:t.getRootNode())==null?void 0:r.host});return Ht(()=>{}),Ue(e,()=>{}),(t,r)=>{const s=wc("sl-icon-button");return lt(),fa(s,{name:"gear",label:"Settings"})}}}),yu="",bu=`:host{display:inline-block}svg{width:2em;height:2em;vertical-align:middle;margin-right:.5em}
`,xu=$t(wu,[["styles",[yu,bu]]]);/*
 * HSCollapse
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Tu extends Hr{constructor(e){super("[data-hs-collapse]");pe(this,"root");this.root=e}init(){this.root.addEventListener("click",e=>{const r=e.target.closest(this.selector);if(r){const s=this.root.querySelectorAll(r.getAttribute("data-hs-collapse"));this.toggle(s)}})}toggle(e){e.length&&[...e].forEach(t=>{t.classList.contains("hidden")?this.show(t):this.hide(t)})}show(e){e.classList.add("open"),e.classList.remove("hidden"),e.style.height=0,this.root.querySelectorAll(this.selector).forEach(t=>{e.closest(t.getAttribute("data-hs-collapse"))&&t.classList.add("open")}),e.style.height=`${e.scrollHeight}px`,this.afterTransition(e,()=>{e.classList.contains("open")&&(e.style.height="",this._fireEvent("open",e),this._dispatch("open.hs.collapse",e,e))})}hide(e){e.style.height=`${e.scrollHeight}px`,setTimeout(()=>{e.style.height=0}),e.classList.remove("open"),this.afterTransition(e,()=>{e.classList.contains("open")||(e.classList.add("hidden"),e.style.height=null,this._fireEvent("hide",e),this._dispatch("hide.hs.collapse",e,e),e.querySelectorAll(".hs-mega-menu-content.block").forEach(t=>{t.classList.remove("block"),t.classList.add("hidden")}))}),this.root.querySelectorAll(this.selector).forEach(t=>{e.closest(t.getAttribute("data-hs-collapse"))&&t.classList.remove("open")})}}const _u=Nn('<button type="button" class="hs-collapse-toggle py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800" id="hs-basic-collapse" data-hs-collapse="#hs-basic-collapse-heading"> Collapse <svg class="hs-collapse-open:rotate-180 w-2.5 h-2.5 text-white" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 5L8.16086 10.6869C8.35239 10.8637 8.64761 10.8637 8.83914 10.6869L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button><div id="hs-basic-collapse-heading" class="hs-collapse hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="hs-basic-collapse"><div class="mt-5"><p class="text-gray-500 dark:text-gray-400"> This is a collapse body. It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. </p></div></div>',2),Su=[_u],Eu=Pt({__name:"Collapse.ce",setup(n){const i=Re(null),e=Ee(()=>{var t;return(t=i==null?void 0:i.value)==null?void 0:t.parentNode});return Ht(()=>{new Tu(e.value).init()}),(t,r)=>(lt(),_t("div",{ref_key:"root",ref:i},Su,512))}}),Pu=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.z-50{z-index:50}.m-2{margin:.5rem}.ml-4{margin-left:1rem}.mt-4{margin-top:1rem}.block{display:block}.table{display:table}.flow-root{display:flow-root}.hidden{display:none}.w-full{width:100%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0{opacity:0}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}
`,Cu=$t(Eu,[["styles",[Pu]]]);class ke{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(i,e=!1){return this.onePassHasher.start().appendStr(i).end(e)}static hashAsciiStr(i,e=!1){return this.onePassHasher.start().appendAsciiStr(i).end(e)}static _hex(i){const e=ke.hexChars,t=ke.hexOut;let r,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,r=i[o],a=0;a<8;a+=2)t[s+1+a]=e.charAt(r&15),r>>>=4,t[s+0+a]=e.charAt(r&15),r>>>=4;return t.join("")}static _md5cycle(i,e){let t=i[0],r=i[1],s=i[2],a=i[3];t+=(r&s|~r&a)+e[0]-680876936|0,t=(t<<7|t>>>25)+r|0,a+=(t&r|~t&s)+e[1]-389564586|0,a=(a<<12|a>>>20)+t|0,s+=(a&t|~a&r)+e[2]+606105819|0,s=(s<<17|s>>>15)+a|0,r+=(s&a|~s&t)+e[3]-1044525330|0,r=(r<<22|r>>>10)+s|0,t+=(r&s|~r&a)+e[4]-176418897|0,t=(t<<7|t>>>25)+r|0,a+=(t&r|~t&s)+e[5]+1200080426|0,a=(a<<12|a>>>20)+t|0,s+=(a&t|~a&r)+e[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,r+=(s&a|~s&t)+e[7]-45705983|0,r=(r<<22|r>>>10)+s|0,t+=(r&s|~r&a)+e[8]+1770035416|0,t=(t<<7|t>>>25)+r|0,a+=(t&r|~t&s)+e[9]-1958414417|0,a=(a<<12|a>>>20)+t|0,s+=(a&t|~a&r)+e[10]-42063|0,s=(s<<17|s>>>15)+a|0,r+=(s&a|~s&t)+e[11]-1990404162|0,r=(r<<22|r>>>10)+s|0,t+=(r&s|~r&a)+e[12]+1804603682|0,t=(t<<7|t>>>25)+r|0,a+=(t&r|~t&s)+e[13]-40341101|0,a=(a<<12|a>>>20)+t|0,s+=(a&t|~a&r)+e[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,r+=(s&a|~s&t)+e[15]+1236535329|0,r=(r<<22|r>>>10)+s|0,t+=(r&a|s&~a)+e[1]-165796510|0,t=(t<<5|t>>>27)+r|0,a+=(t&s|r&~s)+e[6]-1069501632|0,a=(a<<9|a>>>23)+t|0,s+=(a&r|t&~r)+e[11]+643717713|0,s=(s<<14|s>>>18)+a|0,r+=(s&t|a&~t)+e[0]-373897302|0,r=(r<<20|r>>>12)+s|0,t+=(r&a|s&~a)+e[5]-701558691|0,t=(t<<5|t>>>27)+r|0,a+=(t&s|r&~s)+e[10]+38016083|0,a=(a<<9|a>>>23)+t|0,s+=(a&r|t&~r)+e[15]-660478335|0,s=(s<<14|s>>>18)+a|0,r+=(s&t|a&~t)+e[4]-405537848|0,r=(r<<20|r>>>12)+s|0,t+=(r&a|s&~a)+e[9]+568446438|0,t=(t<<5|t>>>27)+r|0,a+=(t&s|r&~s)+e[14]-1019803690|0,a=(a<<9|a>>>23)+t|0,s+=(a&r|t&~r)+e[3]-187363961|0,s=(s<<14|s>>>18)+a|0,r+=(s&t|a&~t)+e[8]+1163531501|0,r=(r<<20|r>>>12)+s|0,t+=(r&a|s&~a)+e[13]-1444681467|0,t=(t<<5|t>>>27)+r|0,a+=(t&s|r&~s)+e[2]-51403784|0,a=(a<<9|a>>>23)+t|0,s+=(a&r|t&~r)+e[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,r+=(s&t|a&~t)+e[12]-1926607734|0,r=(r<<20|r>>>12)+s|0,t+=(r^s^a)+e[5]-378558|0,t=(t<<4|t>>>28)+r|0,a+=(t^r^s)+e[8]-2022574463|0,a=(a<<11|a>>>21)+t|0,s+=(a^t^r)+e[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,r+=(s^a^t)+e[14]-35309556|0,r=(r<<23|r>>>9)+s|0,t+=(r^s^a)+e[1]-1530992060|0,t=(t<<4|t>>>28)+r|0,a+=(t^r^s)+e[4]+1272893353|0,a=(a<<11|a>>>21)+t|0,s+=(a^t^r)+e[7]-155497632|0,s=(s<<16|s>>>16)+a|0,r+=(s^a^t)+e[10]-1094730640|0,r=(r<<23|r>>>9)+s|0,t+=(r^s^a)+e[13]+681279174|0,t=(t<<4|t>>>28)+r|0,a+=(t^r^s)+e[0]-358537222|0,a=(a<<11|a>>>21)+t|0,s+=(a^t^r)+e[3]-722521979|0,s=(s<<16|s>>>16)+a|0,r+=(s^a^t)+e[6]+76029189|0,r=(r<<23|r>>>9)+s|0,t+=(r^s^a)+e[9]-640364487|0,t=(t<<4|t>>>28)+r|0,a+=(t^r^s)+e[12]-421815835|0,a=(a<<11|a>>>21)+t|0,s+=(a^t^r)+e[15]+530742520|0,s=(s<<16|s>>>16)+a|0,r+=(s^a^t)+e[2]-995338651|0,r=(r<<23|r>>>9)+s|0,t+=(s^(r|~a))+e[0]-198630844|0,t=(t<<6|t>>>26)+r|0,a+=(r^(t|~s))+e[7]+1126891415|0,a=(a<<10|a>>>22)+t|0,s+=(t^(a|~r))+e[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,r+=(a^(s|~t))+e[5]-57434055|0,r=(r<<21|r>>>11)+s|0,t+=(s^(r|~a))+e[12]+1700485571|0,t=(t<<6|t>>>26)+r|0,a+=(r^(t|~s))+e[3]-1894986606|0,a=(a<<10|a>>>22)+t|0,s+=(t^(a|~r))+e[10]-1051523|0,s=(s<<15|s>>>17)+a|0,r+=(a^(s|~t))+e[1]-2054922799|0,r=(r<<21|r>>>11)+s|0,t+=(s^(r|~a))+e[8]+1873313359|0,t=(t<<6|t>>>26)+r|0,a+=(r^(t|~s))+e[15]-30611744|0,a=(a<<10|a>>>22)+t|0,s+=(t^(a|~r))+e[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,r+=(a^(s|~t))+e[13]+1309151649|0,r=(r<<21|r>>>11)+s|0,t+=(s^(r|~a))+e[4]-145523070|0,t=(t<<6|t>>>26)+r|0,a+=(r^(t|~s))+e[11]-1120210379|0,a=(a<<10|a>>>22)+t|0,s+=(t^(a|~r))+e[2]+718787259|0,s=(s<<15|s>>>17)+a|0,r+=(a^(s|~t))+e[9]-343485551|0,r=(r<<21|r>>>11)+s|0,i[0]=t+i[0]|0,i[1]=r+i[1]|0,i[2]=s+i[2]|0,i[3]=a+i[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(ke.stateIdentity),this}appendStr(i){const e=this._buffer8,t=this._buffer32;let r=this._bufferLength,s,a;for(a=0;a<i.length;a+=1){if(s=i.charCodeAt(a),s<128)e[r++]=s;else if(s<2048)e[r++]=(s>>>6)+192,e[r++]=s&63|128;else if(s<55296||s>56319)e[r++]=(s>>>12)+224,e[r++]=s>>>6&63|128,e[r++]=s&63|128;else{if(s=(s-55296)*1024+(i.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[r++]=(s>>>18)+240,e[r++]=s>>>12&63|128,e[r++]=s>>>6&63|128,e[r++]=s&63|128}r>=64&&(this._dataLength+=64,ke._md5cycle(this._state,t),r-=64,t[0]=t[16])}return this._bufferLength=r,this}appendAsciiStr(i){const e=this._buffer8,t=this._buffer32;let r=this._bufferLength,s,a=0;for(;;){for(s=Math.min(i.length-a,64-r);s--;)e[r++]=i.charCodeAt(a++);if(r<64)break;this._dataLength+=64,ke._md5cycle(this._state,t),r=0}return this._bufferLength=r,this}appendByteArray(i){const e=this._buffer8,t=this._buffer32;let r=this._bufferLength,s,a=0;for(;;){for(s=Math.min(i.length-a,64-r);s--;)e[r++]=i[a++];if(r<64)break;this._dataLength+=64,ke._md5cycle(this._state,t),r=0}return this._bufferLength=r,this}getState(){const i=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[i[0],i[1],i[2],i[3]]}}setState(i){const e=i.buffer,t=i.state,r=this._state;let s;for(this._dataLength=i.length,this._bufferLength=i.buflen,r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],s=0;s<e.length;s+=1)this._buffer8[s]=e.charCodeAt(s)}end(i=!1){const e=this._bufferLength,t=this._buffer8,r=this._buffer32,s=(e>>2)+1;this._dataLength+=e;const a=this._dataLength*8;if(t[e]=128,t[e+1]=t[e+2]=t[e+3]=0,r.set(ke.buffer32Identity.subarray(s),s),e>55&&(ke._md5cycle(this._state,r),r.set(ke.buffer32Identity)),a<=4294967295)r[14]=a;else{const o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;const l=parseInt(o[2],16),c=parseInt(o[1],16)||0;r[14]=l,r[15]=c}return ke._md5cycle(this._state,r),i?this._state:ke._hex(this._state)}}ke.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);ke.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);ke.hexChars="0123456789abcdef";ke.hexOut=[];ke.onePassHasher=new ke;if(ke.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");var Ge="top",tt="bottom",it="right",Ze="left",Kn="auto",Xi=[Ge,tt,it,Ze],pi="start",Vi="end",ku="clippingParents",Aa="viewport",Si="popper",Ru="reference",oo=Xi.reduce(function(n,i){return n.concat([i+"-"+pi,i+"-"+Vi])},[]),Oa=[].concat(Xi,[Kn]).reduce(function(n,i){return n.concat([i,i+"-"+pi,i+"-"+Vi])},[]),Au="beforeRead",Ou="read",zu="afterRead",Du="beforeMain",Lu="main",Iu="afterMain",Mu="beforeWrite",Hu="write",Bu="afterWrite",Fu=[Au,Ou,zu,Du,Lu,Iu,Mu,Hu,Bu];function bt(n){return n?(n.nodeName||"").toLowerCase():null}function Je(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var i=n.ownerDocument;return i&&i.defaultView||window}return n}function Jt(n){var i=Je(n).Element;return n instanceof i||n instanceof Element}function et(n){var i=Je(n).HTMLElement;return n instanceof i||n instanceof HTMLElement}function Yn(n){if(typeof ShadowRoot>"u")return!1;var i=Je(n).ShadowRoot;return n instanceof i||n instanceof ShadowRoot}function Nu(n){var i=n.state;Object.keys(i.elements).forEach(function(e){var t=i.styles[e]||{},r=i.attributes[e]||{},s=i.elements[e];!et(s)||!bt(s)||(Object.assign(s.style,t),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Uu(n){var i=n.state,e={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,e.popper),i.styles=e,i.elements.arrow&&Object.assign(i.elements.arrow.style,e.arrow),function(){Object.keys(i.elements).forEach(function(t){var r=i.elements[t],s=i.attributes[t]||{},a=Object.keys(i.styles.hasOwnProperty(t)?i.styles[t]:e[t]),o=a.reduce(function(l,c){return l[c]="",l},{});!et(r)||!bt(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const ju={name:"applyStyles",enabled:!0,phase:"write",fn:Nu,effect:Uu,requires:["computeStyles"]};function yt(n){return n.split("-")[0]}var Zt=Math.max,xr=Math.min,gi=Math.round;function vn(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function za(){return!/^((?!chrome|android).)*safari/i.test(vn())}function mi(n,i,e){i===void 0&&(i=!1),e===void 0&&(e=!1);var t=n.getBoundingClientRect(),r=1,s=1;i&&et(n)&&(r=n.offsetWidth>0&&gi(t.width)/n.offsetWidth||1,s=n.offsetHeight>0&&gi(t.height)/n.offsetHeight||1);var a=Jt(n)?Je(n):window,o=a.visualViewport,l=!za()&&e,c=(t.left+(l&&o?o.offsetLeft:0))/r,h=(t.top+(l&&o?o.offsetTop:0))/s,d=t.width/r,f=t.height/s;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c,x:c,y:h}}function Jn(n){var i=mi(n),e=n.offsetWidth,t=n.offsetHeight;return Math.abs(i.width-e)<=1&&(e=i.width),Math.abs(i.height-t)<=1&&(t=i.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:t}}function Da(n,i){var e=i.getRootNode&&i.getRootNode();if(n.contains(i))return!0;if(e&&Yn(e)){var t=i;do{if(t&&n.isSameNode(t))return!0;t=t.parentNode||t.host}while(t)}return!1}function Et(n){return Je(n).getComputedStyle(n)}function Wu(n){return["table","td","th"].indexOf(bt(n))>=0}function Bt(n){return((Jt(n)?n.ownerDocument:n.document)||window.document).documentElement}function Fr(n){return bt(n)==="html"?n:n.assignedSlot||n.parentNode||(Yn(n)?n.host:null)||Bt(n)}function ao(n){return!et(n)||Et(n).position==="fixed"?null:n.offsetParent}function Vu(n){var i=/firefox/i.test(vn()),e=/Trident/i.test(vn());if(e&&et(n)){var t=Et(n);if(t.position==="fixed")return null}var r=Fr(n);for(Yn(r)&&(r=r.host);et(r)&&["html","body"].indexOf(bt(r))<0;){var s=Et(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||i&&s.willChange==="filter"||i&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Ki(n){for(var i=Je(n),e=ao(n);e&&Wu(e)&&Et(e).position==="static";)e=ao(e);return e&&(bt(e)==="html"||bt(e)==="body"&&Et(e).position==="static")?i:e||Vu(n)||i}function Qn(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function zi(n,i,e){return Zt(n,xr(i,e))}function qu(n,i,e){var t=zi(n,i,e);return t>e?e:t}function La(){return{top:0,right:0,bottom:0,left:0}}function Ia(n){return Object.assign({},La(),n)}function Ma(n,i){return i.reduce(function(e,t){return e[t]=n,e},{})}var Gu=function(i,e){return i=typeof i=="function"?i(Object.assign({},e.rects,{placement:e.placement})):i,Ia(typeof i!="number"?i:Ma(i,Xi))};function Zu(n){var i,e=n.state,t=n.name,r=n.options,s=e.elements.arrow,a=e.modifiersData.popperOffsets,o=yt(e.placement),l=Qn(o),c=[Ze,it].indexOf(o)>=0,h=c?"height":"width";if(!(!s||!a)){var d=Gu(r.padding,e),f=Jn(s),v=l==="y"?Ge:Ze,w=l==="y"?tt:it,x=e.rects.reference[h]+e.rects.reference[l]-a[l]-e.rects.popper[h],b=a[l]-e.rects.reference[l],_=Ki(s),A=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,D=x/2-b/2,I=d[v],W=A-f[h]-d[w],q=A/2-f[h]/2+D,Y=zi(I,q,W),X=l;e.modifiersData[t]=(i={},i[X]=Y,i.centerOffset=Y-q,i)}}function Xu(n){var i=n.state,e=n.options,t=e.element,r=t===void 0?"[data-popper-arrow]":t;r!=null&&(typeof r=="string"&&(r=i.elements.popper.querySelector(r),!r)||Da(i.elements.popper,r)&&(i.elements.arrow=r))}const Ku={name:"arrow",enabled:!0,phase:"main",fn:Zu,effect:Xu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vi(n){return n.split("-")[1]}var Yu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ju(n,i){var e=n.x,t=n.y,r=i.devicePixelRatio||1;return{x:gi(e*r)/r||0,y:gi(t*r)/r||0}}function lo(n){var i,e=n.popper,t=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,h=n.roundOffsets,d=n.isFixed,f=a.x,v=f===void 0?0:f,w=a.y,x=w===void 0?0:w,b=typeof h=="function"?h({x:v,y:x}):{x:v,y:x};v=b.x,x=b.y;var _=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),D=Ze,I=Ge,W=window;if(c){var q=Ki(e),Y="clientHeight",X="clientWidth";if(q===Je(e)&&(q=Bt(e),Et(q).position!=="static"&&o==="absolute"&&(Y="scrollHeight",X="scrollWidth")),q=q,r===Ge||(r===Ze||r===it)&&s===Vi){I=tt;var Q=d&&q===W&&W.visualViewport?W.visualViewport.height:q[Y];x-=Q-t.height,x*=l?1:-1}if(r===Ze||(r===Ge||r===tt)&&s===Vi){D=it;var ne=d&&q===W&&W.visualViewport?W.visualViewport.width:q[X];v-=ne-t.width,v*=l?1:-1}}var oe=Object.assign({position:o},c&&Yu),ue=h===!0?Ju({x:v,y:x},Je(e)):{x:v,y:x};if(v=ue.x,x=ue.y,l){var de;return Object.assign({},oe,(de={},de[I]=A?"0":"",de[D]=_?"0":"",de.transform=(W.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",de))}return Object.assign({},oe,(i={},i[I]=A?x+"px":"",i[D]=_?v+"px":"",i.transform="",i))}function Qu(n){var i=n.state,e=n.options,t=e.gpuAcceleration,r=t===void 0?!0:t,s=e.adaptive,a=s===void 0?!0:s,o=e.roundOffsets,l=o===void 0?!0:o,c={placement:yt(i.placement),variation:vi(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:r,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,lo(Object.assign({},c,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:a,roundOffsets:l})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,lo(Object.assign({},c,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}const $u={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qu,data:{}};var nr={passive:!0};function ed(n){var i=n.state,e=n.instance,t=n.options,r=t.scroll,s=r===void 0?!0:r,a=t.resize,o=a===void 0?!0:a,l=Je(i.elements.popper),c=[].concat(i.scrollParents.reference,i.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",e.update,nr)}),o&&l.addEventListener("resize",e.update,nr),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",e.update,nr)}),o&&l.removeEventListener("resize",e.update,nr)}}const td={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ed,data:{}};var id={left:"right",right:"left",bottom:"top",top:"bottom"};function dr(n){return n.replace(/left|right|bottom|top/g,function(i){return id[i]})}var rd={start:"end",end:"start"};function co(n){return n.replace(/start|end/g,function(i){return rd[i]})}function $n(n){var i=Je(n),e=i.pageXOffset,t=i.pageYOffset;return{scrollLeft:e,scrollTop:t}}function es(n){return mi(Bt(n)).left+$n(n).scrollLeft}function nd(n,i){var e=Je(n),t=Bt(n),r=e.visualViewport,s=t.clientWidth,a=t.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;var c=za();(c||!c&&i==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o+es(n),y:l}}function sd(n){var i,e=Bt(n),t=$n(n),r=(i=n.ownerDocument)==null?void 0:i.body,s=Zt(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Zt(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-t.scrollLeft+es(n),l=-t.scrollTop;return Et(r||e).direction==="rtl"&&(o+=Zt(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function ts(n){var i=Et(n),e=i.overflow,t=i.overflowX,r=i.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+t)}function Ha(n){return["html","body","#document"].indexOf(bt(n))>=0?n.ownerDocument.body:et(n)&&ts(n)?n:Ha(Fr(n))}function Di(n,i){var e;i===void 0&&(i=[]);var t=Ha(n),r=t===((e=n.ownerDocument)==null?void 0:e.body),s=Je(t),a=r?[s].concat(s.visualViewport||[],ts(t)?t:[]):t,o=i.concat(a);return r?o:o.concat(Di(Fr(a)))}function wn(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function od(n,i){var e=mi(n,!1,i==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function ho(n,i,e){return i===Aa?wn(nd(n,e)):Jt(i)?od(i,e):wn(sd(Bt(n)))}function ad(n){var i=Di(Fr(n)),e=["absolute","fixed"].indexOf(Et(n).position)>=0,t=e&&et(n)?Ki(n):n;return Jt(t)?i.filter(function(r){return Jt(r)&&Da(r,t)&&bt(r)!=="body"}):[]}function ld(n,i,e,t){var r=i==="clippingParents"?ad(n):[].concat(i),s=[].concat(r,[e]),a=s[0],o=s.reduce(function(l,c){var h=ho(n,c,t);return l.top=Zt(h.top,l.top),l.right=xr(h.right,l.right),l.bottom=xr(h.bottom,l.bottom),l.left=Zt(h.left,l.left),l},ho(n,a,t));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Ba(n){var i=n.reference,e=n.element,t=n.placement,r=t?yt(t):null,s=t?vi(t):null,a=i.x+i.width/2-e.width/2,o=i.y+i.height/2-e.height/2,l;switch(r){case Ge:l={x:a,y:i.y-e.height};break;case tt:l={x:a,y:i.y+i.height};break;case it:l={x:i.x+i.width,y:o};break;case Ze:l={x:i.x-e.width,y:o};break;default:l={x:i.x,y:i.y}}var c=r?Qn(r):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case pi:l[c]=l[c]-(i[h]/2-e[h]/2);break;case Vi:l[c]=l[c]+(i[h]/2-e[h]/2);break}}return l}function qi(n,i){i===void 0&&(i={});var e=i,t=e.placement,r=t===void 0?n.placement:t,s=e.strategy,a=s===void 0?n.strategy:s,o=e.boundary,l=o===void 0?ku:o,c=e.rootBoundary,h=c===void 0?Aa:c,d=e.elementContext,f=d===void 0?Si:d,v=e.altBoundary,w=v===void 0?!1:v,x=e.padding,b=x===void 0?0:x,_=Ia(typeof b!="number"?b:Ma(b,Xi)),A=f===Si?Ru:Si,D=n.rects.popper,I=n.elements[w?A:f],W=ld(Jt(I)?I:I.contextElement||Bt(n.elements.popper),l,h,a),q=mi(n.elements.reference),Y=Ba({reference:q,element:D,strategy:"absolute",placement:r}),X=wn(Object.assign({},D,Y)),Q=f===Si?X:q,ne={top:W.top-Q.top+_.top,bottom:Q.bottom-W.bottom+_.bottom,left:W.left-Q.left+_.left,right:Q.right-W.right+_.right},oe=n.modifiersData.offset;if(f===Si&&oe){var ue=oe[r];Object.keys(ne).forEach(function(de){var _e=[it,tt].indexOf(de)>=0?1:-1,Ae=[Ge,tt].indexOf(de)>=0?"y":"x";ne[de]+=ue[Ae]*_e})}return ne}function cd(n,i){i===void 0&&(i={});var e=i,t=e.placement,r=e.boundary,s=e.rootBoundary,a=e.padding,o=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?Oa:l,h=vi(t),d=h?o?oo:oo.filter(function(w){return vi(w)===h}):Xi,f=d.filter(function(w){return c.indexOf(w)>=0});f.length===0&&(f=d);var v=f.reduce(function(w,x){return w[x]=qi(n,{placement:x,boundary:r,rootBoundary:s,padding:a})[yt(x)],w},{});return Object.keys(v).sort(function(w,x){return v[w]-v[x]})}function hd(n){if(yt(n)===Kn)return[];var i=dr(n);return[co(n),i,co(i)]}function ud(n){var i=n.state,e=n.options,t=n.name;if(!i.modifiersData[t]._skip){for(var r=e.mainAxis,s=r===void 0?!0:r,a=e.altAxis,o=a===void 0?!0:a,l=e.fallbackPlacements,c=e.padding,h=e.boundary,d=e.rootBoundary,f=e.altBoundary,v=e.flipVariations,w=v===void 0?!0:v,x=e.allowedAutoPlacements,b=i.options.placement,_=yt(b),A=_===b,D=l||(A||!w?[dr(b)]:hd(b)),I=[b].concat(D).reduce(function(fe,ye){return fe.concat(yt(ye)===Kn?cd(i,{placement:ye,boundary:h,rootBoundary:d,padding:c,flipVariations:w,allowedAutoPlacements:x}):ye)},[]),W=i.rects.reference,q=i.rects.popper,Y=new Map,X=!0,Q=I[0],ne=0;ne<I.length;ne++){var oe=I[ne],ue=yt(oe),de=vi(oe)===pi,_e=[Ge,tt].indexOf(ue)>=0,Ae=_e?"width":"height",ae=qi(i,{placement:oe,boundary:h,rootBoundary:d,altBoundary:f,padding:c}),te=_e?de?it:Ze:de?tt:Ge;W[Ae]>q[Ae]&&(te=dr(te));var le=dr(te),xe=[];if(s&&xe.push(ae[ue]<=0),o&&xe.push(ae[te]<=0,ae[le]<=0),xe.every(function(fe){return fe})){Q=oe,X=!1;break}Y.set(oe,xe)}if(X)for(var H=w?3:1,M=function(ye){var be=I.find(function(Pe){var Ce=Y.get(Pe);if(Ce)return Ce.slice(0,ye).every(function(He){return He})});if(be)return Q=be,"break"},G=H;G>0;G--){var re=M(G);if(re==="break")break}i.placement!==Q&&(i.modifiersData[t]._skip=!0,i.placement=Q,i.reset=!0)}}const dd={name:"flip",enabled:!0,phase:"main",fn:ud,requiresIfExists:["offset"],data:{_skip:!1}};function uo(n,i,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-i.height-e.y,right:n.right-i.width+e.x,bottom:n.bottom-i.height+e.y,left:n.left-i.width-e.x}}function fo(n){return[Ge,it,tt,Ze].some(function(i){return n[i]>=0})}function fd(n){var i=n.state,e=n.name,t=i.rects.reference,r=i.rects.popper,s=i.modifiersData.preventOverflow,a=qi(i,{elementContext:"reference"}),o=qi(i,{altBoundary:!0}),l=uo(a,t),c=uo(o,r,s),h=fo(l),d=fo(c);i.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}const pd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fd};function gd(n,i,e){var t=yt(n),r=[Ze,Ge].indexOf(t)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},i,{placement:n})):e,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[Ze,it].indexOf(t)>=0?{x:o,y:a}:{x:a,y:o}}function md(n){var i=n.state,e=n.options,t=n.name,r=e.offset,s=r===void 0?[0,0]:r,a=Oa.reduce(function(h,d){return h[d]=gd(d,i.rects,s),h},{}),o=a[i.placement],l=o.x,c=o.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=l,i.modifiersData.popperOffsets.y+=c),i.modifiersData[t]=a}const vd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:md};function wd(n){var i=n.state,e=n.name;i.modifiersData[e]=Ba({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})}const yd={name:"popperOffsets",enabled:!0,phase:"read",fn:wd,data:{}};function bd(n){return n==="x"?"y":"x"}function xd(n){var i=n.state,e=n.options,t=n.name,r=e.mainAxis,s=r===void 0?!0:r,a=e.altAxis,o=a===void 0?!1:a,l=e.boundary,c=e.rootBoundary,h=e.altBoundary,d=e.padding,f=e.tether,v=f===void 0?!0:f,w=e.tetherOffset,x=w===void 0?0:w,b=qi(i,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),_=yt(i.placement),A=vi(i.placement),D=!A,I=Qn(_),W=bd(I),q=i.modifiersData.popperOffsets,Y=i.rects.reference,X=i.rects.popper,Q=typeof x=="function"?x(Object.assign({},i.rects,{placement:i.placement})):x,ne=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),oe=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,ue={x:0,y:0};if(q){if(s){var de,_e=I==="y"?Ge:Ze,Ae=I==="y"?tt:it,ae=I==="y"?"height":"width",te=q[I],le=te+b[_e],xe=te-b[Ae],H=v?-X[ae]/2:0,M=A===pi?Y[ae]:X[ae],G=A===pi?-X[ae]:-Y[ae],re=i.elements.arrow,fe=v&&re?Jn(re):{width:0,height:0},ye=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:La(),be=ye[_e],Pe=ye[Ae],Ce=zi(0,Y[ae],fe[ae]),He=D?Y[ae]/2-H-Ce-be-ne.mainAxis:M-Ce-be-ne.mainAxis,dt=D?-Y[ae]/2+H+Ce+Pe+ne.mainAxis:G+Ce+Pe+ne.mainAxis,$e=i.elements.arrow&&Ki(i.elements.arrow),S=$e?I==="y"?$e.clientTop||0:$e.clientLeft||0:0,C=(de=oe==null?void 0:oe[I])!=null?de:0,L=te+He-C-S,u=te+dt-C,m=zi(v?xr(le,L):le,te,v?Zt(xe,u):xe);q[I]=m,ue[I]=m-te}if(o){var E,k=I==="x"?Ge:Ze,P=I==="x"?tt:it,O=q[W],R=W==="y"?"height":"width",U=O+b[k],N=O-b[P],j=[Ge,Ze].indexOf(_)!==-1,F=(E=oe==null?void 0:oe[W])!=null?E:0,J=j?U:O-Y[R]-X[R]-F+ne.altAxis,K=j?O+Y[R]+X[R]-F-ne.altAxis:N,ie=v&&j?qu(J,O,K):zi(v?J:U,O,v?K:N);q[W]=ie,ue[W]=ie-O}i.modifiersData[t]=ue}}const Td={name:"preventOverflow",enabled:!0,phase:"main",fn:xd,requiresIfExists:["offset"]};function _d(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Sd(n){return n===Je(n)||!et(n)?$n(n):_d(n)}function Ed(n){var i=n.getBoundingClientRect(),e=gi(i.width)/n.offsetWidth||1,t=gi(i.height)/n.offsetHeight||1;return e!==1||t!==1}function Pd(n,i,e){e===void 0&&(e=!1);var t=et(i),r=et(i)&&Ed(i),s=Bt(i),a=mi(n,r,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(t||!t&&!e)&&((bt(i)!=="body"||ts(s))&&(o=Sd(i)),et(i)?(l=mi(i,!0),l.x+=i.clientLeft,l.y+=i.clientTop):s&&(l.x=es(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Cd(n){var i=new Map,e=new Set,t=[];n.forEach(function(s){i.set(s.name,s)});function r(s){e.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!e.has(o)){var l=i.get(o);l&&r(l)}}),t.push(s)}return n.forEach(function(s){e.has(s.name)||r(s)}),t}function kd(n){var i=Cd(n);return Fu.reduce(function(e,t){return e.concat(i.filter(function(r){return r.phase===t}))},[])}function Rd(n){var i;return function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(n())})})),i}}function Ad(n){var i=n.reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{});return Object.keys(i).map(function(e){return i[e]})}var po={placement:"bottom",modifiers:[],strategy:"absolute"};function go(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return!i.some(function(t){return!(t&&typeof t.getBoundingClientRect=="function")})}function Od(n){n===void 0&&(n={});var i=n,e=i.defaultModifiers,t=e===void 0?[]:e,r=i.defaultOptions,s=r===void 0?po:r;return function(o,l,c){c===void 0&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},po,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],f=!1,v={state:h,setOptions:function(_){var A=typeof _=="function"?_(h.options):_;x(),h.options=Object.assign({},s,h.options,A),h.scrollParents={reference:Jt(o)?Di(o):o.contextElement?Di(o.contextElement):[],popper:Di(l)};var D=kd(Ad([].concat(t,h.options.modifiers)));return h.orderedModifiers=D.filter(function(I){return I.enabled}),w(),v.update()},forceUpdate:function(){if(!f){var _=h.elements,A=_.reference,D=_.popper;if(go(A,D)){h.rects={reference:Pd(A,Ki(D),h.options.strategy==="fixed"),popper:Jn(D)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(ne){return h.modifiersData[ne.name]=Object.assign({},ne.data)});for(var I=0;I<h.orderedModifiers.length;I++){if(h.reset===!0){h.reset=!1,I=-1;continue}var W=h.orderedModifiers[I],q=W.fn,Y=W.options,X=Y===void 0?{}:Y,Q=W.name;typeof q=="function"&&(h=q({state:h,options:X,name:Q,instance:v})||h)}}}},update:Rd(function(){return new Promise(function(b){v.forceUpdate(),b(h)})}),destroy:function(){x(),f=!0}};if(!go(o,l))return v;v.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function w(){h.orderedModifiers.forEach(function(b){var _=b.name,A=b.options,D=A===void 0?{}:A,I=b.effect;if(typeof I=="function"){var W=I({state:h,name:_,instance:v,options:D}),q=function(){};d.push(W||q)}})}function x(){d.forEach(function(b){return b()}),d=[]}return v}}var zd=[td,yd,$u,ju,vd,dd,Td,Ku,pd],en=Od({defaultModifiers:zd});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class Dd extends Hr{constructor(e){super(".hs-tooltip");pe(this,"root");this.root=e}init(){this.root.addEventListener("click",e=>{const r=e.target.closest(this.selector);r&&this.getClassProperty(r,"--trigger")==="focus"&&this._focus(r),r&&this.getClassProperty(r,"--trigger")==="click"&&this._click(r)}),this.root.addEventListener("mousemove",e=>{const r=e.target.closest(this.selector);r&&this.getClassProperty(r,"--trigger")!=="focus"&&this.getClassProperty(r,"--trigger")!=="click"&&this._hover(r)})}_hover(e){if(e.classList.contains("show"))return;const t=e.querySelector(".hs-tooltip-toggle"),r=e.querySelector(".hs-tooltip-content"),s=this.getClassProperty(e,"--placement");en(t,r,{placement:s||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(e);const a=o=>{o.relatedTarget.closest(this.selector)&&o.relatedTarget.closest(this.selector)==e||(this.hide(e),e.removeEventListener("mouseleave",a,!0))};e.addEventListener("mouseleave",a,!0)}_focus(e){const t=e.querySelector(".hs-tooltip-toggle"),r=e.querySelector(".hs-tooltip-content"),s=this.getClassProperty(e,"--placement"),a=this.getClassProperty(e,"--strategy");en(t,r,{placement:s||"top",strategy:a||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(e);const o=()=>{this.hide(e),e.removeEventListener("blur",o,!0)};e.addEventListener("blur",o,!0)}_click(e){if(e.classList.contains("show"))return;const t=e.querySelector(".hs-tooltip-toggle"),r=e.querySelector(".hs-tooltip-content"),s=this.getClassProperty(e,"--placement"),a=this.getClassProperty(e,"--strategy");en(t,r,{placement:s||"top",strategy:a||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(e);const o=l=>{setTimeout(()=>{this.hide(e),e.removeEventListener("click",o,!0),e.removeEventListener("blur",o,!0)})};e.addEventListener("blur",o,!0),e.addEventListener("click",o,!0)}show(e){e.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{e.classList.add("show"),this._fireEvent("show",e),this._dispatch("show.hs.tooltip",e,e)})}hide(e){const t=e.querySelector(".hs-tooltip-content");e.classList.remove("show"),this._fireEvent("hide",e),this._dispatch("hide.hs.tooltip",e,e),this.afterTransition(t,()=>{e.classList.contains("show")||t.classList.add("hidden")})}}const Ld={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},Id=["innerHTML"],Md={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},Hd={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},Bd=["src"],Fd={class:"p-4 md:p-5"},Nd={class:"text-lg font-bold text-gray-800 dark:text-white"},Ud={class:"mt-1 text-gray-800 dark:text-gray-400"},jd={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},Wd=["href"],Vd=Be("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),qd=Be("span",{class:"ml-1"},"Wikipedia",-1),Gd=[Vd,qd],Zd=Pt({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(n){const i=n;Ue(i,()=>{a.value=i.qid});const e=Re(null),t=Ee(()=>{var w,x;return(x=(w=e.value)==null?void 0:w.getRootNode())==null?void 0:x.host}),r=Ee(()=>{var w;return(w=t.value)==null?void 0:w.textContent}),s=Ee(()=>{var w;return(w=e==null?void 0:e.value)==null?void 0:w.parentNode});Ue(s,()=>{new Dd(s.value).init()});const a=Re(i.qid);Ue(a,()=>{f(a.value)});const o=Re({}),l=Ee(()=>a.value&&o.value[a.value]),c=Ee(()=>{var w,x,b;return(b=(x=(w=l.value)==null?void 0:w.labels)==null?void 0:x[i.language])==null?void 0:b.value}),h=Ee(()=>{var w,x,b;return(b=(x=(w=l.value)==null?void 0:w.descriptions)==null?void 0:x[i.language])==null?void 0:b.value}),d=Ee(()=>l.value&&l.value.sitelinks[`${i.language}wiki`].url);Ht(()=>{f(a.value)});async function f(w){if(!w||o.value[w])return;let x=`https://www.wikidata.org/wiki/Special:EntityData/${w}.json`;const _=await(await fetch(x)).json();Object.values(_.entities).forEach(A=>{A.summaryText={},A.claims.P18&&(A.image=A.claims.P18[0].mainsnak.datavalue.value,A.thumbnail=v(A.image))}),o.value={...o.value,..._.entities}}function v(w,x=300){Array.isArray(w)&&(w=w[0]),w=w.split("/").pop(),w=decodeURIComponent(w).replace(/ /g,"_");const b=ke.hashStr(w),_=w.split(".").pop();let A=`https://upload.wikimedia.org/wikipedia/commons${x?"/thumb":""}`;return A+=`/${b.slice(0,1)}/${b.slice(0,2)}/${w}`,x&&(A+=`/${x}px-${w}`,_==="svg"?A+=".png":(_==="tif"||_==="tiff")&&(A+=".jpg")),A}return(w,x)=>{var b;return lt(),_t("div",{ref_key:"root",ref:e,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[Be("a",Ld,[Be("span",{innerHTML:r.value,class:"bg-yellow-100"},null,8,Id),Be("div",Md,[Be("div",Hd,[Be("img",{class:"w-full h-auto rounded-t-xl",src:(b=l.value)==null?void 0:b.thumbnail,alt:"Image Description"},null,8,Bd),Be("div",Fd,[Be("h3",Nd,ds(c.value),1),Be("p",Ud,ds(h.value),1),Be("div",jd,[Be("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:d.value},Gd,8,Wd)])])])])])],512)}}}),Xd=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.z-50{z-index:50}.m-2{margin:.5rem}.ml-4{margin-left:1rem}.mt-4{margin-top:1rem}.block{display:block}.table{display:table}.flow-root{display:flow-root}.hidden{display:none}.w-full{width:100%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0{opacity:0}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}
`,Kd=$t(Zd,[["styles",[Xd]]]);var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fa={exports:{}};(function(n){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function i(e){return new i.Viewer(e)}(function(e){e.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.isFunction=function(a){return e.type(a)==="function"},e.isArray=Array.isArray||function(a){return e.type(a)==="array"},e.isWindow=function(a){return a&&typeof a=="object"&&"setInterval"in a},e.type=function(a){return a==null?String(a):t[r.call(a)]||"object"},e.isPlainObject=function(a){if(!a||i.type(a)!=="object"||a.nodeType||e.isWindow(a)||a.constructor&&!s.call(a,"constructor")&&!s.call(a.constructor.prototype,"isPrototypeOf"))return!1;var o;for(var l in a)o=l;return o===void 0||s.call(a,o)},e.isEmptyObject=function(a){for(var o in a)return!1;return!0},e.freezeObject=function(a){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(o){return o},e.freezeObject(a)},e.supportsCanvas=function(){var a=document.createElement("canvas");return!!(e.isFunction(a.getContext)&&a.getContext("2d"))}(),e.isCanvasTainted=function(a){var o=!1;try{a.getContext("2d").getImageData(0,0,1,1)}catch{o=!0}return o},e.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),e.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),e.supportsEventListenerOptions=function(){var a=0;if(e.supportsAddEventListener)try{var o={get capture(){return a++,!1},get once(){return a++,!1},get passive(){return a++,!1}};window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{a=0}return a>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var a=document.createElement("canvas").getContext("2d"),o=window.devicePixelRatio||1,l=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return Math.max(o,1)/l}else return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()})(i),function(e){e.extend=function(){var l,c,h,d,f,v,w=arguments[0]||{},x=arguments.length,b=!1,_=1;for(typeof w=="boolean"&&(b=w,w=arguments[1]||{},_=2),typeof w!="object"&&!i.isFunction(w)&&(w={}),x===_&&(w=this,--_);_<x;_++)if(l=arguments[_],l!==null||l!==void 0)for(c in l){var A=Object.getOwnPropertyDescriptor(l,c);if(A!==void 0){if(A.get||A.set){Object.defineProperty(w,c,A);continue}d=A.value}else{e.console.warn('Could not copy inherited property "'+c+'".');continue}w!==d&&(b&&d&&(i.isPlainObject(d)||(f=i.isArray(d)))?(h=w[c],f?(f=!1,v=h&&i.isArray(h)?h:[]):v=h&&i.isPlainObject(h)?h:{},w[c]=i.extend(b,v,d)):d!==void 0&&(w[c]=d))}return w};var t=function(){if(typeof navigator!="object")return!1;var l=navigator.userAgent;return typeof l!="string"?!1:l.indexOf("iPhone")!==-1||l.indexOf("iPad")!==-1||l.indexOf("iPod")!==-1};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:t(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(l,c){return function(){var h=arguments;return h===void 0&&(h=[]),c.apply(l,h)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(l){return e._viewers.get(this.getElement(l))},getElement:function(l){return typeof l=="string"&&(l=document.getElementById(l)),l},getElementPosition:function(l){var c=new e.Point,h,d;for(l=e.getElement(l),h=e.getElementStyle(l).position==="fixed",d=o(l,h);d;)c.x+=l.offsetLeft,c.y+=l.offsetTop,h&&(c=c.plus(e.getPageScroll())),l=d,h=e.getElementStyle(l).position==="fixed",d=o(l,h);return c},getElementOffset:function(l){l=e.getElement(l);var c=l&&l.ownerDocument,h,d,f={top:0,left:0};return c?(h=c.documentElement,typeof l.getBoundingClientRect<"u"&&(f=l.getBoundingClientRect()),d=c===c.window?c:c.nodeType===9?c.defaultView||c.parentWindow:!1,new e.Point(f.left+(d.pageXOffset||h.scrollLeft)-(h.clientLeft||0),f.top+(d.pageYOffset||h.scrollTop)-(h.clientTop||0))):new e.Point},getElementSize:function(l){return l=e.getElement(l),new e.Point(l.clientWidth,l.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(l){return l=e.getElement(l),l.currentStyle}:function(l){return l=e.getElement(l),window.getComputedStyle(l,"")},getCssPropertyWithVendorPrefix:function(l){var c={};return e.getCssPropertyWithVendorPrefix=function(h){if(c[h]!==void 0)return c[h];var d=document.createElement("div").style,f=null;if(d[h]!==void 0)f=h;else for(var v=["Webkit","Moz","MS","O","webkit","moz","ms","o"],w=e.capitalizeFirstLetter(h),x=0;x<v.length;x++){var b=v[x]+w;if(d[b]!==void 0){f=b;break}}return c[h]=f,f},e.getCssPropertyWithVendorPrefix(l)},capitalizeFirstLetter:function(l){return l.charAt(0).toUpperCase()+l.slice(1)},positiveModulo:function(l,c){var h=l%c;return h<0&&(h+=c),h},pointInElement:function(l,c){l=e.getElement(l);var h=e.getElementOffset(l),d=e.getElementSize(l);return c.x>=h.x&&c.x<h.x+d.x&&c.y<h.y+d.y&&c.y>=h.y},getMousePosition:function(l){if(typeof l.pageX=="number")e.getMousePosition=function(c){var h=new e.Point;return h.x=c.pageX,h.y=c.pageY,h};else if(typeof l.clientX=="number")e.getMousePosition=function(c){var h=new e.Point;return h.x=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,h.y=c.clientY+document.body.scrollTop+document.documentElement.scrollTop,h};else throw new Error("Unknown event mouse position, no known technique.");return e.getMousePosition(l)},getPageScroll:function(){var l=document.documentElement||{},c=document.body||{};if(typeof window.pageXOffset=="number")e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(c.scrollLeft||c.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else if(l.scrollLeft||l.scrollTop)e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new e.Point(0,0);return e.getPageScroll()},setPageScroll:function(l){if(typeof window.scrollTo<"u")e.setPageScroll=function(d){window.scrollTo(d.x,d.y)};else{var c=e.getPageScroll();if(c.x===l.x&&c.y===l.y)return;document.body.scrollLeft=l.x,document.body.scrollTop=l.y;var h=e.getPageScroll();if(h.x!==c.x&&h.y!==c.y){e.setPageScroll=function(d){document.body.scrollLeft=d.x,document.body.scrollTop=d.y};return}if(document.documentElement.scrollLeft=l.x,document.documentElement.scrollTop=l.y,h=e.getPageScroll(),h.x!==c.x&&h.y!==c.y){e.setPageScroll=function(d){document.documentElement.scrollLeft=d.x,document.documentElement.scrollTop=d.y};return}e.setPageScroll=function(d){}}e.setPageScroll(l)},getWindowSize:function(){var l=document.documentElement||{},c=document.body||{};if(typeof window.innerWidth=="number")e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(l.clientWidth||l.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(c.clientWidth||c.clientHeight)e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return e.getWindowSize()},makeCenteredNode:function(l){l=e.getElement(l);var c=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(c[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(c[1].style,{display:"table-row"}),e.extend(c[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),c[0].appendChild(c[1]),c[1].appendChild(c[2]),c[2].appendChild(l),c[0]},makeNeutralElement:function(l){var c=document.createElement(l),h=c.style;return h.background="transparent none",h.border="none",h.margin="0px",h.padding="0px",h.position="static",c},now:function(){return Date.now?e.now=Date.now:e.now=function(){return new Date().getTime()},e.now()},makeTransparentImage:function(l){var c=e.makeNeutralElement("img");return c.src=l,c},setElementOpacity:function(l,c,h){var d,f;l=e.getElement(l),h&&!e.Browser.alpha&&(c=Math.round(c)),e.Browser.opacity?l.style.opacity=c<1?c:"":c<1?(d=Math.round(100*c),f="alpha(opacity="+d+")",l.style.filter=f):l.style.filter=""},setElementTouchActionNone:function(l){l=e.getElement(l),typeof l.style.touchAction<"u"?l.style.touchAction="none":typeof l.style.msTouchAction<"u"&&(l.style.msTouchAction="none")},setElementPointerEvents:function(l,c){l=e.getElement(l),typeof l.style<"u"&&typeof l.style.pointerEvents<"u"&&(l.style.pointerEvents=c)},setElementPointerEventsNone:function(l){e.setElementPointerEvents(l,"none")},addClass:function(l,c){l=e.getElement(l),l.className?(" "+l.className+" ").indexOf(" "+c+" ")===-1&&(l.className+=" "+c):l.className=c},indexOf:function(l,c,h){return Array.prototype.indexOf?this.indexOf=function(d,f,v){return d.indexOf(f,v)}:this.indexOf=function(d,f,v){var w,x=v||0,b;if(!d)throw new TypeError;if(b=d.length,b===0||x>=b)return-1;for(x<0&&(x=b-Math.abs(x)),w=x;w<b;w++)if(d[w]===f)return w;return-1},this.indexOf(l,c,h)},removeClass:function(l,c){var h,d=[],f;for(l=e.getElement(l),h=l.className.split(/\s+/),f=0;f<h.length;f++)h[f]&&h[f]!==c&&d.push(h[f]);l.className=d.join(" ")},normalizeEventListenerOptions:function(l){var c;return typeof l<"u"?typeof l=="boolean"?c=e.supportsEventListenerOptions?{capture:l}:l:c=e.supportsEventListenerOptions?l:typeof l.capture<"u"?l.capture:!1:c=e.supportsEventListenerOptions?{capture:!1}:!1,c},addEvent:function(){if(e.supportsAddEventListener)return function(l,c,h,d){d=e.normalizeEventListenerOptions(d),l=e.getElement(l),l.addEventListener(c,h,d)};if(document.documentElement.attachEvent&&document.attachEvent)return function(l,c,h){l=e.getElement(l),l.attachEvent("on"+c,h)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(l,c,h,d){d=e.normalizeEventListenerOptions(d),l=e.getElement(l),l.removeEventListener(c,h,d)};if(document.documentElement.detachEvent&&document.detachEvent)return function(l,c,h){l=e.getElement(l),l.detachEvent("on"+c,h)};throw new Error("No known event model.")}(),cancelEvent:function(l){l.preventDefault()},eventIsCanceled:function(l){return l.defaultPrevented},stopEvent:function(l){l.stopPropagation()},createCallback:function(l,c){var h=[],d;for(d=2;d<arguments.length;d++)h.push(arguments[d]);return function(){var f=h.concat([]),v;for(v=0;v<arguments.length;v++)f.push(arguments[v]);return c.apply(l,f)}},getUrlParameter:function(l){var c=a[l];return c||null},getUrlProtocol:function(l){var c=l.match(/^([a-z]+:)\/\//i);return c===null?window.location.protocol:c[1].toLowerCase()},createAjaxRequest:function(l){var c;try{c=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{c=!1}if(c)window.XMLHttpRequest?e.createAjaxRequest=function(h){return h?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)e.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return e.createAjaxRequest(l)},makeAjaxRequest:function(l,c,h){var d,f,v,w;e.isPlainObject(l)&&(c=l.success,h=l.error,d=l.withCredentials,f=l.headers,v=l.responseType||null,w=l.postData||null,l=l.url);var x=e.getUrlProtocol(l),b=e.createAjaxRequest(x==="file:");if(!e.isFunction(c))throw new Error("makeAjaxRequest requires a success callback");b.onreadystatechange=function(){b.readyState===4&&(b.onreadystatechange=function(){},b.status>=200&&b.status<300||b.status===0&&x!=="http:"&&x!=="https:"?c(b):e.isFunction(h)?h(b):e.console.error("AJAX request returned %d: %s",b.status,l))};var _=w?"POST":"GET";try{if(b.open(_,l,!0),v&&(b.responseType=v),f)for(var A in f)Object.prototype.hasOwnProperty.call(f,A)&&f[A]&&b.setRequestHeader(A,f[A]);d&&(b.withCredentials=!0),b.send(w)}catch(D){e.console.error("%s while making AJAX request: %s",D.name,D.message),b.onreadystatechange=function(){},e.isFunction(h)&&h(b,D)}return b},jsonp:function(l){var c,h=l.url,d=document.head||document.getElementsByTagName("head")[0]||document.documentElement,f=l.callbackName||"openseadragon"+e.now(),v=window[f],w="$1"+f+"$2",x=l.param||"callback",b=l.callback;h=h.replace(/(=)\?(&|$)|\?\?/i,w),h+=(/\?/.test(h)?"&":"?")+x+"="+f,window[f]=function(_){if(v)window[f]=v;else try{delete window[f]}catch{}b&&e.isFunction(b)&&b(_)},c=document.createElement("script"),(l.async!==void 0||l.async!==!1)&&(c.async="async"),l.scriptCharset&&(c.charset=l.scriptCharset),c.src=h,c.onload=c.onreadystatechange=function(_,A){(A||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=void 0)},d.insertBefore(c,d.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(l){if(window.DOMParser)e.parseXml=function(c){var h=null,d;return d=new DOMParser,h=d.parseFromString(c,"text/xml"),h};else if(window.ActiveXObject)e.parseXml=function(c){var h=null;return h=new ActiveXObject("Microsoft.XMLDOM"),h.async=!1,h.loadXML(c),h};else throw new Error("Browser doesn't support XML DOM.");return e.parseXml(l)},parseJSON:function(l){return e.parseJSON=window.JSON.parse,e.parseJSON(l)},imageFormatSupported:function(l){return l=l||"",!!s[l.toLowerCase()]},setImageFormatsSupported:function(l){e.extend(s,l)}});var r=function(l){};e.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var s={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},a={};(function(){var l=navigator.appVersion,c=navigator.userAgent,h;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(c.substring(c.indexOf("MSIE")+5,c.indexOf(";",c.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(c.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(c.substring(c.indexOf("Edge")+5))):c.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(c.substring(c.indexOf("Edg")+4))):c.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(c.substring(c.indexOf("Firefox")+8))):c.indexOf("Safari")>=0?(e.Browser.vendor=c.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(c.substring(c.substring(0,c.indexOf("Safari")).lastIndexOf("/")+1,c.indexOf("Safari")))):(h=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),h.exec(c)!==null&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(l);break}var d=window.location.search.substring(1),f=d.split("&"),v,w,x;for(x=0;x<f.length;x++)if(v=f[x],w=v.indexOf("="),w>0){var b=v.substring(0,w),_=v.substring(w+1);try{a[b]=decodeURIComponent(_)}catch{e.console.error("Ignoring malformed URL parameter: %s=%s",b,_)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(l){var c=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||l.msRequestAnimationFrame,h=l.cancelAnimationFrame||l.mozCancelAnimationFrame||l.webkitCancelAnimationFrame||l.msCancelAnimationFrame;if(c&&h)e.requestAnimationFrame=function(){return c.apply(l,arguments)},e.cancelAnimationFrame=function(){return h.apply(l,arguments)};else{var d=[],f=[],v=0,w;e.requestAnimationFrame=function(x){return d.push([++v,x]),w||(w=setInterval(function(){if(d.length){var b=e.now(),_=f;for(f=d,d=_;f.length;)f.shift()[1](b)}else clearInterval(w),w=void 0},1e3/50)),v},e.cancelAnimationFrame=function(x){var b,_;for(b=0,_=d.length;b<_;b+=1)if(d[b][0]===x){d.splice(b,1);return}for(b=0,_=f.length;b<_;b+=1)if(f[b][0]===x){f.splice(b,1);return}}}}(window);function o(l,c){return c&&l!==document.body?document.body:l.offsetParent}}(i),function(e,t){n.exports?n.exports=t():e.OpenSeadragon=t()}(Yd,function(){return i}),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(r){return r.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(r){return r.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(r){return r.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(r){return r.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(r){return r.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return t.getFullScreenElement()!==null},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(i),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(t,r,s,a){var o=this;a=a||1;var l=0,c=function(h){l++,l===a&&o.removeHandler(t,c),r(h)};this.addHandler(t,c,s)},addHandler:function(t,r,s){var a=this.events[t];a||(this.events[t]=a=[]),r&&e.isFunction(r)&&(a[a.length]={handler:r,userData:s||null})},removeHandler:function(t,r){var s=this.events[t],a=[],o;if(s&&e.isArray(s)){for(o=0;o<s.length;o++)s[o].handler!==r&&a.push(s[o]);this.events[t]=a}},numberOfHandlers:function(t){var r=this.events[t];return r?r.length:0},removeAllHandlers:function(t){if(t)this.events[t]=[];else for(var r in this.events)this.events[r]=[]},getHandler:function(t){var r=this.events[t];return!r||!r.length?null:(r=r.length===1?[r[0]]:Array.apply(null,r),function(s,a){var o,l=r.length;for(o=0;o<l;o++)r[o]&&(a.eventSource=s,a.userData=r[o].userData,r[o].handler(a))})},raiseEvent:function(t,r){var s=this.getHandler(t);s&&(r||(r={}),s(this,r))}}}(i),function(e){var t={};e.MouseTracker=function(g){var p=arguments;e.isPlainObject(g)||(g={element:p[0],clickTimeThreshold:p[1],clickDistThreshold:p[2]}),this.hash=Math.random(),this.element=e.getElement(g.element),this.clickTimeThreshold=g.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=g.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=g.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=g.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=g.userData||null,this.stopDelay=g.stopDelay||50,this.preProcessEventHandler=g.preProcessEventHandler||null,this.contextMenuHandler=g.contextMenuHandler||null,this.enterHandler=g.enterHandler||null,this.leaveHandler=g.leaveHandler||null,this.exitHandler=g.exitHandler||null,this.overHandler=g.overHandler||null,this.outHandler=g.outHandler||null,this.pressHandler=g.pressHandler||null,this.nonPrimaryPressHandler=g.nonPrimaryPressHandler||null,this.releaseHandler=g.releaseHandler||null,this.nonPrimaryReleaseHandler=g.nonPrimaryReleaseHandler||null,this.moveHandler=g.moveHandler||null,this.scrollHandler=g.scrollHandler||null,this.clickHandler=g.clickHandler||null,this.dblClickHandler=g.dblClickHandler||null,this.dragHandler=g.dragHandler||null,this.dragEndHandler=g.dragEndHandler||null,this.pinchHandler=g.pinchHandler||null,this.stopHandler=g.stopHandler||null,this.keyDownHandler=g.keyDownHandler||null,this.keyUpHandler=g.keyUpHandler||null,this.keyHandler=g.keyHandler||null,this.focusHandler=g.focusHandler||null,this.blurHandler=g.blurHandler||null;var y=this;t[this.hash]={click:function(T){D(y,T)},dblclick:function(T){I(y,T)},keydown:function(T){W(y,T)},keyup:function(T){q(y,T)},keypress:function(T){Y(y,T)},focus:function(T){X(y,T)},blur:function(T){Q(y,T)},contextmenu:function(T){ne(y,T)},wheel:function(T){oe(y,T)},mousewheel:function(T){ue(y,T)},DOMMouseScroll:function(T){ue(y,T)},MozMousePixelScroll:function(T){ue(y,T)},losecapture:function(T){_e(y,T)},mouseenter:function(T){re(y,T)},mouseleave:function(T){fe(y,T)},mouseover:function(T){ye(y,T)},mouseout:function(T){be(y,T)},mousedown:function(T){Pe(y,T)},mouseup:function(T){Ce(y,T)},mousemove:function(T){$e(y,T)},touchstart:function(T){Ae(y,T)},touchend:function(T){ae(y,T)},touchmove:function(T){te(y,T)},touchcancel:function(T){le(y,T)},gesturestart:function(T){xe(y,T)},gesturechange:function(T){H(y,T)},gotpointercapture:function(T){M(y,T)},lostpointercapture:function(T){G(y,T)},pointerenter:function(T){re(y,T)},pointerleave:function(T){fe(y,T)},pointerover:function(T){ye(y,T)},pointerout:function(T){be(y,T)},pointerdown:function(T){Pe(y,T)},pointerup:function(T){Ce(y,T)},pointermove:function(T){$e(y,T)},pointercancel:function(T){L(y,T)},pointerupcaptured:function(T){He(y,T)},pointermovecaptured:function(T){S(y,T)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),g.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){l(this),this.element=null,t[this.hash]=null,delete t[this.hash]},isTracking:function(){return t[this.hash].tracking},setTracking:function(g){return g?o(this):l(this),this},getActivePointersListByType:function(g){var p=t[this.hash],y,T=p.activePointersLists.length,z;for(y=0;y<T;y++)if(p.activePointersLists[y].type===g)return p.activePointersLists[y];return z=new e.MouseTracker.GesturePointList(g),p.activePointersLists.push(z),z},getActivePointerCount:function(){var g=t[this.hash],p,y=g.activePointersLists.length,T=0;for(p=0;p<y;p++)T+=g.activePointersLists[p].getLength();return T},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var r=function(){try{return window.self!==window.top}catch{return!0}}();function s(g){try{return g.addEventListener&&g.removeEventListener}catch{return!1}}e.MouseTracker.gesturePointVelocityTracker=function(){var g=[],p=0,y=0,T=function(ce,ee){return ce.hash.toString()+ee.type+ee.id.toString()},z=function(){var ce,ee=g.length,Ke,Le,ti=e.now(),os,as,ls;for(os=ti-y,y=ti,ce=0;ce<ee;ce++)Ke=g[ce],Le=Ke.gPoint,Le.direction=Math.atan2(Le.currentPos.y-Ke.lastPos.y,Le.currentPos.x-Ke.lastPos.x),as=Ke.lastPos.distanceTo(Le.currentPos),Ke.lastPos=Le.currentPos,ls=1e3*as/(os+1),Le.speed=.75*ls+.25*Le.speed},B=function(ce,ee){var Ke=T(ce,ee);g.push({guid:Ke,gPoint:ee,lastPos:ee.currentPos}),g.length===1&&(y=e.now(),p=window.setInterval(z,50))},Z=function(ce,ee){var Ke=T(ce,ee),Le,ti=g.length;for(Le=0;Le<ti;Le++)if(g[Le].guid===Ke){g.splice(Le,1),ti--,ti===0&&window.clearInterval(p);break}};return{addPoint:B,removePoint:Z}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],e.MouseTracker.wheelEventName==="DOMMouseScroll"&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var g=document.createElement("div");return e.isFunction(g.setPointerCapture)&&e.isFunction(g.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var g=document.createElement("div");return e.isFunction(g.setCapture)&&e.isFunction(g.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(g){this._gPoints=[],this.type=g,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(g){return this._gPoints.push(g)},removeById:function(g){var p,y=this._gPoints.length;for(p=0;p<y;p++)if(this._gPoints[p].id===g){this._gPoints.splice(p,1);break}return this._gPoints.length},getByIndex:function(g){return g<this._gPoints.length?this._gPoints[g]:null},getById:function(g){var p,y=this._gPoints.length;for(p=0;p<y;p++)if(this._gPoints[p].id===g)return this._gPoints[p];return null},getPrimary:function(g){var p,y=this._gPoints.length;for(p=0;p<y;p++)if(this._gPoints[p].isPrimary)return this._gPoints[p];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function a(g){var p=t[g.hash],y,T,z,B,Z,ce=p.activePointersLists.length;for(y=0;y<ce;y++)if(z=p.activePointersLists[y],z.getLength()>0){for(Z=[],B=z.asArray(),T=0;T<B.length;T++)Z.push(B[T]);for(T=0;T<Z.length;T++)m(g,z,Z[T])}for(y=0;y<ce;y++)p.activePointersLists.pop();p.sentDragEvent=!1}function o(g){var p=t[g.hash],y,T;if(!p.tracking){for(T=0;T<e.MouseTracker.subscribeEvents.length;T++)y=e.MouseTracker.subscribeEvents[T],e.addEvent(g.element,y,p[y],y===e.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);a(g),p.tracking=!0}}function l(g){var p=t[g.hash],y,T;if(p.tracking){for(T=0;T<e.MouseTracker.subscribeEvents.length;T++)y=e.MouseTracker.subscribeEvents[T],e.removeEvent(g.element,y,p[y],!1);a(g),p.tracking=!1}}function c(g,p){var y=t[g.hash];if(p==="pointerevent")return{upName:"pointerup",upHandler:y.pointerupcaptured,moveName:"pointermove",moveHandler:y.pointermovecaptured};if(p==="mouse")return{upName:"pointerup",upHandler:y.pointerupcaptured,moveName:"pointermove",moveHandler:y.pointermovecaptured};if(p==="touch")return{upName:"touchend",upHandler:y.touchendcaptured,moveName:"touchmove",moveHandler:y.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function h(g,p){var y;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{g.element.setPointerCapture(p.id)}catch{e.console.warn("setPointerCapture() called on invalid pointer ID");return}else g.element.setCapture(!0);else y=c(g,e.MouseTracker.havePointerEvents?"pointerevent":p.type),r&&s(window.top)&&e.addEvent(window.top,y.upName,y.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,y.upName,y.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,y.moveName,y.moveHandler,!0);P(g,p,!0)}function d(g,p){var y,T,z;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(T=g.getActivePointersListByType(p.type),z=T.getById(p.id),!z||!z.captured)return;try{g.element.releasePointerCapture(p.id)}catch{}}else g.element.releaseCapture();else y=c(g,e.MouseTracker.havePointerEvents?"pointerevent":p.type),r&&s(window.top)&&e.removeEvent(window.top,y.upName,y.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,y.moveName,y.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,y.upName,y.upHandler,!0);P(g,p,!1)}function f(g){return e.MouseTracker.havePointerEvents?g.pointerId:e.MouseTracker.mousePointerId}function v(g){return e.MouseTracker.havePointerEvents?g.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function w(g){return e.MouseTracker.havePointerEvents?g.isPrimary:!0}function x(g){return e.getMousePosition(g)}function b(g,p){return _(x(g),p)}function _(g,p){var y=e.getElementOffset(p);return g.minus(y)}function A(g,p){return new e.Point((g.x+p.x)/2,(g.y+p.y)/2)}function D(g,p){var y={originalEvent:p,eventType:"click",pointerType:"mouse",isEmulated:!1};k(g,y),y.preventDefault&&!y.defaultPrevented&&e.cancelEvent(p),y.stopPropagation&&e.stopEvent(p)}function I(g,p){var y={originalEvent:p,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};k(g,y),y.preventDefault&&!y.defaultPrevented&&e.cancelEvent(p),y.stopPropagation&&e.stopEvent(p)}function W(g,p){var y=null,T={originalEvent:p,eventType:"keydown",pointerType:"",isEmulated:!1};k(g,T),g.keyDownHandler&&!T.preventGesture&&!T.defaultPrevented&&(y={eventSource:g,keyCode:p.keyCode?p.keyCode:p.charCode,ctrl:p.ctrlKey,shift:p.shiftKey,alt:p.altKey,meta:p.metaKey,originalEvent:p,preventDefault:T.preventDefault||T.defaultPrevented,userData:g.userData},g.keyDownHandler(y)),(y&&y.preventDefault||T.preventDefault&&!T.defaultPrevented)&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function q(g,p){var y=null,T={originalEvent:p,eventType:"keyup",pointerType:"",isEmulated:!1};k(g,T),g.keyUpHandler&&!T.preventGesture&&!T.defaultPrevented&&(y={eventSource:g,keyCode:p.keyCode?p.keyCode:p.charCode,ctrl:p.ctrlKey,shift:p.shiftKey,alt:p.altKey,meta:p.metaKey,originalEvent:p,preventDefault:T.preventDefault||T.defaultPrevented,userData:g.userData},g.keyUpHandler(y)),(y&&y.preventDefault||T.preventDefault&&!T.defaultPrevented)&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function Y(g,p){var y=null,T={originalEvent:p,eventType:"keypress",pointerType:"",isEmulated:!1};k(g,T),g.keyHandler&&!T.preventGesture&&!T.defaultPrevented&&(y={eventSource:g,keyCode:p.keyCode?p.keyCode:p.charCode,ctrl:p.ctrlKey,shift:p.shiftKey,alt:p.altKey,meta:p.metaKey,originalEvent:p,preventDefault:T.preventDefault||T.defaultPrevented,userData:g.userData},g.keyHandler(y)),(y&&y.preventDefault||T.preventDefault&&!T.defaultPrevented)&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function X(g,p){var y={originalEvent:p,eventType:"focus",pointerType:"",isEmulated:!1};k(g,y),g.focusHandler&&!y.preventGesture&&g.focusHandler({eventSource:g,originalEvent:p,userData:g.userData})}function Q(g,p){var y={originalEvent:p,eventType:"blur",pointerType:"",isEmulated:!1};k(g,y),g.blurHandler&&!y.preventGesture&&g.blurHandler({eventSource:g,originalEvent:p,userData:g.userData})}function ne(g,p){var y=null,T={originalEvent:p,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};k(g,T),g.contextMenuHandler&&!T.preventGesture&&!T.defaultPrevented&&(y={eventSource:g,position:_(x(p),g.element),originalEvent:T.originalEvent,preventDefault:T.preventDefault||T.defaultPrevented,userData:g.userData},g.contextMenuHandler(y)),(y&&y.preventDefault||T.preventDefault&&!T.defaultPrevented)&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function oe(g,p){de(g,p,p)}function ue(g,p){var y={target:p.target||p.srcElement,type:"wheel",shiftKey:p.shiftKey||!1,clientX:p.clientX,clientY:p.clientY,pageX:p.pageX?p.pageX:p.clientX,pageY:p.pageY?p.pageY:p.clientY,deltaMode:p.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};e.MouseTracker.wheelEventName==="mousewheel"?y.deltaY=-p.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:y.deltaY=p.detail,de(g,y,p)}function de(g,p,y){var T=0,z,B=null;T=p.deltaY<0?1:-1,z={originalEvent:p,eventType:"wheel",pointerType:"mouse",isEmulated:p!==y},k(g,z),g.scrollHandler&&!z.preventGesture&&!z.defaultPrevented&&(B={eventSource:g,pointerType:"mouse",position:b(p,g.element),scroll:T,shift:p.shiftKey,isTouchEvent:!1,originalEvent:y,preventDefault:z.preventDefault||z.defaultPrevented,userData:g.userData},g.scrollHandler(B)),z.stopPropagation&&e.stopEvent(y),(B&&B.preventDefault||z.preventDefault&&!z.defaultPrevented)&&e.cancelEvent(y)}function _e(g,p){var y={id:e.MouseTracker.mousePointerId,type:"mouse"},T={originalEvent:p,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};k(g,T),p.target===g.element&&P(g,y,!1),T.stopPropagation&&e.stopEvent(p)}function Ae(g,p){var y,T,z=p.changedTouches.length,B,Z=g.getActivePointersListByType("touch");y=e.now(),Z.getLength()>p.touches.length-z&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var ce={originalEvent:p,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(k(g,ce),T=0;T<z;T++)B={id:p.changedTouches[T].identifier,type:"touch",isPrimary:Z.getLength()===0,currentPos:x(p.changedTouches[T]),currentTime:y},O(g,ce,B),j(g,ce,B,0),P(g,B,!0);ce.preventDefault&&!ce.defaultPrevented&&e.cancelEvent(p),ce.stopPropagation&&e.stopEvent(p)}function ae(g,p){var y,T,z=p.changedTouches.length,B;y=e.now();var Z={originalEvent:p,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(k(g,Z),T=0;T<z;T++)B={id:p.changedTouches[T].identifier,type:"touch",currentPos:x(p.changedTouches[T]),currentTime:y},F(g,Z,B,0),P(g,B,!1),R(g,Z,B);Z.preventDefault&&!Z.defaultPrevented&&e.cancelEvent(p),Z.stopPropagation&&e.stopEvent(p)}function te(g,p){var y,T,z=p.changedTouches.length,B;y=e.now();var Z={originalEvent:p,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(k(g,Z),T=0;T<z;T++)B={id:p.changedTouches[T].identifier,type:"touch",currentPos:x(p.changedTouches[T]),currentTime:y},J(g,Z,B);Z.preventDefault&&!Z.defaultPrevented&&e.cancelEvent(p),Z.stopPropagation&&e.stopEvent(p)}function le(g,p){var y=p.changedTouches.length,T,z,B={originalEvent:p,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(k(g,B),T=0;T<y;T++)z={id:p.changedTouches[T].identifier,type:"touch"},K(g,B,z);B.stopPropagation&&e.stopEvent(p)}function xe(g,p){return e.eventIsCanceled(p)||p.preventDefault(),!1}function H(g,p){return e.eventIsCanceled(p)||p.preventDefault(),!1}function M(g,p){var y={originalEvent:p,eventType:"gotpointercapture",pointerType:v(p),isEmulated:!1};k(g,y),p.target===g.element&&P(g,{id:p.pointerId,type:v(p)},!0),y.stopPropagation&&e.stopEvent(p)}function G(g,p){var y={originalEvent:p,eventType:"lostpointercapture",pointerType:v(p),isEmulated:!1};k(g,y),p.target===g.element&&P(g,{id:p.pointerId,type:v(p)},!1),y.stopPropagation&&e.stopEvent(p)}function re(g,p){var y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()},T={originalEvent:p,eventType:"pointerenter",pointerType:y.type,isEmulated:!1};k(g,T),O(g,T,y)}function fe(g,p){var y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()},T={originalEvent:p,eventType:"pointerleave",pointerType:y.type,isEmulated:!1};k(g,T),R(g,T,y)}function ye(g,p){var y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()},T={originalEvent:p,eventType:"pointerover",pointerType:y.type,isEmulated:!1};k(g,T),U(g,T,y),T.preventDefault&&!T.defaultPrevented&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function be(g,p){var y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()},T={originalEvent:p,eventType:"pointerout",pointerType:y.type,isEmulated:!1};k(g,T),N(g,T,y),T.preventDefault&&!T.defaultPrevented&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function Pe(g,p){var y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()},T=e.MouseTracker.havePointerEvents&&y.type==="touch"&&e.Browser.vendor!==e.BROWSERS.IE,z={originalEvent:p,eventType:"pointerdown",pointerType:y.type,isEmulated:!1};k(g,z),j(g,z,y,p.button),z.preventDefault&&!z.defaultPrevented&&e.cancelEvent(p),z.stopPropagation&&e.stopEvent(p),z.shouldCapture&&(T?P(g,y,!0):h(g,y))}function Ce(g,p){dt(g,p)}function He(g,p){var y=g.getActivePointersListByType(v(p));y.getById(p.pointerId)&&dt(g,p),e.stopEvent(p)}function dt(g,p){var y;y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()};var T={originalEvent:p,eventType:"pointerup",pointerType:y.type,isEmulated:!1};k(g,T),F(g,T,y,p.button),T.preventDefault&&!T.defaultPrevented&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p),T.shouldReleaseCapture&&(p.target===g.element?d(g,y):P(g,y,!1))}function $e(g,p){C(g,p)}function S(g,p){var y=g.getActivePointersListByType(v(p));y.getById(p.pointerId)&&C(g,p),e.stopEvent(p)}function C(g,p){var y={id:f(p),type:v(p),isPrimary:w(p),currentPos:x(p),currentTime:e.now()},T={originalEvent:p,eventType:"pointermove",pointerType:y.type,isEmulated:!1};k(g,T),J(g,T,y),T.preventDefault&&!T.defaultPrevented&&e.cancelEvent(p),T.stopPropagation&&e.stopEvent(p)}function L(g,p){var y={id:p.pointerId,type:v(p)},T={originalEvent:p,eventType:"pointercancel",pointerType:y.type,isEmulated:!1};k(g,T),K(g,T,y),T.stopPropagation&&e.stopEvent(p)}function u(g,p){return p.speed=0,p.direction=0,p.contactPos=p.currentPos,p.contactTime=p.currentTime,p.lastPos=p.currentPos,p.lastTime=p.currentTime,g.add(p)}function m(g,p,y){var T,z=p.getById(y.id);return z?(z.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),d(g,z)),p.removeContact(),T=p.removeById(y.id)):T=p.getLength(),T}function E(g,p){switch(p.eventType){case"pointermove":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!1,p.preventGesture=!g.hasGestureHandlers,p.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!1,p.preventGesture=!1,p.stopPropagation=!1;break;case"pointerdown":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!1,p.preventGesture=!g.hasGestureHandlers,p.stopPropagation=!1;break;case"pointerup":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!1,p.preventGesture=!g.hasGestureHandlers,p.stopPropagation=!1;break;case"wheel":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!1,p.preventGesture=!g.hasScrollHandler,p.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":p.isStoppable=!0,p.isCancelable=!1,p.preventDefault=!1,p.preventGesture=!1,p.stopPropagation=!1;break;case"click":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!!g.clickHandler,p.preventGesture=!1,p.stopPropagation=!1;break;case"dblclick":p.isStoppable=!0,p.isCancelable=!0,p.preventDefault=!!g.dblClickHandler,p.preventGesture=!1,p.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:p.isStoppable=!1,p.isCancelable=!1,p.preventDefault=!1,p.preventGesture=!1,p.stopPropagation=!1;break}}function k(g,p){p.eventSource=g,p.eventPhase=p.originalEvent&&typeof p.originalEvent.eventPhase<"u"?p.originalEvent.eventPhase:0,p.defaultPrevented=e.eventIsCanceled(p.originalEvent),p.shouldCapture=!1,p.shouldReleaseCapture=!1,p.userData=g.userData,E(g,p),g.preProcessEventHandler&&g.preProcessEventHandler(p)}function P(g,p,y){var T=g.getActivePointersListByType(p.type),z=T.getById(p.id);z?y&&!z.captured?(z.captured=!0,T.captureCount++):!y&&z.captured&&(z.captured=!1,T.captureCount--,T.captureCount<0&&(T.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function O(g,p,y){var T=g.getActivePointersListByType(y.type),z;z=T.getById(y.id),z?(z.insideElement=!0,z.lastPos=z.currentPos,z.lastTime=z.currentTime,z.currentPos=y.currentPos,z.currentTime=y.currentTime,y=z):(y.captured=!1,y.insideElementPressed=!1,y.insideElement=!0,u(T,y)),g.enterHandler&&g.enterHandler({eventSource:g,pointerType:y.type,position:_(y.currentPos,g.element),buttons:T.buttons,pointers:g.getActivePointerCount(),insideElementPressed:y.insideElementPressed,buttonDownAny:T.buttons!==0,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData})}function R(g,p,y){var T=g.getActivePointersListByType(y.type),z,B;z=T.getById(y.id),z?(z.captured?(z.insideElement=!1,z.lastPos=z.currentPos,z.lastTime=z.currentTime,z.currentPos=y.currentPos,z.currentTime=y.currentTime):m(g,T,z),y=z):(y.captured=!1,y.insideElementPressed=!1),(g.leaveHandler||g.exitHandler)&&(B={eventSource:g,pointerType:y.type,position:y.currentPos&&_(y.currentPos,g.element),buttons:T.buttons,pointers:g.getActivePointerCount(),insideElementPressed:y.insideElementPressed,buttonDownAny:T.buttons!==0,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData},g.leaveHandler&&g.leaveHandler(B),g.exitHandler&&g.exitHandler(B))}function U(g,p,y){var T,z;T=g.getActivePointersListByType(y.type),z=T.getById(y.id),z?y=z:(y.captured=!1,y.insideElementPressed=!1),g.overHandler&&g.overHandler({eventSource:g,pointerType:y.type,position:_(y.currentPos,g.element),buttons:T.buttons,pointers:g.getActivePointerCount(),insideElementPressed:y.insideElementPressed,buttonDownAny:T.buttons!==0,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData})}function N(g,p,y){var T,z;T=g.getActivePointersListByType(y.type),z=T.getById(y.id),z?y=z:(y.captured=!1,y.insideElementPressed=!1),g.outHandler&&g.outHandler({eventSource:g,pointerType:y.type,position:y.currentPos&&_(y.currentPos,g.element),buttons:T.buttons,pointers:g.getActivePointerCount(),insideElementPressed:y.insideElementPressed,buttonDownAny:T.buttons!==0,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData})}function j(g,p,y,T){var z=t[g.hash],B=g.getActivePointersListByType(y.type),Z;if(typeof p.originalEvent.buttons<"u"?B.buttons=p.originalEvent.buttons:T===0?B.buttons|=1:T===1?B.buttons|=4:T===2?B.buttons|=2:T===3?B.buttons|=8:T===4?B.buttons|=16:T===5&&(B.buttons|=32),T!==0){p.shouldCapture=!1,p.shouldReleaseCapture=!1,g.nonPrimaryPressHandler&&!p.preventGesture&&!p.defaultPrevented&&(p.preventDefault=!0,g.nonPrimaryPressHandler({eventSource:g,pointerType:y.type,position:_(y.currentPos,g.element),button:T,buttons:B.buttons,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData}));return}Z=B.getById(y.id),Z?(Z.insideElementPressed=!0,Z.insideElement=!0,Z.originalTarget=p.originalEvent.target,Z.contactPos=y.currentPos,Z.contactTime=y.currentTime,Z.lastPos=Z.currentPos,Z.lastTime=Z.currentTime,Z.currentPos=y.currentPos,Z.currentTime=y.currentTime,y=Z):(y.captured=!1,y.insideElementPressed=!0,y.insideElement=!0,y.originalTarget=p.originalEvent.target,u(B,y)),B.addContact(),!p.preventGesture&&!p.defaultPrevented?(p.shouldCapture=!0,p.shouldReleaseCapture=!1,p.preventDefault=!0,(g.dragHandler||g.dragEndHandler||g.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(g,y),B.contacts===1?g.pressHandler&&!p.preventGesture&&g.pressHandler({eventSource:g,pointerType:y.type,position:_(y.contactPos,g.element),buttons:B.buttons,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData}):B.contacts===2&&g.pinchHandler&&y.type==="touch"&&(z.pinchGPoints=B.asArray(),z.lastPinchDist=z.currentPinchDist=z.pinchGPoints[0].currentPos.distanceTo(z.pinchGPoints[1].currentPos),z.lastPinchCenter=z.currentPinchCenter=A(z.pinchGPoints[0].currentPos,z.pinchGPoints[1].currentPos))):(p.shouldCapture=!1,p.shouldReleaseCapture=!1)}function F(g,p,y,T){var z=t[g.hash],B=g.getActivePointersListByType(y.type),Z,ce,ee,Ke=!1,Le;if(typeof p.originalEvent.buttons<"u"?B.buttons=p.originalEvent.buttons:T===0?B.buttons^=-2:T===1?B.buttons^=-5:T===2?B.buttons^=-3:T===3?B.buttons^=-9:T===4?B.buttons^=-17:T===5&&(B.buttons^=-33),p.shouldCapture=!1,T!==0){p.shouldReleaseCapture=!1,g.nonPrimaryReleaseHandler&&!p.preventGesture&&!p.defaultPrevented&&(p.preventDefault=!0,g.nonPrimaryReleaseHandler({eventSource:g,pointerType:y.type,position:_(y.currentPos,g.element),button:T,buttons:B.buttons,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData}));return}ee=B.getById(y.id),ee?(B.removeContact(),ee.captured&&(Ke=!0),ee.lastPos=ee.currentPos,ee.lastTime=ee.currentTime,ee.currentPos=y.currentPos,ee.currentTime=y.currentTime,ee.insideElement||m(g,B,ee),Z=ee.currentPos,ce=ee.currentTime):(y.captured=!1,y.insideElementPressed=!1,y.insideElement=!0,u(B,y),ee=y),!p.preventGesture&&!p.defaultPrevented&&(Ke?(p.shouldReleaseCapture=!0,p.preventDefault=!0,(g.dragHandler||g.dragEndHandler||g.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(g,ee),B.contacts===0?(g.releaseHandler&&Z&&g.releaseHandler({eventSource:g,pointerType:ee.type,position:_(Z,g.element),buttons:B.buttons,insideElementPressed:ee.insideElementPressed,insideElementReleased:ee.insideElement,isTouchEvent:ee.type==="touch",originalEvent:p.originalEvent,userData:g.userData}),g.dragEndHandler&&z.sentDragEvent&&g.dragEndHandler({eventSource:g,pointerType:ee.type,position:_(ee.currentPos,g.element),speed:ee.speed,direction:ee.direction,shift:p.originalEvent.shiftKey,isTouchEvent:ee.type==="touch",originalEvent:p.originalEvent,userData:g.userData}),z.sentDragEvent=!1,(g.clickHandler||g.dblClickHandler)&&ee.insideElement&&(Le=ce-ee.contactTime<=g.clickTimeThreshold&&ee.contactPos.distanceTo(Z)<=g.clickDistThreshold,g.clickHandler&&g.clickHandler({eventSource:g,pointerType:ee.type,position:_(ee.currentPos,g.element),quick:Le,shift:p.originalEvent.shiftKey,isTouchEvent:ee.type==="touch",originalEvent:p.originalEvent,originalTarget:ee.originalTarget,userData:g.userData}),g.dblClickHandler&&Le&&(B.clicks++,B.clicks===1?(z.lastClickPos=Z,z.dblClickTimeOut=setTimeout(function(){B.clicks=0},g.dblClickTimeThreshold)):B.clicks===2&&(clearTimeout(z.dblClickTimeOut),B.clicks=0,z.lastClickPos.distanceTo(Z)<=g.dblClickDistThreshold&&g.dblClickHandler({eventSource:g,pointerType:ee.type,position:_(ee.currentPos,g.element),shift:p.originalEvent.shiftKey,isTouchEvent:ee.type==="touch",originalEvent:p.originalEvent,userData:g.userData}),z.lastClickPos=null)))):B.contacts===2&&g.pinchHandler&&ee.type==="touch"&&(z.pinchGPoints=B.asArray(),z.lastPinchDist=z.currentPinchDist=z.pinchGPoints[0].currentPos.distanceTo(z.pinchGPoints[1].currentPos),z.lastPinchCenter=z.currentPinchCenter=A(z.pinchGPoints[0].currentPos,z.pinchGPoints[1].currentPos))):(p.shouldReleaseCapture=!1,g.releaseHandler&&Z&&(g.releaseHandler({eventSource:g,pointerType:ee.type,position:_(Z,g.element),buttons:B.buttons,insideElementPressed:ee.insideElementPressed,insideElementReleased:ee.insideElement,isTouchEvent:ee.type==="touch",originalEvent:p.originalEvent,userData:g.userData}),p.preventDefault=!0)))}function J(g,p,y){var T=t[g.hash],z=g.getActivePointersListByType(y.type),B,Z,ce;if(typeof p.originalEvent.buttons<"u"&&(z.buttons=p.originalEvent.buttons),B=z.getById(y.id),B)B.lastPos=B.currentPos,B.lastTime=B.currentTime,B.currentPos=y.currentPos,B.currentTime=y.currentTime;else return;p.shouldCapture=!1,p.shouldReleaseCapture=!1,g.stopHandler&&y.type==="mouse"&&(clearTimeout(g.stopTimeOut),g.stopTimeOut=setTimeout(function(){ie(g,p.originalEvent,y.type)},g.stopDelay)),z.contacts===0?g.moveHandler&&g.moveHandler({eventSource:g,pointerType:y.type,position:_(y.currentPos,g.element),buttons:z.buttons,isTouchEvent:y.type==="touch",originalEvent:p.originalEvent,userData:g.userData}):z.contacts===1?(g.moveHandler&&(B=z.asArray()[0],g.moveHandler({eventSource:g,pointerType:B.type,position:_(B.currentPos,g.element),buttons:z.buttons,isTouchEvent:B.type==="touch",originalEvent:p.originalEvent,userData:g.userData})),g.dragHandler&&!p.preventGesture&&!p.defaultPrevented&&(B=z.asArray()[0],ce=B.currentPos.minus(B.lastPos),g.dragHandler({eventSource:g,pointerType:B.type,position:_(B.currentPos,g.element),buttons:z.buttons,delta:ce,speed:B.speed,direction:B.direction,shift:p.originalEvent.shiftKey,isTouchEvent:B.type==="touch",originalEvent:p.originalEvent,userData:g.userData}),p.preventDefault=!0,T.sentDragEvent=!0)):z.contacts===2&&(g.moveHandler&&(Z=z.asArray(),g.moveHandler({eventSource:g,pointerType:Z[0].type,position:_(A(Z[0].currentPos,Z[1].currentPos),g.element),buttons:z.buttons,isTouchEvent:Z[0].type==="touch",originalEvent:p.originalEvent,userData:g.userData})),g.pinchHandler&&y.type==="touch"&&!p.preventGesture&&!p.defaultPrevented&&(ce=T.pinchGPoints[0].currentPos.distanceTo(T.pinchGPoints[1].currentPos),ce!==T.currentPinchDist&&(T.lastPinchDist=T.currentPinchDist,T.currentPinchDist=ce,T.lastPinchCenter=T.currentPinchCenter,T.currentPinchCenter=A(T.pinchGPoints[0].currentPos,T.pinchGPoints[1].currentPos),g.pinchHandler({eventSource:g,pointerType:"touch",gesturePoints:T.pinchGPoints,lastCenter:_(T.lastPinchCenter,g.element),center:_(T.currentPinchCenter,g.element),lastDistance:T.lastPinchDist,distance:T.currentPinchDist,shift:p.originalEvent.shiftKey,originalEvent:p.originalEvent,userData:g.userData}),p.preventDefault=!0)))}function K(g,p,y){var T=g.getActivePointersListByType(y.type),z;z=T.getById(y.id),z&&m(g,T,z)}function ie(g,p,y){g.stopHandler&&g.stopHandler({eventSource:g,pointerType:y,position:b(p,g.element),buttons:g.getActivePointersListByType(y).buttons,isTouchEvent:y==="touch",originalEvent:p,userData:g.userData})}}(i),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,r,s){var a=t.parentNode;typeof r=="number"&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer=typeof r.attachToViewer>"u"?!0:r.attachToViewer,this.autoFade=typeof r.autoFade>"u"?!0:r.autoFade,this.element=t,this.anchor=r.anchor,this.container=s,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof r.top=="number"?r.top+"px":r.top,this.wrapper.style.left=typeof r.left=="number"?r.left+"px":r.left,this.wrapper.style.height=typeof r.height=="number"?r.height+"px":r.height,this.wrapper.style.width=typeof r.width=="number"?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):a.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(i),function(e){e.ControlDock=function(r){var s=["topleft","topright","bottomright","bottomleft"],a,o;for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(Math.random()*1e6),container:e.makeNeutralElement("div"),controls:[]},r),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),o=0;o<s.length;o++)a=s[o],this.controls[a]=e.makeNeutralElement("div"),this.controls[a].style.position="absolute",a.match("left")&&(this.controls[a].style.left="0px"),a.match("right")&&(this.controls[a].style.right="0px"),a.match("top")&&(this.controls[a].style.top="0px"),a.match("bottom")&&(this.controls[a].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(r,s){r=e.getElement(r);var a=null;if(!(t(this,r)>=0)){switch(s.anchor){case e.ControlAnchor.TOP_RIGHT:a=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:a=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:a=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:a=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:a=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case e.ControlAnchor.NONE:a=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new e.Control(r,s,a)),r.style.display="inline-block"}},removeControl:function(r){r=e.getElement(r);var s=t(this,r);return s>=0&&(this.controls[s].destroy(),this.controls.splice(s,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var r;for(r=this.controls.length-1;r>=0;r--)if(this.controls[r].isVisible())return!0;return!1},setControlsEnabled:function(r){var s;for(s=this.controls.length-1;s>=0;s--)this.controls[s].setVisible(r);return this}};function t(r,s){var a=r.controls,o;for(o=a.length-1;o>=0;o--)if(a[o].element===s)return o;return-1}}(i),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(i),function(e){var t={},r=1;e.Viewer=function(u){var m=arguments,E=this,k;if(e.isPlainObject(u)||(u={id:m[0],xmlPath:m.length>1?m[1]:void 0,prefixUrl:m.length>2?m[2]:void 0,controls:m.length>3?m[3]:void 0,overlays:m.length>4?m[4]:void 0}),u.config&&(e.extend(!0,u,u.config),delete u.config),e.extend(!0,this,{id:u.id,hash:u.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,u),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof t[this.hash]<"u"&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(P){var O=e.getString("Errors.OpenFailed",P.eventSource,P.message);E._showMessage(O)}),e.ControlDock.call(this,u),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(P){P.width="100%",P.height="100%",P.overflow="hidden",P.position="absolute",P.top="0px",P.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),u.tabIndex!==""&&(this.canvas.tabIndex=u.tabIndex===void 0?0:u.tabIndex),this.container.className="openseadragon-container",function(P){P.width="100%",P.height="100%",P.position="relative",P.overflow="hidden",P.left="0px",P.top="0px",P.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,b),keyDownHandler:e.delegate(this,_),keyHandler:e.delegate(this,A),clickHandler:e.delegate(this,D),dblClickHandler:e.delegate(this,I),dragHandler:e.delegate(this,W),dragEndHandler:e.delegate(this,q),enterHandler:e.delegate(this,Y),leaveHandler:e.delegate(this,X),pressHandler:e.delegate(this,Q),releaseHandler:e.delegate(this,ne),nonPrimaryPressHandler:e.delegate(this,oe),nonPrimaryReleaseHandler:e.delegate(this,ue),scrollHandler:e.delegate(this,_e),pinchHandler:e.delegate(this,de)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,Ae),leaveHandler:e.delegate(this,ae)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=s(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){t[E.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(P){E.source=E.world.getItemAt(0).source,t[E.hash].forceRedraw=!0,E._updateRequestId||(E._updateRequestId=c(E,te))}),this.world.addHandler("remove-item",function(P){E.world.getItemCount()?E.source=E.world.getItemAt(0).source:E.source=null,t[E.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(P){E.viewport&&E.viewport._setContentBounds(E.world.getHomeBounds(),E.world.getContentFactor())}),this.world.addHandler("item-index-change",function(P){E.source=E.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:u.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(k=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(k,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(k=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(k,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),k=0;k<this.customControls.length;k++)this.addControl(this.customControls[k].id,{anchor:this.customControls[k].anchor});e.requestAnimationFrame(function(){d(E)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(u){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(u)},openTileSource:function(u){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(u)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(u,m){var E=this;if(this.close(),!u)return this;if(this.sequenceMode&&e.isArray(u))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof m<"u"&&!isNaN(m)&&(this.initialPage=m),this.tileSources=u,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(u)||(u=[u]),!u.length)return this;this._opening=!0;for(var k=u.length,P=0,O=0,R,U=function(){if(P+O===k)if(P){(E._firstOpen||!E.preserveViewport)&&(E.viewport.goHome(!0),E.viewport.update()),E._firstOpen=!1;var F=u[0];if(F.tileSource&&(F=F.tileSource),E.overlays&&!E.preserveOverlays)for(var J=0;J<E.overlays.length;J++)E.currentOverlays[J]=o(E,E.overlays[J]);E._drawOverlays(),E._opening=!1,E.raiseEvent("open",{source:F})}else E._opening=!1,E.raiseEvent("open-failed",R)},N=function(F){(!e.isPlainObject(F)||!F.tileSource)&&(F={tileSource:F}),F.index!==void 0&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete F.index),F.collectionImmediately===void 0&&(F.collectionImmediately=!0);var J=F.success;F.success=function(ie){if(P++,F.tileSource.overlays)for(var g=0;g<F.tileSource.overlays.length;g++)E.addOverlay(F.tileSource.overlays[g]);J&&J(ie),U()};var K=F.error;F.error=function(ie){O++,R||(R=ie),K&&K(ie),U()},E.addTiledImage(F)},j=0;j<u.length;j++)N(u[j]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(u){return this.innerTracker.setTracking(u),this.outerTracker.setTracking(u),this.raiseEvent("mouse-enabled",{enabled:u}),this},areControlsEnabled:function(){var u=this.controls.length,m;for(m=0;m<this.controls.length;m++)u=u&&this.controls[m].isVisible();return u},setControlsEnabled:function(u){return u?v(this):d(this),this.raiseEvent("controls-enabled",{enabled:u}),this},setDebugMode:function(u){for(var m=0;m<this.world.getItemCount();m++)this.world.getItemAt(m).debugMode=u;this.debugMode=u,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(u){var m=document.body,E=m.style,k=document.documentElement.style,P=this,O,R;if(u===this.isFullPage())return this;var U={fullPage:u,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",U),U.preventDefaultAction)return this;if(u){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=E.margin,this.docMargin=k.margin,E.margin="0",k.margin="0",this.bodyPadding=E.padding,this.docPadding=k.padding,E.padding="0",k.padding="0",this.bodyWidth=E.width,this.docWidth=k.width,E.width="100%",k.width="100%",this.bodyHeight=E.height,this.docHeight=k.height,E.height="100%",k.height="100%",this.bodyDisplay=E.display,E.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,O=m.childNodes.length,R=0;R<O;R++)this.previousBody.push(m.childNodes[0]),m.removeChild(m.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,m.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),m.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,Ae)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,E.margin=this.bodyMargin,k.margin=this.docMargin,E.padding=this.bodyPadding,k.padding=this.docPadding,E.width=this.bodyWidth,k.width=this.docWidth,E.height=this.bodyHeight,k.height=this.docHeight,E.display=this.bodyDisplay,m.removeChild(this.element),O=this.previousBody.length,R=0;R<O;R++)m.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(m.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var N=0,j=function(){e.setPageScroll(P.pageScroll);var F=e.getPageScroll();N++,N<10&&(F.x!==P.pageScroll.x||F.y!==P.pageScroll.y)&&e.requestAnimationFrame(j)};e.requestAnimationFrame(j),t[this.hash].fullPage=!1,e.delegate(this,ae)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:u}),this},setFullScreen:function(u){var m=this;if(!e.supportsFullScreen)return this.setFullPage(u);if(e.isFullScreen()===u)return this;var E={fullScreen:u,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",E),E.preventDefaultAction)return this;if(u){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var k=function(){var P=e.isFullScreen();P||(e.removeEvent(document,e.fullScreenEventName,k),e.removeEvent(document,e.fullScreenErrorEventName,k),m.setFullPage(!1),m.isFullPage()&&(m.element.style.width=m.fullPageStyleWidth,m.element.style.height=m.fullPageStyleHeight)),m.navigator&&m.viewport&&setTimeout(function(){m.navigator.update(m.viewport)}),m.raiseEvent("full-screen",{fullScreen:P})};e.addEvent(document,e.fullScreenEventName,k),e.addEvent(document,e.fullScreenErrorEventName,k),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(u){return this.container.style.visibility=u?"":"hidden",this.raiseEvent("visible",{visible:u}),this},addTiledImage:function(u){e.console.assert(u,"[Viewer.addTiledImage] options is required"),e.console.assert(u.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!u.replace||u.index>-1&&u.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var m=this;u.replace&&(u.replaceItem=m.world.getItemAt(u.index)),this._hideMessage(),u.placeholderFillStyle===void 0&&(u.placeholderFillStyle=this.placeholderFillStyle),u.opacity===void 0&&(u.opacity=this.opacity),u.preload===void 0&&(u.preload=this.preload),u.compositeOperation===void 0&&(u.compositeOperation=this.compositeOperation),u.crossOriginPolicy===void 0&&(u.crossOriginPolicy=u.tileSource.crossOriginPolicy!==void 0?u.tileSource.crossOriginPolicy:this.crossOriginPolicy),u.ajaxWithCredentials===void 0&&(u.ajaxWithCredentials=this.ajaxWithCredentials),u.loadTilesWithAjax===void 0&&(u.loadTilesWithAjax=this.loadTilesWithAjax),u.ajaxHeaders===void 0||u.ajaxHeaders===null?u.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(u.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(u.ajaxHeaders=e.extend({},this.ajaxHeaders,u.ajaxHeaders));var E={options:u};function k(R){for(var U=0;U<m._loadQueue.length;U++)if(m._loadQueue[U]===E){m._loadQueue.splice(U,1);break}m._loadQueue.length===0&&P(E),m.raiseEvent("add-item-failed",R),u.error&&u.error(R)}function P(R){m.collectionMode&&(m.world.arrange({immediately:R.options.collectionImmediately,rows:m.collectionRows,columns:m.collectionColumns,layout:m.collectionLayout,tileSize:m.collectionTileSize,tileMargin:m.collectionTileMargin}),m.world.setAutoRefigureSizes(!0))}if(e.isArray(u.tileSource)){setTimeout(function(){k({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:u.tileSource,options:u})});return}this._loadQueue.push(E);function O(){for(var R,U,N;m._loadQueue.length&&(R=m._loadQueue[0],!!R.tileSource);){if(m._loadQueue.splice(0,1),R.options.replace){var j=m.world.getIndexOfItem(R.options.replaceItem);j!==-1&&(R.options.index=j),m.world.removeItem(R.options.replaceItem)}U=new e.TiledImage({viewer:m,source:R.tileSource,viewport:m.viewport,drawer:m.drawer,tileCache:m.tileCache,imageLoader:m.imageLoader,x:R.options.x,y:R.options.y,width:R.options.width,height:R.options.height,fitBounds:R.options.fitBounds,fitBoundsPlacement:R.options.fitBoundsPlacement,clip:R.options.clip,placeholderFillStyle:R.options.placeholderFillStyle,opacity:R.options.opacity,preload:R.options.preload,degrees:R.options.degrees,flipped:R.options.flipped,compositeOperation:R.options.compositeOperation,springStiffness:m.springStiffness,animationTime:m.animationTime,minZoomImageRatio:m.minZoomImageRatio,wrapHorizontal:m.wrapHorizontal,wrapVertical:m.wrapVertical,immediateRender:m.immediateRender,blendTime:m.blendTime,alwaysBlend:m.alwaysBlend,minPixelRatio:m.minPixelRatio,smoothTileEdgesMinZoom:m.smoothTileEdgesMinZoom,iOSDevice:m.iOSDevice,crossOriginPolicy:R.options.crossOriginPolicy,ajaxWithCredentials:R.options.ajaxWithCredentials,loadTilesWithAjax:R.options.loadTilesWithAjax,ajaxHeaders:R.options.ajaxHeaders,debugMode:m.debugMode,subPixelRoundingForTransparency:m.subPixelRoundingForTransparency}),m.collectionMode&&m.world.setAutoRefigureSizes(!1),m.navigator&&(N=e.extend({},R.options,{replace:!1,originalTiledImage:U,tileSource:R.tileSource}),m.navigator.addTiledImage(N)),m.world.addItem(U,{index:R.options.index}),m._loadQueue.length===0&&P(R),m.world.getItemCount()===1&&!m.preserveViewport&&m.viewport.goHome(!0),R.options.success&&R.options.success({item:U})}}a(this,u.tileSource,u,function(R){E.tileSource=R,O()},function(R){R.options=u,k(R),O()})},addSimpleImage:function(u){e.console.assert(u,"[Viewer.addSimpleImage] options is required"),e.console.assert(u.url,"[Viewer.addSimpleImage] options.url is required");var m=e.extend({},u,{tileSource:{type:"image",url:u.url}});delete m.url,this.addTiledImage(m)},addLayer:function(u){var m=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var E=e.extend({},u,{success:function(k){m.raiseEvent("add-layer",{options:u,drawer:k.item})},error:function(k){m.raiseEvent("add-layer-failed",k)}});return this.addTiledImage(E),this},getLayerAtLevel:function(u){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(u)},getLevelOfLayer:function(u){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(u)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(u,m){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(u,m)},removeLayer:function(u){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(u)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},forceResize:function(){t[this.hash].needsResize=!0,t[this.hash].forceResize=!0},bindSequenceControls:function(){var u=e.delegate(this,w),m=e.delegate(this,x),E=e.delegate(this,this.goToNextPage),k=e.delegate(this,this.goToPreviousPage),P=this.navImages,O=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(O=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:M(this.prefixUrl,P.previous.REST),srcGroup:M(this.prefixUrl,P.previous.GROUP),srcHover:M(this.prefixUrl,P.previous.HOVER),srcDown:M(this.prefixUrl,P.previous.DOWN),onRelease:k,onFocus:u,onBlur:m}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:M(this.prefixUrl,P.next.REST),srcGroup:M(this.prefixUrl,P.next.GROUP),srcHover:M(this.prefixUrl,P.next.HOVER),srcDown:M(this.prefixUrl,P.next.DOWN),onRelease:E,onFocus:u,onBlur:m}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),O&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var u=e.delegate(this,G),m=e.delegate(this,fe),E=e.delegate(this,Pe),k=e.delegate(this,re),P=e.delegate(this,Ce),O=e.delegate(this,dt),R=e.delegate(this,$e),U=e.delegate(this,S),N=e.delegate(this,C),j=e.delegate(this,L),F=e.delegate(this,w),J=e.delegate(this,x),K=this.navImages,ie=[],g=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(g=!1),this.showZoomControl&&(ie.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:M(this.prefixUrl,K.zoomIn.REST),srcGroup:M(this.prefixUrl,K.zoomIn.GROUP),srcHover:M(this.prefixUrl,K.zoomIn.HOVER),srcDown:M(this.prefixUrl,K.zoomIn.DOWN),onPress:u,onRelease:m,onClick:E,onEnter:u,onExit:m,onFocus:F,onBlur:J})),ie.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:M(this.prefixUrl,K.zoomOut.REST),srcGroup:M(this.prefixUrl,K.zoomOut.GROUP),srcHover:M(this.prefixUrl,K.zoomOut.HOVER),srcDown:M(this.prefixUrl,K.zoomOut.DOWN),onPress:k,onRelease:m,onClick:P,onEnter:k,onExit:m,onFocus:F,onBlur:J}))),this.showHomeControl&&ie.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:M(this.prefixUrl,K.home.REST),srcGroup:M(this.prefixUrl,K.home.GROUP),srcHover:M(this.prefixUrl,K.home.HOVER),srcDown:M(this.prefixUrl,K.home.DOWN),onRelease:O,onFocus:F,onBlur:J})),this.showFullPageControl&&ie.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:M(this.prefixUrl,K.fullpage.REST),srcGroup:M(this.prefixUrl,K.fullpage.GROUP),srcHover:M(this.prefixUrl,K.fullpage.HOVER),srcDown:M(this.prefixUrl,K.fullpage.DOWN),onRelease:R,onFocus:F,onBlur:J})),this.showRotationControl&&(ie.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:M(this.prefixUrl,K.rotateleft.REST),srcGroup:M(this.prefixUrl,K.rotateleft.GROUP),srcHover:M(this.prefixUrl,K.rotateleft.HOVER),srcDown:M(this.prefixUrl,K.rotateleft.DOWN),onRelease:U,onFocus:F,onBlur:J})),ie.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:M(this.prefixUrl,K.rotateright.REST),srcGroup:M(this.prefixUrl,K.rotateright.GROUP),srcHover:M(this.prefixUrl,K.rotateright.HOVER),srcDown:M(this.prefixUrl,K.rotateright.DOWN),onRelease:N,onFocus:F,onBlur:J}))),this.showFlipControl&&ie.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:M(this.prefixUrl,K.flip.REST),srcGroup:M(this.prefixUrl,K.flip.GROUP),srcHover:M(this.prefixUrl,K.flip.HOVER),srcDown:M(this.prefixUrl,K.flip.DOWN),onRelease:j,onFocus:F,onBlur:J})),g?(this.buttonGroup=new e.ButtonGroup({buttons:ie,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,He)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=ie),this},currentPage:function(){return this._sequenceIndex},goToPage:function(u){return this.tileSources&&u>=0&&u<this.tileSources.length&&(this._sequenceIndex=u,this._updateSequenceButtons(u),this.open(this.tileSources[u]),this.referenceStrip&&this.referenceStrip.setFocus(u),this.raiseEvent("page",{page:u})),this},addOverlay:function(u,m,E,k){var P;if(e.isPlainObject(u)?P=u:P={element:u,location:m,placement:E,onDraw:k},u=e.getElement(P.element),l(this.currentOverlays,u)>=0)return this;var O=o(this,P);return this.currentOverlays.push(O),O.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:u,location:P.location,placement:P.placement}),this},updateOverlay:function(u,m,E){var k;return u=e.getElement(u),k=l(this.currentOverlays,u),k>=0&&(this.currentOverlays[k].update(m,E),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:u,location:m,placement:E})),this},removeOverlay:function(u){var m;return u=e.getElement(u),m=l(this.currentOverlays,u),m>=0&&(this.currentOverlays[m].destroy(),this.currentOverlays.splice(m,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:u})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(u){var m;return u=e.getElement(u),m=l(this.currentOverlays,u),m>=0?this.currentOverlays[m]:null},_updateSequenceButtons:function(u){this.nextButton&&(!this.tileSources||this.tileSources.length-1===u?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(u>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(u){this._hideMessage();var m=e.makeNeutralElement("div");m.appendChild(document.createTextNode(u)),this.messageDiv=e.makeCenteredNode(m),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var u=this.messageDiv;u&&(u.parentNode.removeChild(u),delete this.messageDiv)},gestureSettingsByDeviceType:function(u){switch(u){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var u,m=this.currentOverlays.length;for(u=0;u<m;u++)this.currentOverlays[u].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var u=e.pixelDensityRatio,m=e.getCurrentPixelDensityRatio();u!==m&&(e.pixelDensityRatio=m,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var u=this._sequenceIndex-1;this.navPrevNextWrap&&u<0&&(u+=this.tileSources.length),this.goToPage(u)},goToNextPage:function(){var u=this._sequenceIndex+1;this.navPrevNextWrap&&u>=this.tileSources.length&&(u=0),this.goToPage(u)},isAnimating:function(){return t[this.hash].animating}});function s(u){return u=e.getElement(u),new e.Point(u.clientWidth===0?1:u.clientWidth,u.clientHeight===0?1:u.clientHeight)}function a(u,m,E,k,P){var O=u;if(e.type(m)==="string"){if(m.match(/^\s*<.*>\s*$/))m=e.parseXml(m);else if(m.match(/^\s*[{[].*[}\]]\s*$/))try{var R=e.parseJSON(m);m=R}catch{}}function U(N,j){N.ready?k(N):(N.addHandler("ready",function(){k(N)}),N.addHandler("open-failed",function(F){P({message:F.message,source:j})}))}setTimeout(function(){if(e.type(m)==="string")m=new e.TileSource({url:m,crossOriginPolicy:E.crossOriginPolicy!==void 0?E.crossOriginPolicy:u.crossOriginPolicy,ajaxWithCredentials:u.ajaxWithCredentials,ajaxHeaders:E.ajaxHeaders?E.ajaxHeaders:u.ajaxHeaders,splitHashDataForPost:u.splitHashDataForPost,useCanvas:u.useCanvas,success:function(J){k(J.tileSource)}}),m.addHandler("open-failed",function(J){P(J)});else if(e.isPlainObject(m)||m.nodeType)if(m.crossOriginPolicy===void 0&&(E.crossOriginPolicy!==void 0||u.crossOriginPolicy!==void 0)&&(m.crossOriginPolicy=E.crossOriginPolicy!==void 0?E.crossOriginPolicy:u.crossOriginPolicy),m.ajaxWithCredentials===void 0&&(m.ajaxWithCredentials=u.ajaxWithCredentials),m.useCanvas===void 0&&(m.useCanvas=u.useCanvas),e.isFunction(m.getTileUrl)){var N=new e.TileSource(m);N.getTileUrl=m.getTileUrl,k(N)}else{var j=e.TileSource.determineType(O,m);if(!j){P({message:"Unable to load TileSource",source:m});return}var F=j.prototype.configure.apply(O,[m]);U(new j(F),m)}else U(m,m)})}function o(u,m){if(m instanceof e.Overlay)return m;var E=null;if(m.element)E=e.getElement(m.element);else{var k=m.id?m.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);E=e.getElement(m.id),E||(E=document.createElement("a"),E.href="#/overlay/"+k),E.id=k,e.addClass(E,m.className?m.className:"openseadragon-overlay")}var P=m.location,O=m.width,R=m.height;if(!P){var U=m.x,N=m.y;if(m.px!==void 0){var j=u.viewport.imageToViewportRectangle(new e.Rect(m.px,m.py,O||0,R||0));U=j.x,N=j.y,O=O!==void 0?j.width:void 0,R=R!==void 0?j.height:void 0}P=new e.Point(U,N)}var F=m.placement;return F&&e.type(F)==="string"&&(F=e.Placement[m.placement.toUpperCase()]),new e.Overlay({element:E,location:P,placement:F,onDraw:m.onDraw,checkResize:m.checkResize,width:O,height:R,rotationMode:m.rotationMode})}function l(u,m){var E;for(E=u.length-1;E>=0;E--)if(u[E].element===m)return E;return-1}function c(u,m){return e.requestAnimationFrame(function(){m(u)})}function h(u){e.requestAnimationFrame(function(){f(u)})}function d(u){u.autoHideControls&&(u.controlsShouldFade=!0,u.controlsFadeBeginTime=e.now()+u.controlsFadeDelay,window.setTimeout(function(){h(u)},u.controlsFadeDelay))}function f(u){var m,E,k,P;if(u.controlsShouldFade){for(m=e.now(),E=m-u.controlsFadeBeginTime,k=1-E/u.controlsFadeLength,k=Math.min(1,k),k=Math.max(0,k),P=u.controls.length-1;P>=0;P--)u.controls[P].autoFade&&u.controls[P].setOpacity(k);k>0&&h(u)}}function v(u){var m;for(u.controlsShouldFade=!1,m=u.controls.length-1;m>=0;m--)u.controls[m].setOpacity(1)}function w(){v(this)}function x(){d(this)}function b(u){var m={tracker:u.eventSource,position:u.position,originalEvent:u.originalEvent,preventDefault:u.preventDefault};this.raiseEvent("canvas-contextmenu",m),u.preventDefault=m.preventDefault}function _(u){var m={originalEvent:u.originalEvent,preventDefaultAction:!1,preventVerticalPan:u.preventVerticalPan||!this.panVertical,preventHorizontalPan:u.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",m),!m.preventDefaultAction&&!u.ctrl&&!u.alt&&!u.meta)switch(u.keyCode){case 38:m.preventVerticalPan||(u.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 40:m.preventVerticalPan||(u.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 37:m.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 39:m.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),u.preventDefault=!0;break;default:u.preventDefault=!1;break}else u.preventDefault=!1}function A(u){var m={originalEvent:u.originalEvent,preventDefaultAction:!1,preventVerticalPan:u.preventVerticalPan||!this.panVertical,preventHorizontalPan:u.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",m),!m.preventDefaultAction&&!u.ctrl&&!u.alt&&!u.meta)switch(u.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),u.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),u.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),u.preventDefault=!0;break;case 119:case 87:m.preventVerticalPan||(u.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 115:case 83:m.preventVerticalPan||(u.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 97:m.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 100:m.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),u.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),u.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),u.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),u.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:u.preventDefault=!1;break}else u.preventDefault=!1}function D(u){var m,E=document.activeElement===this.canvas;E||this.canvas.focus(),this.viewport.flipped&&(u.position.x=this.viewport.getContainerSize().x-u.position.x);var k={tracker:u.eventSource,position:u.position,quick:u.quick,shift:u.shift,originalEvent:u.originalEvent,originalTarget:u.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",k),!k.preventDefaultAction&&this.viewport&&u.quick&&(m=this.gestureSettingsByDeviceType(u.pointerType),m.clickToZoom===!0&&(this.viewport.zoomBy(u.shift?1/this.zoomPerClick:this.zoomPerClick,m.zoomToRefPoint?this.viewport.pointFromPixel(u.position,!0):null),this.viewport.applyConstraints()),m.dblClickDragToZoom&&(t[this.hash].draggingToZoom===!0?(t[this.hash].lastClickTime=null,t[this.hash].draggingToZoom=!1):t[this.hash].lastClickTime=e.now()))}function I(u){var m,E={tracker:u.eventSource,position:u.position,shift:u.shift,originalEvent:u.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",E),!E.preventDefaultAction&&this.viewport&&(m=this.gestureSettingsByDeviceType(u.pointerType),m.dblClickToZoom&&(this.viewport.zoomBy(u.shift?1/this.zoomPerClick:this.zoomPerClick,m.zoomToRefPoint?this.viewport.pointFromPixel(u.position,!0):null),this.viewport.applyConstraints()))}function W(u){var m,E={tracker:u.eventSource,pointerType:u.pointerType,position:u.position,delta:u.delta,speed:u.speed,direction:u.direction,shift:u.shift,originalEvent:u.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",E),m=this.gestureSettingsByDeviceType(u.pointerType),!E.preventDefaultAction&&this.viewport){if(m.dblClickDragToZoom&&t[this.hash].draggingToZoom){var k=Math.pow(this.zoomPerDblClickDrag,u.delta.y/50);this.viewport.zoomBy(k)}else if(m.dragToPan&&!t[this.hash].draggingToZoom){if(this.panHorizontal||(u.delta.x=0),this.panVertical||(u.delta.y=0),this.viewport.flipped&&(u.delta.x=-u.delta.x),this.constrainDuringPan){var P=this.viewport.deltaPointsFromPixels(u.delta.negate());this.viewport.centerSpringX.target.value+=P.x,this.viewport.centerSpringY.target.value+=P.y;var O=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=P.x,this.viewport.centerSpringY.target.value-=P.y,O.xConstrained&&(u.delta.x=0),O.yConstrained&&(u.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(u.delta.negate()),m.flickEnabled&&!this.constrainDuringPan)}}}function q(u){var m,E={tracker:u.eventSource,pointerType:u.pointerType,position:u.position,speed:u.speed,direction:u.direction,shift:u.shift,originalEvent:u.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",E),m=this.gestureSettingsByDeviceType(u.pointerType),!E.preventDefaultAction&&this.viewport){if(!t[this.hash].draggingToZoom&&m.flickEnabled&&u.speed>=m.flickMinSpeed){var k=0;this.panHorizontal&&(k=m.flickMomentum*u.speed*Math.cos(u.direction));var P=0;this.panVertical&&(P=m.flickMomentum*u.speed*Math.sin(u.direction));var O=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),R=this.viewport.pointFromPixel(new e.Point(O.x-k,O.y-P));this.viewport.panTo(R,!1)}this.viewport.applyConstraints()}m.dblClickDragToZoom&&t[this.hash].draggingToZoom===!0&&(t[this.hash].draggingToZoom=!1)}function Y(u){this.raiseEvent("canvas-enter",{tracker:u.eventSource,pointerType:u.pointerType,position:u.position,buttons:u.buttons,pointers:u.pointers,insideElementPressed:u.insideElementPressed,buttonDownAny:u.buttonDownAny,originalEvent:u.originalEvent})}function X(u){this.raiseEvent("canvas-exit",{tracker:u.eventSource,pointerType:u.pointerType,position:u.position,buttons:u.buttons,pointers:u.pointers,insideElementPressed:u.insideElementPressed,buttonDownAny:u.buttonDownAny,originalEvent:u.originalEvent})}function Q(u){var m;if(this.raiseEvent("canvas-press",{tracker:u.eventSource,pointerType:u.pointerType,position:u.position,insideElementPressed:u.insideElementPressed,insideElementReleased:u.insideElementReleased,originalEvent:u.originalEvent}),m=this.gestureSettingsByDeviceType(u.pointerType),m.dblClickDragToZoom){var E=t[this.hash].lastClickTime,k=e.now();if(E===null)return;k-E<this.dblClickTimeThreshold&&(t[this.hash].draggingToZoom=!0),t[this.hash].lastClickTime=null}}function ne(u){this.raiseEvent("canvas-release",{tracker:u.eventSource,pointerType:u.pointerType,position:u.position,insideElementPressed:u.insideElementPressed,insideElementReleased:u.insideElementReleased,originalEvent:u.originalEvent})}function oe(u){this.raiseEvent("canvas-nonprimary-press",{tracker:u.eventSource,position:u.position,pointerType:u.pointerType,button:u.button,buttons:u.buttons,originalEvent:u.originalEvent})}function ue(u){this.raiseEvent("canvas-nonprimary-release",{tracker:u.eventSource,position:u.position,pointerType:u.pointerType,button:u.button,buttons:u.buttons,originalEvent:u.originalEvent})}function de(u){var m,E,k,P,O={tracker:u.eventSource,pointerType:u.pointerType,gesturePoints:u.gesturePoints,lastCenter:u.lastCenter,center:u.center,lastDistance:u.lastDistance,distance:u.distance,shift:u.shift,originalEvent:u.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",O),this.viewport&&(m=this.gestureSettingsByDeviceType(u.pointerType),m.pinchToZoom&&(!O.preventDefaultPanAction||!O.preventDefaultZoomAction)&&(E=this.viewport.pointFromPixel(u.center,!0),m.zoomToRefPoint&&!O.preventDefaultPanAction&&(k=this.viewport.pointFromPixel(u.lastCenter,!0),P=k.minus(E),this.panHorizontal||(P.x=0),this.panVertical||(P.y=0),this.viewport.panBy(P,!0)),O.preventDefaultZoomAction||this.viewport.zoomBy(u.distance/u.lastDistance,E,!0),this.viewport.applyConstraints()),m.pinchRotate&&!O.preventDefaultRotateAction)){var R=Math.atan2(u.gesturePoints[0].currentPos.y-u.gesturePoints[1].currentPos.y,u.gesturePoints[0].currentPos.x-u.gesturePoints[1].currentPos.x),U=Math.atan2(u.gesturePoints[0].lastPos.y-u.gesturePoints[1].lastPos.y,u.gesturePoints[0].lastPos.x-u.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(R-U)*(180/Math.PI))}}function _e(u){var m,E,k,P,O;P=e.now(),O=P-this._lastScrollTime,O>this.minScrollDeltaTime?(this._lastScrollTime=P,m={tracker:u.eventSource,position:u.position,scroll:u.scroll,shift:u.shift,originalEvent:u.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",m),!m.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(u.position.x=this.viewport.getContainerSize().x-u.position.x),E=this.gestureSettingsByDeviceType(u.pointerType),E.scrollToZoom&&(k=Math.pow(this.zoomPerScroll,u.scroll),this.viewport.zoomBy(k,E.zoomToRefPoint?this.viewport.pointFromPixel(u.position,!0):null),this.viewport.applyConstraints())),u.preventDefault=m.preventDefault):u.preventDefault=!0}function Ae(u){t[this.hash].mouseInside=!0,v(this),this.raiseEvent("container-enter",{tracker:u.eventSource,pointerType:u.pointerType,position:u.position,buttons:u.buttons,pointers:u.pointers,insideElementPressed:u.insideElementPressed,buttonDownAny:u.buttonDownAny,originalEvent:u.originalEvent})}function ae(u){u.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||d(this)),this.raiseEvent("container-exit",{tracker:u.eventSource,pointerType:u.pointerType,position:u.position,buttons:u.buttons,pointers:u.pointers,insideElementPressed:u.insideElementPressed,buttonDownAny:u.buttonDownAny,originalEvent:u.originalEvent})}function te(u){xe(u),u.isOpen()?u._updateRequestId=c(u,te):u._updateRequestId=!1}function le(u,m){var E=u.viewport,k=E.getZoom(),P=E.getCenter();E.resize(m,u.preserveImageSizeOnResize),E.panTo(P,!0);var O;if(u.preserveImageSizeOnResize)O=t[u.hash].prevContainerSize.x/m.x;else{var R=new e.Point(0,0),U=new e.Point(t[u.hash].prevContainerSize.x,t[u.hash].prevContainerSize.y).distanceTo(R),N=new e.Point(m.x,m.y).distanceTo(R);O=N/U*t[u.hash].prevContainerSize.x/m.x}E.zoomTo(k*O,null,!0),t[u.hash].prevContainerSize=m,t[u.hash].forceRedraw=!0,t[u.hash].needsResize=!1,t[u.hash].forceResize=!1}function xe(u){if(!(u._opening||!t[u.hash])){if(u.autoResize||t[u.hash].forceResize){var m;if(u._autoResizePolling){m=s(u.container);var E=t[u.hash].prevContainerSize;m.equals(E)||(t[u.hash].needsResize=!0)}t[u.hash].needsResize&&le(u,m||s(u.container))}var k=u.viewport.update(),P=u.world.update()||k;k&&u.raiseEvent("viewport-change"),u.referenceStrip&&(P=u.referenceStrip.update(u.viewport)||P);var O=t[u.hash].animating;!O&&P&&(u.raiseEvent("animation-start"),v(u));var R=O&&!P;R&&(t[u.hash].animating=!1),(P||R||t[u.hash].forceRedraw||u.world.needsDraw())&&(H(u),u._drawOverlays(),u.navigator&&u.navigator.update(u.viewport),t[u.hash].forceRedraw=!1,P&&u.raiseEvent("animation")),R&&(u.raiseEvent("animation-finish"),t[u.hash].mouseInside||d(u)),t[u.hash].animating=P}}function H(u){u.imageLoader.clear(),u.drawer.clear(),u.world.draw(),u.raiseEvent("update-viewport",{})}function M(u,m){return u?u+m:m}function G(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,ye(this)}function re(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,ye(this)}function fe(){t[this.hash].zooming=!1}function ye(u){e.requestAnimationFrame(e.delegate(u,be))}function be(){var u,m,E;t[this.hash].zooming&&this.viewport&&(u=e.now(),m=u-t[this.hash].lastZoomTime,E=Math.pow(t[this.hash].zoomFactor,m/1e3),this.viewport.zoomBy(E),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=u,ye(this))}function Pe(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ce(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function He(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function dt(){this.viewport&&this.viewport.goHome()}function $e(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function S(){if(this.viewport){var u=this.viewport.getRotation();this.viewport.flipped?u+=this.rotationIncrement:u-=this.rotationIncrement,this.viewport.setRotation(u)}}function C(){if(this.viewport){var u=this.viewport.getRotation();this.viewport.flipped?u-=this.rotationIncrement:u+=this.rotationIncrement,this.viewport.setRotation(u)}}function L(){this.viewport.toggleFlip()}}(i),function(e){e.Navigator=function(c){var h=c.viewer,d=this,f,v;c.element||c.id?(c.element?(c.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),c.element.id?c.id=c.element.id:c.id="navigator-"+e.now(),this.element=c.element):this.element=document.getElementById(c.id),c.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(c.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),c.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:c.autoFade},c.position&&(c.position==="BOTTOM_RIGHT"?c.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:c.position==="BOTTOM_LEFT"?c.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:c.position==="TOP_RIGHT"?c.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:c.position==="TOP_LEFT"?c.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:c.position==="ABSOLUTE"&&(c.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,c.controlOptions.top=c.top,c.controlOptions.left=c.left,c.controlOptions.height=c.height,c.controlOptions.width=c.width))),this.element.id=c.id,this.element.className+=" navigator",c=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},c,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:c.animationTime,autoResize:!1,minZoomImageRatio:1,background:c.background,opacity:c.opacity,borderColor:c.borderColor,displayRegionColor:c.displayRegionColor}),c.minPixelRatio=this.minPixelRatio=h.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),c.controlOptions.anchor!==e.ControlAnchor.NONE&&function(b,_){b.margin="0px",b.border=_+"px solid "+c.borderColor,b.padding="0px",b.background=c.background,b.opacity=c.opacity,b.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(b,_){b.position="relative",b.top="0px",b.left="0px",b.fontSize="0px",b.overflow="hidden",b.border=_+"px solid "+c.displayRegionColor,b.margin="0px",b.padding="0px",b.background="transparent",b.float="left",b.cssFloat="left",b.styleFloat="left",b.zIndex=999999999,b.cursor="default"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),h.addControl(this.element,c.controlOptions),this._resizeWithViewer=c.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&c.controlOptions.anchor!==e.ControlAnchor.NONE,c.width&&c.height?(this.setWidth(c.width),this.setHeight(c.height)):this._resizeWithViewer&&(f=e.getElementSize(h.element),this.element.style.height=Math.round(f.y*c.sizeRatio)+"px",this.element.style.width=Math.round(f.x*c.sizeRatio)+"px",this.oldViewerSize=f,v=e.getElementSize(this.element),this.elementArea=v.x*v.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[c]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function w(b){o(d.displayRegionContainer,b),o(d.displayRegion,-b),d.viewport.setRotation(b)}if(c.navigatorRotate){var x=c.viewer.viewport?c.viewer.viewport.getRotation():c.viewer.degrees||0;w(x),c.viewer.addHandler("rotate",function(b){w(b.degrees)})}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,r),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,s),scrollHandler:e.delegate(this,a),preProcessEventHandler:function(b){b.eventType==="wheel"&&(b.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){d.viewport&&d.viewport.goHome(!0)}),h.world.addHandler("item-index-change",function(b){window.setTimeout(function(){var _=d.world.getItemAt(b.previousIndex);d.world.setItemIndex(_,b.newIndex)},1)}),h.world.addHandler("remove-item",function(b){var _=b.item,A=d._getMatchingItem(_);A&&d.world.removeItem(A)}),this.update(h.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var c=new e.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);c.equals(this.oldContainerSize)||(this.viewport.resize(c,!0),this.viewport.goHome(!0),this.oldContainerSize=c,this.drawer.clear(),this.world.draw())}},setWidth:function(c){this.width=c,this.element.style.width=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1},setHeight:function(c){this.height=c,this.element.style.height=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1},setFlip:function(c){return this.viewport.setFlip(c),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(c){l(this.displayRegion,c),l(this.canvas,c),l(this.element,c)},update:function(c){var h,d,f,v,w,x;if(h=e.getElementSize(this.viewer.element),this._resizeWithViewer&&h.x&&h.y&&!h.equals(this.oldViewerSize)&&(this.oldViewerSize=h,this.maintainSizeRatio||!this.elementArea?(d=h.x*this.sizeRatio,f=h.y*this.sizeRatio):(d=Math.sqrt(this.elementArea*(h.x/h.y)),f=this.elementArea/d),this.element.style.width=Math.round(d)+"px",this.element.style.height=Math.round(f)+"px",this.elementArea||(this.elementArea=d*f),this.updateSize()),c&&this.viewport){v=c.getBoundsNoRotate(!0),w=this.viewport.pixelFromPointNoRotate(v.getTopLeft(),!1),x=this.viewport.pixelFromPointNoRotate(v.getBottomRight(),!1).minus(this.totalBorderWidths);var b=this.displayRegion.style;b.display=this.world.getItemCount()?"block":"none",b.top=Math.round(w.y)+"px",b.left=Math.round(w.x)+"px";var _=Math.abs(w.x-x.x),A=Math.abs(w.y-x.y);b.width=Math.round(Math.max(_,0))+"px",b.height=Math.round(Math.max(A,0))+"px"}},addTiledImage:function(c){var h=this,d=c.originalTiledImage;delete c.original;var f=e.extend({},c,{success:function(v){var w=v.item;w._originalForNavigator=d,h._matchBounds(w,d,!0),h._matchOpacity(w,d),h._matchCompositeOperation(w,d);function x(){h._matchBounds(w,d)}function b(){h._matchOpacity(w,d)}function _(){h._matchCompositeOperation(w,d)}d.addHandler("bounds-change",x),d.addHandler("clip-change",x),d.addHandler("opacity-change",b),d.addHandler("composite-operation-change",_)}});return e.Viewer.prototype.addTiledImage.apply(this,[f])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(c){for(var h=this.world.getItemCount(),d,f=0;f<h;f++)if(d=this.world.getItemAt(f),d._originalForNavigator===c)return d;return null},_matchBounds:function(c,h,d){var f=h.getBoundsNoRotate();c.setPosition(f.getTopLeft(),d),c.setWidth(f.width,d),c.setRotation(h.getRotation(),d),c.setClip(h.getClip()),c.setFlip(h.getFlip())},_matchOpacity:function(c,h){c.setOpacity(h.opacity)},_matchCompositeOperation:function(c,h){c.setCompositeOperation(h.compositeOperation)}});function t(c){var h={tracker:c.eventSource,position:c.position,quick:c.quick,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",h),!h.preventDefaultAction&&c.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(c.position.x=this.viewport.getContainerSize().x-c.position.x);var d=this.viewport.pointFromPixel(c.position);this.panVertical?this.panHorizontal||(d.x=this.viewer.viewport.getCenter(!0).x):d.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(d),this.viewer.viewport.applyConstraints()}}function r(c){var h={tracker:c.eventSource,position:c.position,delta:c.delta,speed:c.speed,direction:c.direction,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",h),!h.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(c.delta.x=0),this.panVertical||(c.delta.y=0),this.viewer.viewport.flipped&&(c.delta.x=-c.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(c.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function s(c){c.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function a(c){var h={tracker:c.eventSource,position:c.position,scroll:c.scroll,shift:c.shift,originalEvent:c.originalEvent,preventDefault:c.preventDefault};this.viewer.raiseEvent("navigator-scroll",h),c.preventDefault=h.preventDefault}function o(c,h){l(c,"rotate("+h+"deg)")}function l(c,h){c.style.webkitTransform=h,c.style.mozTransform=h,c.style.msTransform=h,c.style.oTransform=h,c.style.transform=h}}(i),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(r){var s=r.split("."),a=null,o=arguments,l=t,c;for(c=0;c<s.length-1;c++)l=l[s[c]]||{};return a=l[s[c]],typeof a!="string"&&(e.console.error("Untranslated source string:",r),a=""),a.replace(/\{\d+\}/g,function(h){var d=parseInt(h.match(/\d+/),10)+1;return d<o.length?o[d]:""})},setString:function(r,s){var a=r.split("."),o=t,l;for(l=0;l<a.length-1;l++)o[a[l]]||(o[a[l]]={}),o=o[a[l]];o[a[l]]=s}})}(i),function(e){e.Point=function(t,r){this.x=typeof t=="number"?t:0,this.y=typeof r=="number"?r:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},squaredDistanceTo:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,r){r=r||new e.Point(0,0);var s,a;if(t%90===0){var o=e.positiveModulo(t,360);switch(o){case 0:s=1,a=0;break;case 90:s=0,a=1;break;case 180:s=-1,a=0;break;case 270:s=0,a=-1;break}}else{var l=t*Math.PI/180;s=Math.cos(l),a=Math.sin(l)}var c=s*(this.x-r.x)-a*(this.y-r.y)+r.x,h=a*(this.x-r.x)+s*(this.y-r.y)+r.y;return new e.Point(c,h)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(i),function(e){e.TileSource=function(r,s,a,o,l,c){var h=this,d=arguments,f,v;if(e.isPlainObject(r)?f=r:f={width:d[0],height:d[1],tileSize:d[2],tileOverlap:d[3],minLevel:d[4],maxLevel:d[5]},e.EventSource.call(this),e.extend(!0,this,f),!this.success){for(v=0;v<arguments.length;v++)if(e.isFunction(arguments[v])){this.success=arguments[v];break}}this.success&&this.addHandler("ready",function(w){h.success(w)}),e.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=f.width&&f.height?f.width/f.height:1,this.dimensions=new e.Point(f.width,f.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=f.tileOverlap?f.tileOverlap:0,this.minLevel=f.minLevel?f.minLevel:0,this.maxLevel=f.maxLevel!==void 0&&f.maxLevel!==null?f.maxLevel:f.width&&f.height?Math.ceil(Math.log(Math.max(f.width,f.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(r){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(r){return this._tileWidth?this._tileWidth:this.getTileSize(r)},getTileHeight:function(r){return this._tileHeight?this._tileHeight:this.getTileSize(r)},setMaxLevel:function(r){this.maxLevel=r,this._memoizeLevelScale()},getLevelScale:function(r){return this._memoizeLevelScale(),this.getLevelScale(r)},_memoizeLevelScale:function(){var r={},s;for(s=0;s<=this.maxLevel;s++)r[s]=1/Math.pow(2,this.maxLevel-s);this.getLevelScale=function(a){return r[a]}},getNumTiles:function(r){var s=this.getLevelScale(r),a=Math.ceil(s*this.dimensions.x/this.getTileWidth(r)),o=Math.ceil(s*this.dimensions.y/this.getTileHeight(r));return new e.Point(a,o)},getPixelRatio:function(r){var s=this.dimensions.times(this.getLevelScale(r)),a=1/s.x*e.pixelDensityRatio,o=1/s.y*e.pixelDensityRatio;return new e.Point(a,o)},getClosestLevel:function(){var r,s;for(r=this.minLevel+1;r<=this.maxLevel&&(s=this.getNumTiles(r),!(s.x>1||s.y>1));r++);return r-1},getTileAtPoint:function(r,s){var a=s.x>=0&&s.x<=1&&s.y>=0&&s.y<=1/this.aspectRatio;e.console.assert(a,"[TileSource.getTileAtPoint] must be called with a valid point.");var o=this.dimensions.x*this.getLevelScale(r),l=s.x*o,c=s.y*o,h=Math.floor(l/this.getTileWidth(r)),d=Math.floor(c/this.getTileHeight(r));s.x>=1&&(h=this.getNumTiles(r).x-1);var f=1e-15;return s.y>=1/this.aspectRatio-f&&(d=this.getNumTiles(r).y-1),new e.Point(h,d)},getTileBounds:function(r,s,a,o){var l=this.dimensions.times(this.getLevelScale(r)),c=this.getTileWidth(r),h=this.getTileHeight(r),d=s===0?0:c*s-this.tileOverlap,f=a===0?0:h*a-this.tileOverlap,v=c+(s===0?1:2)*this.tileOverlap,w=h+(a===0?1:2)*this.tileOverlap,x=1/l.x;return v=Math.min(v,l.x-d),w=Math.min(w,l.y-f),o?new e.Rect(0,0,v,w):new e.Rect(d*x,f*x,v*x,w*x)},getImageInfo:function(r){var s=this,a,o,l,c,h,d,f;r&&(h=r.split("/"),d=h[h.length-1],f=d.lastIndexOf("."),f>-1&&(h[h.length-1]=d.slice(0,f)));var v=null;if(this.splitHashDataForPost){var w=r.indexOf("#");w!==-1&&(v=r.substring(w+1),r=r.substr(0,w))}o=function(x){typeof x=="string"&&(x=e.parseXml(x));var b=e.TileSource.determineType(s,x,r);if(!b){s.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r});return}c=b.prototype.configure.apply(s,[x,r,v]),c.ajaxWithCredentials===void 0&&(c.ajaxWithCredentials=s.ajaxWithCredentials),l=new b(c),s.ready=!0,s.raiseEvent("ready",{tileSource:l})},r.match(/\.js$/)?(a=r.split("/").pop().replace(".js",""),e.jsonp({url:r,async:!1,callbackName:a,callback:o})):e.makeAjaxRequest({url:r,postData:v,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(x){var b=t(x);o(b)},error:function(x,b){var _;try{_="HTTP "+x.status+" attempting to load TileSource: "+r}catch{var A;typeof b>"u"||!b.toString?A="Unknown error":A=b.toString(),_=A+" attempting to load TileSource: "+r}e.console.error(_),s.raiseEvent("open-failed",{message:_,source:r,postData:v})}})},supports:function(r,s){return!1},configure:function(r,s,a){throw new Error("Method not implemented.")},getTileUrl:function(r,s,a){throw new Error("Method not implemented.")},getTilePostData:function(r,s,a){return null},getTileAjaxHeaders:function(r,s,a){return{}},getTileHashKey:function(r,s,a,o,l,c){function h(d){return l?d+"+"+JSON.stringify(l):d}return h(typeof o!="string"?r+"/"+s+"_"+a:o)},tileExists:function(r,s,a){var o=this.getNumTiles(r);return r>=this.minLevel&&r<=this.maxLevel&&s>=0&&a>=0&&s<o.x&&a<o.y},hasTransparency:function(r,s,a,o){return!!r||s.match(".png")},downloadTileStart:function(r){var s=r.userData,a=new Image;s.image=a,s.request=null;var o=function(l){if(!a){r.finish(null,s.request,"Image load failed: undefined Image instance.");return}a.onload=a.onerror=a.onabort=null,r.finish(l?null:a,s.request,l)};a.onload=function(){o()},a.onabort=a.onerror=function(){o("Image load aborted.")},r.loadWithAjax?s.request=e.makeAjaxRequest({url:r.src,withCredentials:r.ajaxWithCredentials,headers:r.ajaxHeaders,responseType:"arraybuffer",postData:r.postData,success:function(l){var c;try{c=new window.Blob([l.response])}catch(f){var h=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(f.name==="TypeError"&&h){var d=new h;d.append(l.response),c=d.getBlob()}}c.size===0?o("Empty image response."):a.src=(window.URL||window.webkitURL).createObjectURL(c)},error:function(l){o("Image load aborted - XHR error")}}):(r.crossOriginPolicy!==!1&&(a.crossOrigin=r.crossOriginPolicy),a.src=r.src)},downloadTileAbort:function(r){r.userData.request&&r.userData.request.abort();var s=r.userData.image;r.userData.image&&(s.onload=s.onerror=s.onabort=null)},createTileCache:function(r,s,a){r._data=s},destroyTileCache:function(r){r._data=null,r._renderedContext=null},getTileCacheData:function(r){return r._data},getTileCacheDataAsImage:function(r){return r._data},getTileCacheDataAsContext2D:function(r){if(!r._renderedContext){var s=document.createElement("canvas");s.width=r._data.width,s.height=r._data.height,r._renderedContext=s.getContext("2d"),r._renderedContext.drawImage(r._data,0,0),r._data=null}return r._renderedContext}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype);function t(r){var s=r.responseText,a=r.status,o,l;if(r){if(r.status!==200&&r.status!==0)throw a=r.status,o=a===404?"Not Found":r.statusText,new Error(e.getString("Errors.Status",a,o))}else throw new Error(e.getString("Errors.Security"));if(s.match(/\s*<.*/))try{l=r.responseXML&&r.responseXML.documentElement?r.responseXML:e.parseXml(s)}catch{l=r.responseText}else if(s.match(/\s*[{[].*/))try{l=e.parseJSON(s)}catch{l=s}else l=s;return l}e.TileSource.determineType=function(r,s,a){var o;for(o in i)if(o.match(/.+TileSource$/)&&e.isFunction(i[o])&&e.isFunction(i[o].prototype.supports)&&i[o].prototype.supports.call(r,s,a))return i[o];return e.console.error("No TileSource was able to open %s %s",a,s),null}}(i),function(e){e.DziTileSource=function(s,a,o,l,c,h,d,f,v){var w,x,b,_;if(e.isPlainObject(s)?_=s:_={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=_.tilesUrl,this.fileFormat=_.fileFormat,this.displayRects=_.displayRects,this.displayRects)for(w=this.displayRects.length-1;w>=0;w--)for(x=this.displayRects[w],b=x.minLevel;b<=x.maxLevel;b++)this._levelRects[b]||(this._levelRects[b]=[]),this._levelRects[b].push(x);e.TileSource.apply(this,[_])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(s,a){var o;return s.Image?o=s.Image.xmlns:s.documentElement&&(s.documentElement.localName==="Image"||s.documentElement.tagName==="Image")&&(o=s.documentElement.namespaceURI),o=(o||"").toLowerCase(),o.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||o.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(s,a,o){var l;return e.isPlainObject(s)?l=r(this,s):l=t(this,s),a&&!l.tilesUrl&&(l.tilesUrl=a.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),a.search(/\.(dzi|xml|js)\?/)!==-1?l.queryParams=a.match(/\?.*/):l.queryParams=""),l},getTileUrl:function(s,a,o){return[this.tilesUrl,s,"/",a,"_",o,".",this.fileFormat,this.queryParams].join("")},tileExists:function(s,a,o){var l=this._levelRects[s],c,h,d,f,v,w,x;if(this.minLevel&&s<this.minLevel||this.maxLevel&&s>this.maxLevel)return!1;if(!l||!l.length)return!0;for(x=l.length-1;x>=0;x--)if(c=l[x],!(s<c.minLevel||s>c.maxLevel)&&(h=this.getLevelScale(s),d=c.x*h,f=c.y*h,v=d+c.width*h,w=f+c.height*h,d=Math.floor(d/this._tileWidth),f=Math.floor(f/this._tileWidth),v=Math.ceil(v/this._tileWidth),w=Math.ceil(w/this._tileWidth),d<=a&&a<v&&f<=o&&o<w))return!0;return!1}});function t(s,a){if(!a||!a.documentElement)throw new Error(e.getString("Errors.Xml"));var o=a.documentElement,l=o.localName||o.tagName,c=a.documentElement.namespaceURI,h=null,d=[],f,v,w,x,b;if(l==="Image")try{if(x=o.getElementsByTagName("Size")[0],x===void 0&&(x=o.getElementsByTagNameNS(c,"Size")[0]),h={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:o.getAttribute("Url"),Format:o.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(o.getAttribute("Overlap"),10),TileSize:parseInt(o.getAttribute("TileSize"),10),Size:{Height:parseInt(x.getAttribute("Height"),10),Width:parseInt(x.getAttribute("Width"),10)}}},!e.imageFormatSupported(h.Image.Format))throw new Error(e.getString("Errors.ImageFormat",h.Image.Format.toUpperCase()));for(f=o.getElementsByTagName("DisplayRect"),f===void 0&&(f=o.getElementsByTagNameNS(c,"DisplayRect")[0]),b=0;b<f.length;b++)v=f[b],w=v.getElementsByTagName("Rect")[0],w===void 0&&(w=v.getElementsByTagNameNS(c,"Rect")[0]),d.push({Rect:{X:parseInt(w.getAttribute("X"),10),Y:parseInt(w.getAttribute("Y"),10),Width:parseInt(w.getAttribute("Width"),10),Height:parseInt(w.getAttribute("Height"),10),MinLevel:parseInt(v.getAttribute("MinLevel"),10),MaxLevel:parseInt(v.getAttribute("MaxLevel"),10)}});return d.length&&(h.Image.DisplayRect=d),r(s,h)}catch(D){throw D instanceof Error?D:new Error(e.getString("Errors.Dzi"))}else{if(l==="Collection")throw new Error(e.getString("Errors.Dzc"));if(l==="Error"){var _=o.getElementsByTagName("Message")[0],A=_.firstChild.nodeValue;throw new Error(A)}}throw new Error(e.getString("Errors.Dzi"))}function r(s,a){var o=a.Image,l=o.Url,c=o.Format,h=o.Size,d=o.DisplayRect||[],f=parseInt(h.Width,10),v=parseInt(h.Height,10),w=parseInt(o.TileSize,10),x=parseInt(o.Overlap,10),b=[],_,A;for(A=0;A<d.length;A++)_=d[A].Rect,b.push(new e.DisplayRect(parseInt(_.X,10),parseInt(_.Y,10),parseInt(_.Width,10),parseInt(_.Height,10),parseInt(_.MinLevel,10),parseInt(_.MaxLevel,10)));return e.extend(!0,{width:f,height:v,tileSize:w,tileOverlap:x,minLevel:null,maxLevel:null,tilesUrl:l,fileFormat:c,displayRects:b},a)}}(i),function(e){e.IIIFTileSource=function(o){if(e.extend(!0,this,o),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(o.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=o.version,this.tile_width&&this.tile_height)o.tileWidth=this.tile_width,o.tileHeight=this.tile_height;else if(this.tile_width)o.tileSize=this.tile_width;else if(this.tile_height)o.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)o.tileWidth=this.tiles[0].width,o.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var l=0;l<this.tiles.length;l++)for(var c=0;c<this.tiles[l].scaleFactors.length;c++){var h=this.tiles[l].scaleFactors[c];this.scale_factors.push(h),o.tileSizePerScaleFactor[h]={width:this.tiles[l].width,height:this.tiles[l].height||this.tiles[l].width}}}else if(t(o)){for(var d=Math.min(this.height,this.width),f=[256,512,1024],v=[],w=0;w<f.length;w++)f[w]<=d&&v.push(f[w]);v.length>0?o.tileSize=Math.max.apply(null,v):o.tileSize=d}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,o.levels=r(this),e.extend(!0,o,{width:o.levels[o.levels.length-1].width,height:o.levels[o.levels.length-1].height,tileSize:Math.max(o.height,o.width),tileOverlap:0,minLevel:0,maxLevel:o.levels.length-1}),this.levels=o.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!o.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)o.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var x=Math.max.apply(null,this.scale_factors);o.maxLevel=Math.round(Math.log(x)*Math.LOG2E)}e.TileSource.apply(this,[o])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(o,l){return o.protocol&&o.protocol==="http://iiif.io/api/image"||o["@context"]&&(o["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||o["@context"]==="http://iiif.io/api/image/1/context.json")||o.profile&&o.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||o.identifier&&o.width&&o.height?!0:!!(o.documentElement&&o.documentElement.tagName==="info"&&o.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(o,l,c){if(e.isPlainObject(o)){if(!o["@context"])o["@context"]="http://iiif.io/api/image/1.0/context.json",o["@id"]=l.replace("/info.json",""),o.version=1;else{var d=o["@context"];if(Array.isArray(d)){for(var f=0;f<d.length;f++)if(typeof d[f]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(d[f])||d[f]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){d=d[f];break}}switch(d){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":o.version=1;break;case"http://iiif.io/api/image/2/context.json":o.version=2;break;case"http://iiif.io/api/image/3/context.json":o.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(o.preferredFormats){for(var v=0;v<o.preferredFormats.length;v++)if(i.imageFormatSupported(o.preferredFormats[v])){o.tileFormat=o.preferredFormats[v];break}}return o}else{var h=s(o);return h["@context"]="http://iiif.io/api/image/1.0/context.json",h["@id"]=l.replace("/info.xml",""),h.version=1,h}},getTileWidth:function(o){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,o);var l=Math.pow(2,this.maxLevel-o);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[l]?this.tileSizePerScaleFactor[l].width:this._tileWidth},getTileHeight:function(o){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,o);var l=Math.pow(2,this.maxLevel-o);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[l]?this.tileSizePerScaleFactor[l].height:this._tileHeight},getLevelScale:function(o){if(this.emulateLegacyImagePyramid){var l=NaN;return this.levels.length>0&&o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l}return e.TileSource.prototype.getLevelScale.call(this,o)},getNumTiles:function(o){if(this.emulateLegacyImagePyramid){var l=this.getLevelScale(o);return l?new e.Point(1,1):new e.Point(0,0)}return e.TileSource.prototype.getNumTiles.call(this,o)},getTileAtPoint:function(o,l){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,o,l)},getTileUrl:function(o,l,c){if(this.emulateLegacyImagePyramid){var h=null;return this.levels.length>0&&o>=this.minLevel&&o<=this.maxLevel&&(h=this.levels[o].url),h}var d="0",f=Math.pow(.5,this.maxLevel-o),v=Math.round(this.width*f),w=Math.round(this.height*f),x,b,_,A,D,I,W,q,Y,X,Q,ne,oe,ue;return x=this.getTileWidth(o),b=this.getTileHeight(o),_=Math.round(x/f),A=Math.round(b/f),this.version===1?oe="native."+this.tileFormat:oe="default."+this.tileFormat,v<x&&w<b?(this.version===2&&v===this.width?X="full":this.version===3&&v===this.width&&w===this.height?X="max":this.version===3?X=v+","+w:X=v+",",D="full"):(I=l*_,W=c*A,q=Math.min(_,this.width-I),Y=Math.min(A,this.height-W),l===0&&c===0&&q===this.width&&Y===this.height?D="full":D=[I,W,q,Y].join(","),Q=Math.round(q*f),ne=Math.round(Y*f),this.version===2&&Q===this.width?X="full":this.version===3&&Q===this.width&&ne===this.height?X="max":this.version===3?X=Q+","+ne:X=Q+","),ue=[this._id,D,X,d,oe].join("/"),ue},__testonly__:{canBeTiled:t,constructLevels:r}});function t(o){var l=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],c=Array.isArray(o.profile)?o.profile[0]:o.profile,h=l.indexOf(c)!==-1,d=!1;return o.version===2&&o.profile.length>1&&o.profile[1].supports&&(d=o.profile[1].supports.indexOf("sizeByW")!==-1),o.version===3&&o.extraFeatures&&(d=o.extraFeatures.indexOf("sizeByWh")!==-1),!h||d}function r(o){for(var l=[],c=0;c<o.sizes.length;c++)l.push({url:o._id+"/full/"+o.sizes[c].width+","+(o.version===3?o.sizes[c].height:"")+"/0/default."+o.tileFormat,width:o.sizes[c].width,height:o.sizes[c].height});return l.sort(function(h,d){return h.width-d.width})}function s(o){if(!o||!o.documentElement)throw new Error(e.getString("Errors.Xml"));var l=o.documentElement,c=l.tagName,h=null;if(c==="info")try{return h={},a(l,h),h}catch(d){throw d instanceof Error?d:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function a(o,l,c){var h,d;if(o.nodeType===3&&c)d=o.nodeValue.trim(),d.match(/^\d*$/)&&(d=Number(d)),l[c]?(e.isArray(l[c])||(l[c]=[l[c]]),l[c].push(d)):l[c]=d;else if(o.nodeType===1)for(h=0;h<o.childNodes.length;h++)a(o.childNodes[h],l,o.nodeName)}}(i),function(e){e.OsmTileSource=function(t,r,s,a,o){var l;e.isPlainObject(t)?l=t:l={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!l.width||!l.height)&&(l.width=65572864,l.height=65572864),l.tileSize||(l.tileSize=256,l.tileOverlap=0),l.tilesUrl||(l.tilesUrl="http://tile.openstreetmap.org/"),l.minLevel=8,e.TileSource.apply(this,[l])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(t,r){return t.type&&t.type==="openstreetmaps"},configure:function(t,r,s){return t},getTileUrl:function(t,r,s){return this.tilesUrl+(t-8)+"/"+r+"/"+s+".png"}})}(i),function(e){e.TmsTileSource=function(t,r,s,a,o){var l;e.isPlainObject(t)?l=t:l={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var c=Math.ceil(l.width/256)*256,h=Math.ceil(l.height/256)*256,d;c>h?d=c/256:d=h/256,l.maxLevel=Math.ceil(Math.log(d)/Math.log(2))-1,l.tileSize=256,l.width=c,l.height=h,e.TileSource.apply(this,[l])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(t,r){return t.type&&t.type==="tiledmapservice"},configure:function(t,r,s){return t},getTileUrl:function(t,r,s){var a=this.getNumTiles(t).y-1;return this.tilesUrl+t+"/"+r+"/"+(a-s)+".png"}})}(i),function(e){e.ZoomifyTileSource=function(t){typeof t.tileSize>"u"&&(t.tileSize=256),typeof t.fileFormat>"u"&&(t.fileFormat="jpg",this.fileFormat=t.fileFormat);var r={x:t.width,y:t.height};for(t.imageSizes=[{x:t.width,y:t.height}],t.gridSize=[this._getGridSize(t.width,t.height,t.tileSize)];parseInt(r.x,10)>t.tileSize||parseInt(r.y,10)>t.tileSize;)r.x=Math.floor(r.x/2),r.y=Math.floor(r.y/2),t.imageSizes.push({x:r.x,y:r.y}),t.gridSize.push(this._getGridSize(r.x,r.y,t.tileSize));t.imageSizes.reverse(),t.gridSize.reverse(),t.minLevel=0,t.maxLevel=t.gridSize.length-1,i.TileSource.apply(this,[t])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(t,r,s){return{x:Math.ceil(t/s),y:Math.ceil(r/s)}},_calculateAbsoluteTileNumber:function(t,r,s){for(var a=0,o={},l=0;l<t;l++)o=this.gridSize[l],a+=o.x*o.y;return o=this.gridSize[t],a+=o.x*s+r,a},supports:function(t,r){return t.type&&t.type==="zoomifytileservice"},configure:function(t,r,s){return t},getTileUrl:function(t,r,s){var a=0,o=this._calculateAbsoluteTileNumber(t,r,s);return a=Math.floor(o/256),this.tilesUrl+"TileGroup"+a+"/"+t+"-"+r+"-"+s+"."+this.fileFormat}})}(i),function(e){e.LegacyTileSource=function(a){var o,l,c;e.isArray(a)&&(o={type:"legacy-image-pyramid",levels:a}),o.levels=t(o.levels),o.levels.length>0?(l=o.levels[o.levels.length-1].width,c=o.levels[o.levels.length-1].height):(l=0,c=0,e.console.error("No supported image formats found")),e.extend(!0,o,{width:l,height:c,tileSize:Math.max(c,l),tileOverlap:0,minLevel:0,maxLevel:o.levels.length>0?o.levels.length-1:0}),e.TileSource.apply(this,[o]),this.levels=o.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(a,o){return a.type&&a.type==="legacy-image-pyramid"||a.documentElement&&a.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(a,o,l){var c;return e.isPlainObject(a)?c=s(this,a):c=r(this,a),c},getLevelScale:function(a){var o=NaN;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(o=this.levels[a].width/this.levels[this.maxLevel].width),o},getNumTiles:function(a){var o=this.getLevelScale(a);return o?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(a,o,l){var c=null;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(c=this.levels[a].url),c}});function t(a){var o=[],l,c;for(c=0;c<a.length;c++)l=a[c],l.height&&l.width&&l.url?o.push({url:l.url,width:Number(l.width),height:Number(l.height)}):e.console.error("Unsupported image format: %s",l.url?l.url:"<no URL>");return o.sort(function(h,d){return h.height-d.height})}function r(a,o){if(!o||!o.documentElement)throw new Error(e.getString("Errors.Xml"));var l=o.documentElement,c=l.tagName,h=null,d=[],f,v;if(c==="image")try{for(h={type:l.getAttribute("type"),levels:[]},d=l.getElementsByTagName("level"),v=0;v<d.length;v++)f=d[v],h.levels.push({url:f.getAttribute("url"),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10)});return s(a,h)}catch(w){throw w instanceof Error?w:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(c==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(c==="error")throw new Error("Error: "+o)}throw new Error("Unknown element "+c)}function s(a,o){return o.levels}}(i),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(t,r){return t.type&&t.type==="image"},configure:function(t,r,s){return t},getImageInfo:function(t){var r=this._image=new Image,s=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),e.addEvent(r,"load",function(){s.width=r.naturalWidth,s.height=r.naturalHeight,s.aspectRatio=s.width/s.height,s.dimensions=new e.Point(s.width,s.height),s._tileWidth=s.width,s._tileHeight=s.height,s.tileOverlap=0,s.minLevel=0,s.levels=s._buildLevels(),s.maxLevel=s.levels.length-1,s.ready=!0,s.raiseEvent("ready",{tileSource:s})}),e.addEvent(r,"error",function(){s.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),r.src=t},getLevelScale:function(t){var r=NaN;return t>=this.minLevel&&t<=this.maxLevel&&(r=this.levels[t].width/this.levels[this.maxLevel].width),r},getNumTiles:function(t){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(t,r,s){var a=null;return t>=this.minLevel&&t<=this.maxLevel&&(a=this.levels[t].url),a},getContext2D:function(t,r,s){var a=null;return t>=this.minLevel&&t<=this.maxLevel&&(a=this.levels[t].context2D),a},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var r=this._image.naturalWidth,s=this._image.naturalHeight,a=document.createElement("canvas"),o=a.getContext("2d");if(a.width=r,a.height=s,o.drawImage(this._image,0,0,r,s),t[0].context2D=o,delete this._image,e.isCanvasTainted(a))return t;for(;r>=2&&s>=2;){r=Math.floor(r/2),s=Math.floor(s/2);var l=document.createElement("canvas"),c=l.getContext("2d");l.width=r,l.height=s,c.drawImage(a,0,0,r,s),t.splice(0,0,{context2D:c,width:r,height:s}),a=l,o=c}return t},_freeupCanvasMemory:function(){for(var t=0;t<this.levels.length;t++)this.levels[t].context2D&&(this.levels[t].context2D.canvas.height=0,this.levels[t].context2D.canvas.width=0)}})}(i),function(e){e.TileSourceCollection=function(t,r,s,a){e.console.error("TileSourceCollection is deprecated; use World instead")}}(i),function(e){e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(c){var h=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},c),this.element=c.element||e.makeNeutralElement("div"),c.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){d.insideElementPressed?(o(h,e.ButtonState.DOWN),h.raiseEvent("enter",{originalEvent:d.originalEvent})):d.buttonDownAny||o(h,e.ButtonState.HOVER)},focusHandler:function(d){h.tracker.enterHandler(d),h.raiseEvent("focus",{originalEvent:d.originalEvent})},leaveHandler:function(d){l(h,e.ButtonState.GROUP),d.insideElementPressed&&h.raiseEvent("exit",{originalEvent:d.originalEvent})},blurHandler:function(d){h.tracker.leaveHandler(d),h.raiseEvent("blur",{originalEvent:d.originalEvent})},pressHandler:function(d){o(h,e.ButtonState.DOWN),h.raiseEvent("press",{originalEvent:d.originalEvent})},releaseHandler:function(d){d.insideElementPressed&&d.insideElementReleased?(l(h,e.ButtonState.HOVER),h.raiseEvent("release",{originalEvent:d.originalEvent})):d.insideElementPressed?l(h,e.ButtonState.GROUP):o(h,e.ButtonState.HOVER)},clickHandler:function(d){d.quick&&h.raiseEvent("click",{originalEvent:d.originalEvent})},keyHandler:function(d){d.keyCode===13?(h.raiseEvent("click",{originalEvent:d.originalEvent}),h.raiseEvent("release",{originalEvent:d.originalEvent}),d.preventDefault=!0):d.preventDefault=!1}}),l(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){o(this,e.ButtonState.GROUP)},notifyGroupExit:function(){l(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function t(c){e.requestAnimationFrame(function(){r(c)})}function r(c){var h,d,f;c.shouldFade&&(h=e.now(),d=h-c.fadeBeginTime,f=1-d/c.fadeLength,f=Math.min(1,f),f=Math.max(0,f),c.imgGroup&&e.setElementOpacity(c.imgGroup,f,!0),f>0&&t(c))}function s(c){c.shouldFade=!0,c.fadeBeginTime=e.now()+c.fadeDelay,window.setTimeout(function(){t(c)},c.fadeDelay)}function a(c){c.shouldFade=!1,c.imgGroup&&e.setElementOpacity(c.imgGroup,1,!0)}function o(c,h){c.element.disabled||(h>=e.ButtonState.GROUP&&c.currentState===e.ButtonState.REST&&(a(c),c.currentState=e.ButtonState.GROUP),h>=e.ButtonState.HOVER&&c.currentState===e.ButtonState.GROUP&&(c.imgHover&&(c.imgHover.style.visibility=""),c.currentState=e.ButtonState.HOVER),h>=e.ButtonState.DOWN&&c.currentState===e.ButtonState.HOVER&&(c.imgDown&&(c.imgDown.style.visibility=""),c.currentState=e.ButtonState.DOWN))}function l(c,h){c.element.disabled||(h<=e.ButtonState.HOVER&&c.currentState===e.ButtonState.DOWN&&(c.imgDown&&(c.imgDown.style.visibility="hidden"),c.currentState=e.ButtonState.HOVER),h<=e.ButtonState.GROUP&&c.currentState===e.ButtonState.HOVER&&(c.imgHover&&(c.imgHover.style.visibility="hidden"),c.currentState=e.ButtonState.GROUP),h<=e.ButtonState.REST&&c.currentState===e.ButtonState.GROUP&&(s(c),c.currentState=e.ButtonState.REST))}}(i),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var r=this.buttons.concat([]),s=this,a;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",a=0;a<r.length;a++)this.element.appendChild(r[a].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(o){var l;for(l=0;l<s.buttons.length;l++)s.buttons[l].notifyGroupEnter()},leaveHandler:function(o){var l;if(!o.insideElementPressed)for(l=0;l<s.buttons.length;l++)s.buttons[l].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var t=this.buttons.pop();this.element.removeChild(t.element),t.destroy()}this.tracker.destroy(),this.element=null}}}(i),function(e){e.Rect=function(t,r,s,a,o){this.x=typeof t=="number"?t:0,this.y=typeof r=="number"?r:0,this.width=typeof s=="number"?s:0,this.height=typeof a=="number"?a:0,this.degrees=typeof o=="number"?o:0,this.degrees=e.positiveModulo(this.degrees,360);var l,c;this.degrees>=270?(l=this.getTopRight(),this.x=l.x,this.y=l.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=270):this.degrees>=180?(l=this.getBottomRight(),this.x=l.x,this.y=l.y,this.degrees-=180):this.degrees>=90&&(l=this.getBottomLeft(),this.x=l.x,this.y=l.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=90)},e.Rect.fromSummits=function(t,r,s){var a=t.distanceTo(r),o=t.distanceTo(s),l=r.minus(t),c=Math.atan(l.y/l.x);return l.x<0?c+=Math.PI:l.y<0&&(c+=2*Math.PI),new e.Rect(t.x,t.y,a,o,c/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var r=this.getBoundingBox(),s=t.getBoundingBox(),a=Math.min(r.x,s.x),o=Math.min(r.y,s.y),l=Math.max(r.x+r.width,s.x+s.width),c=Math.max(r.y+r.height,s.y+s.height);return new e.Rect(a,o,l-a,c-o)},intersection:function(t){var r=1e-10,s=[],a=this.getTopLeft();t.containsPoint(a,r)&&s.push(a);var o=this.getTopRight();t.containsPoint(o,r)&&s.push(o);var l=this.getBottomLeft();t.containsPoint(l,r)&&s.push(l);var c=this.getBottomRight();t.containsPoint(c,r)&&s.push(c);var h=t.getTopLeft();this.containsPoint(h,r)&&s.push(h);var d=t.getTopRight();this.containsPoint(d,r)&&s.push(d);var f=t.getBottomLeft();this.containsPoint(f,r)&&s.push(f);var v=t.getBottomRight();this.containsPoint(v,r)&&s.push(v);for(var w=this._getSegments(),x=t._getSegments(),b=0;b<w.length;b++)for(var _=w[b],A=0;A<x.length;A++){var D=x[A],I=W(_[0],_[1],D[0],D[1]);I&&s.push(I)}function W(ue,de,_e,Ae){var ae=de.minus(ue),te=Ae.minus(_e),le=-te.x*ae.y+ae.x*te.y;if(le===0)return null;var xe=(ae.x*(ue.y-_e.y)-ae.y*(ue.x-_e.x))/le,H=(te.x*(ue.y-_e.y)-te.y*(ue.x-_e.x))/le;return-r<=xe&&xe<=1-r&&-r<=H&&H<=1-r?new e.Point(ue.x+H*ae.x,ue.y+H*ae.y):null}if(s.length===0)return null;for(var q=s[0].x,Y=s[0].x,X=s[0].y,Q=s[0].y,ne=1;ne<s.length;ne++){var oe=s[ne];oe.x<q&&(q=oe.x),oe.x>Y&&(Y=oe.x),oe.y<X&&(X=oe.y),oe.y>Q&&(Q=oe.y)}return new e.Rect(q,X,Y-q,Q-X)},_getSegments:function(){var t=this.getTopLeft(),r=this.getTopRight(),s=this.getBottomLeft(),a=this.getBottomRight();return[[t,r],[r,a],[a,s],[s,t]]},rotate:function(t,r){if(t=e.positiveModulo(t,360),t===0)return this.clone();r=r||this.getCenter();var s=this.getTopLeft().rotate(t,r),a=this.getTopRight().rotate(t,r),o=a.minus(s);o=o.apply(function(c){var h=1e-15;return Math.abs(c)<h?0:c});var l=Math.atan(o.y/o.x);return o.x<0?l+=Math.PI:o.y<0&&(l+=2*Math.PI),new e.Rect(s.x,s.y,this.width,this.height,l/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var t=this.getTopLeft(),r=this.getTopRight(),s=this.getBottomLeft(),a=this.getBottomRight(),o=Math.min(t.x,r.x,s.x,a.x),l=Math.max(t.x,r.x,s.x,a.x),c=Math.min(t.y,r.y,s.y,a.y),h=Math.max(t.y,r.y,s.y,a.y);return new e.Rect(o,c,l-o,h-c)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),r=Math.floor(t.x),s=Math.floor(t.y),a=Math.ceil(t.width+t.x-r),o=Math.ceil(t.height+t.y-s);return new e.Rect(r,s,a,o)},containsPoint:function(t,r){r=r||0;var s=this.getTopLeft(),a=this.getTopRight(),o=this.getBottomLeft(),l=a.minus(s),c=o.minus(s);return(t.x-s.x)*l.x+(t.y-s.y)*l.y>=-r&&(t.x-a.x)*l.x+(t.y-a.y)*l.y<=r&&(t.x-s.x)*c.x+(t.y-s.y)*c.y>=-r&&(t.x-o.x)*c.x+(t.y-o.y)*c.y<=r},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(i),function(e){var t={};e.ReferenceStrip=function(f){var v=this,w=f.viewer,x=e.getElementSize(w.element),b,_,A;for(f.id||(f.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=f.id,this.element.className="referencestrip"),f=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},f,{element:this.element}),e.extend(this,f),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,_=this.element.style,_.marginTop="0px",_.marginRight="0px",_.marginBottom="0px",_.marginLeft="0px",_.left="0px",_.bottom="0px",_.border="0px",_.background="#000",_.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=w,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,r),dragHandler:e.delegate(this,s),scrollHandler:e.delegate(this,a),enterHandler:e.delegate(this,l),leaveHandler:e.delegate(this,c),keyDownHandler:e.delegate(this,h),keyHandler:e.delegate(this,d),preProcessEventHandler:function(D){D.eventType==="wheel"&&(D.preventDefault=!0)}}),f.width&&f.height?(this.element.style.width=f.width+"px",this.element.style.height=f.height+"px",w.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):f.scroll==="horizontal"?(this.element.style.width=x.x*f.sizeRatio*w.tileSources.length+12*w.tileSources.length+"px",this.element.style.height=x.y*f.sizeRatio+"px",w.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=x.y*f.sizeRatio*w.tileSources.length+12*w.tileSources.length+"px",this.element.style.width=x.x*f.sizeRatio+"px",w.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=x.x*this.sizeRatio+8,this.panelHeight=x.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},A=0;A<w.tileSources.length;A++)b=e.makeNeutralElement("div"),b.id=this.element.id+"-"+A,b.style.width=v.panelWidth+"px",b.style.height=v.panelHeight+"px",b.style.display="inline",b.style.float="left",b.style.cssFloat="left",b.style.styleFloat="left",b.style.padding="2px",e.setElementTouchActionNone(b),e.setElementPointerEventsNone(b),this.element.appendChild(b),b.activePanel=!1,this.panels.push(b);o(this,this.scroll==="vertical"?x.y:x.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(f){var v=this.element.querySelector("#"+this.element.id+"-"+f),w=e.getElementSize(this.viewer.canvas),x=Number(this.element.style.width.replace("px","")),b=Number(this.element.style.height.replace("px","")),_=-Number(this.element.style.marginLeft.replace("px","")),A=-Number(this.element.style.marginTop.replace("px","")),D;this.currentSelected!==v&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=v,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(D=Number(f)*(this.panelWidth+3),D>_+w.x-this.panelWidth?(D=Math.min(D,x-w.x),this.element.style.marginLeft=-D+"px",o(this,w.x,-D)):D<_&&(D=Math.max(0,D-w.x/2),this.element.style.marginLeft=-D+"px",o(this,w.x,-D))):(D=Number(f)*(this.panelHeight+3),D>A+w.y-this.panelHeight?(D=Math.min(D,b-w.y),this.element.style.marginTop=-D+"px",o(this,w.y,-D)):D<A&&(D=Math.max(0,D-w.y/2),this.element.style.marginTop=-D+"px",o(this,w.y,-D))),this.currentPage=f,l.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var f in this.miniViewers)this.miniViewers[f].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function r(f){if(f.quick){var v;this.scroll==="horizontal"?v=Math.floor(f.position.x/this.panelWidth):v=Math.floor(f.position.y/this.panelHeight),this.viewer.goToPage(v)}this.element.focus()}function s(f){if(this.dragging=!0,this.element){var v=Number(this.element.style.marginLeft.replace("px","")),w=Number(this.element.style.marginTop.replace("px","")),x=Number(this.element.style.width.replace("px","")),b=Number(this.element.style.height.replace("px","")),_=e.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-f.delta.x>0?v>-(x-_.x)&&(this.element.style.marginLeft=v+f.delta.x*2+"px",o(this,_.x,v+f.delta.x*2)):-f.delta.x<0&&v<0&&(this.element.style.marginLeft=v+f.delta.x*2+"px",o(this,_.x,v+f.delta.x*2)):-f.delta.y>0?w>-(b-_.y)&&(this.element.style.marginTop=w+f.delta.y*2+"px",o(this,_.y,w+f.delta.y*2)):-f.delta.y<0&&w<0&&(this.element.style.marginTop=w+f.delta.y*2+"px",o(this,_.y,w+f.delta.y*2))}}function a(f){if(this.element){var v=Number(this.element.style.marginLeft.replace("px","")),w=Number(this.element.style.marginTop.replace("px","")),x=Number(this.element.style.width.replace("px","")),b=Number(this.element.style.height.replace("px","")),_=e.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?f.scroll>0?v>-(x-_.x)&&(this.element.style.marginLeft=v-f.scroll*60+"px",o(this,_.x,v-f.scroll*60)):f.scroll<0&&v<0&&(this.element.style.marginLeft=v-f.scroll*60+"px",o(this,_.x,v-f.scroll*60)):f.scroll<0?w>_.y-b&&(this.element.style.marginTop=w+f.scroll*60+"px",o(this,_.y,w+f.scroll*60)):f.scroll>0&&w<0&&(this.element.style.marginTop=w+f.scroll*60+"px",o(this,_.y,w+f.scroll*60)),f.preventDefault=!0}}function o(f,v,w){var x,b,_,A,D,I;for(f.scroll==="horizontal"?x=f.panelWidth:x=f.panelHeight,b=Math.ceil(v/x)+5,_=Math.ceil((Math.abs(w)+v)/x)+1,b=_-b,b=b<0?0:b,D=b;D<_&&D<f.panels.length;D++)if(I=f.panels[D],!I.activePanel){var W,q=f.viewer.tileSources[D];q.referenceStripThumbnailUrl?W={type:"image",url:q.referenceStripThumbnailUrl}:W=q,A=new e.Viewer({id:I.id,tileSources:[W],element:I,navigatorSizeRatio:f.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:f.viewer.loadTilesWithAjax,ajaxHeaders:f.viewer.ajaxHeaders,useCanvas:f.useCanvas}),e.setElementPointerEventsNone(A.canvas),e.setElementPointerEventsNone(A.container),A.innerTracker.setTracking(!1),A.outerTracker.setTracking(!1),f.miniViewers[I.id]=A,I.activePanel=!0}}function l(f){var v=f.eventSource.element;this.scroll==="horizontal"?v.style.marginBottom="0px":v.style.marginLeft="0px"}function c(f){var v=f.eventSource.element;this.scroll==="horizontal"?v.style.marginBottom="-"+e.getElementSize(v).y/2+"px":v.style.marginLeft="-"+e.getElementSize(v).x/2+"px"}function h(f){if(!f.ctrl&&!f.alt&&!f.meta)switch(f.keyCode){case 38:a.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),f.preventDefault=!0;break;case 40:a.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),f.preventDefault=!0;break;case 37:a.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),f.preventDefault=!0;break;case 39:a.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),f.preventDefault=!0;break;default:f.preventDefault=!1;break}else f.preventDefault=!1}function d(f){if(!f.ctrl&&!f.alt&&!f.meta)switch(f.keyCode){case 61:a.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),f.preventDefault=!0;break;case 45:a.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),f.preventDefault=!0;break;case 48:case 119:case 87:a.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),f.preventDefault=!0;break;case 115:case 83:a.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),f.preventDefault=!0;break;case 97:a.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),f.preventDefault=!0;break;case 100:a.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),f.preventDefault=!0;break;default:f.preventDefault=!1;break}else f.preventDefault=!1}}(i),function(e){e.DisplayRect=function(t,r,s,a,o,l){e.Rect.apply(this,[t,r,s,a]),this.minLevel=o,this.maxLevel=l},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(i),function(e){e.Spring=function(r){var s=arguments;typeof r!="object"&&(r={initial:s.length&&typeof s[0]=="number"?s[0]:void 0,springStiffness:s.length>1?s[1].springStiffness:5,animationTime:s.length>1?s[1].animationTime:1.5}),e.console.assert(typeof r.springStiffness=="number"&&r.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert(typeof r.animationTime=="number"&&r.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),r.exponential&&(this._exponential=!0,delete r.exponential),e.extend(!0,this,r),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(r){e.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=r,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(r){e.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=r,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(r){this.start.value+=r,this.target.value+=r,this._exponential&&(e.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(r){this._exponential=r,this._exponential&&(e.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=e.now();var r,s;this._exponential?(r=this.start._logValue,s=this.target._logValue):(r=this.start.value,s=this.target.value);var a=this.current.time>=this.target.time?s:r+(s-r)*t(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),o=this.current.value;return this._exponential?this.current.value=Math.exp(a):this.current.value=a,o!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function t(r,s){return(1-Math.exp(r*-s))/(1-Math.exp(-r))}}(i),function(e){e.ImageJob=function(r){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},r),this.data=null,this.userData={},this.errorMsg=null},e.ImageJob.prototype={start:function(){var r=this,s=this.abort;this.jobId=window.setTimeout(function(){r.finish(null,null,"Image load exceeded timeout ("+r.timeout+" ms)")},this.timeout),this.abort=function(){r.source.downloadTileAbort(r),typeof s=="function"&&s()},this.source.downloadTileStart(this)},finish:function(r,s,a){this.data=r,this.request=s,this.errorMsg=a,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(r){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},r)},e.ImageLoader.prototype={addJob:function(r){if(!r.source){e.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var s=e.TileSource.prototype;r.source={downloadTileStart:s.downloadTileStart,downloadTileAbort:s.downloadTileAbort}}var a=this,o=function(h){t(a,h,r.callback)},l={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:o,abort:r.abort,timeout:this.timeout},c=new e.ImageJob(l);!this.jobLimit||this.jobsInProgress<this.jobLimit?(c.start(),this.jobsInProgress++):this.jobQueue.push(c)},clear:function(){for(var r=0;r<this.jobQueue.length;r++){var s=this.jobQueue[r];typeof s.abort=="function"&&s.abort()}this.jobQueue=[]}};function t(r,s,a){var o;r.jobsInProgress--,(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.jobQueue.length>0&&(o=r.jobQueue.shift(),o.start(),r.jobsInProgress++),a(s.data,s.errorMsg,s.request)}}(i),function(e){e.Tile=function(t,r,s,a,o,l,c,h,d,f,v,w){this.level=t,this.x=r,this.y=s,this.bounds=a,this.sourceBounds=f,this.exists=o,this._url=l,this.postData=v,this.context2D=c,this.loadWithAjax=h,this.ajaxHeaders=d,w===void 0&&(e.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),w=e.TileSource.prototype.getTileHashKey(t,r,s,l,d,v)),this.cacheKey=w,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(t){if(!this.cacheImageRecord){e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var r=this.getImage();if(!r)return;this.element=e.makeNeutralElement("div"),this.imgElement=r.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==t&&t.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)},get image(){return e.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return e.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(t,r,s,a,o,l){var c=this.position.times(e.pixelDensityRatio),h=this.size.times(e.pixelDensityRatio),d;if(!this.context2D&&!this.cacheImageRecord){e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(d=this.getCanvasContext(),!this.loaded||!d){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}t.save(),t.globalAlpha=this.opacity,typeof s=="number"&&s!==1&&(c=c.times(s),h=h.times(s)),a instanceof e.Point&&(c=c.plus(a)),t.globalAlpha===1&&this.hasTransparency&&(o&&(c.x=Math.round(c.x),c.y=Math.round(c.y),h.x=Math.round(h.x),h.y=Math.round(h.y)),t.clearRect(c.x,c.y,h.x,h.y)),r({context:t,tile:this,rendered:d});var f,v;this.sourceBounds?(f=Math.min(this.sourceBounds.width,d.canvas.width),v=Math.min(this.sourceBounds.height,d.canvas.height)):(f=d.canvas.width,v=d.canvas.height),t.translate(c.x+h.x/2,0),this.flipped&&t.scale(-1,1),t.drawImage(d.canvas,0,0,f,v,-h.x/2,c.y,h.x,h.y),t.restore()},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else if(this.context2D)t=this.context2D;else return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,r,s){var a=Math.max(1,Math.ceil((s.x-r.x)/2)),o=Math.max(1,Math.ceil((s.y-r.y)/2));return new e.Point(a,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(l){return l%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(i),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,r,s){var a;e.isPlainObject(t)?a=t:a={element:t,location:r,placement:s},this.element=a.element,this.style=a.element.style,this._init(a)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=t.placement===void 0?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=t.checkResize===void 0?!0:t.checkResize,this.width=t.width===void 0?null:t.width,this.height=t.height===void 0?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,r){var s=e.Placement.properties[this.placement];s&&(s.isHorizontallyCentered?t.x-=r.x/2:s.isRight&&(t.x-=r.x),s.isVerticallyCentered?t.y-=r.y/2:s.isBottom&&(t.y-=r.y))},destroy:function(){var t=this.element,r=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(r.display="none",document.body.appendChild(t))),this.onDraw=null,r.top="",r.left="",r.position="",this.width!==null&&(r.width=""),this.height!==null&&(r.height="");var s=e.getCssPropertyWithVendorPrefix("transformOrigin"),a=e.getCssPropertyWithVendorPrefix("transform");s&&a&&(r[s]="",r[a]="")},drawHTML:function(t,r){var s=this.element;s.parentNode!==t&&(s.prevElementParent=s.parentNode,s.prevNextSibling=s.nextSibling,t.appendChild(s),this.style.position="absolute",this.size=e.getElementSize(s));var a=this._getOverlayPositionAndSize(r),o=a.position,l=this.size=a.size,c=a.rotate;if(this.onDraw)this.onDraw(o,l,this.element);else{var h=this.style;h.left=o.x+"px",h.top=o.y+"px",this.width!==null&&(h.width=l.x+"px"),this.height!==null&&(h.height=l.y+"px");var d=e.getCssPropertyWithVendorPrefix("transformOrigin"),f=e.getCssPropertyWithVendorPrefix("transform");d&&f&&(c?(h[d]=this._getTransformOrigin(),h[f]="rotate("+c+"deg)"):(h[d]="",h[f]="")),h.display="block"}},_getOverlayPositionAndSize:function(t){var r=t.pixelFromPoint(this.location,!0),s=this._getSizeInPixels(t);this.adjust(r,s);var a=0;if(t.getRotation(!0)&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var o=new e.Rect(r.x,r.y,s.x,s.y),l=this._getBoundingBox(o,t.getRotation(!0));r=l.getTopLeft(),s=l.getSize()}else a=t.getRotation(!0);return{position:r,size:s,rotate:a}},_getSizeInPixels:function(t){var r=this.size.x,s=this.size.y;if(this.width!==null||this.height!==null){var a=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);this.width!==null&&(r=a.x),this.height!==null&&(s=a.y)}if(this.checkResize&&(this.width===null||this.height===null)){var o=this.size=e.getElementSize(this.element);this.width===null&&(r=o.x),this.height===null&&(s=o.y)}return new e.Point(r,s)},_getBoundingBox:function(t,r){var s=this._getPlacementPoint(t);return t.rotate(r,s).getBoundingBox()},_getPlacementPoint:function(t){var r=new e.Point(t.x,t.y),s=e.Placement.properties[this.placement];return s&&(s.isHorizontallyCentered?r.x+=t.width/2:s.isRight&&(r.x+=t.width),s.isVerticallyCentered?r.y+=t.height/2:s.isBottom&&(r.y+=t.height)),r},_getTransformOrigin:function(){var t="",r=e.Placement.properties[this.placement];return r&&(r.isLeft?t="left":r.isRight&&(t="right"),r.isTop?t+=" top":r.isBottom&&(t+=" bottom")),t},update:function(t,r){var s=e.isPlainObject(t)?t:{location:t,placement:r};this._init({location:s.location||this.location,placement:s.placement!==void 0?s.placement:this.placement,onDraw:s.onDraw||this.onDraw,checkResize:s.checkResize||this.checkResize,width:s.width!==void 0?s.width:this.width,height:s.height!==void 0?s.height:this.height,rotationMode:s.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,s=this.height;if(r===null||s===null){var a=t.deltaPointsFromPixelsNoRotate(this.size,!0);r===null&&(r=a.x),s===null&&(s=a.y)}var o=this.location.clone();return this.adjust(o,new e.Point(r,s)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,r,s))},_adjustBoundsForRotation:function(t,r){if(!t||t.getRotation(!0)===0||this.rotationMode===e.OverlayRotationMode.EXACT)return r;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return r;var s=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(s.position.x,s.position.y,s.size.x,s.size.y))}return r.rotate(-t.getRotation(!0),this._getPlacementPoint(r))}}}(i),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var r=arguments;if(e.isPlainObject(t)||(t={source:r[0],viewport:r[1],element:r[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor=typeof t.debugGridColor=="string"?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var s=this._calculateCanvasSize();this.canvas.width=s.x,this.canvas.height=s.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(t,r,s,a){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,r,s,a),this},updateOverlay:function(t,r,s){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,r,s),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(t){var r=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)},clipWithPolygons:function(t,r){if(this.useCanvas){var s=this._getContext(r);s.beginPath(),t.forEach(function(a){a.forEach(function(o,l){s[l===0?"moveTo":"lineTo"](o.x,o.y)})}),s.clip()}},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var r=this.viewer.world,s=0;s<r.getItemCount();s++)r.getItemAt(s).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,r=0,s=0;s<t.getItemCount();s++){var a=t.getItemAt(s).getOpacity();a>r&&(r=a)}return r},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var t=this._calculateCanvasSize();if((this.canvas.width!==t.x||this.canvas.height!==t.y)&&(this.canvas.width=t.x,this.canvas.height=t.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var r=this._calculateSketchCanvasSize();this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(t,r){if(this.useCanvas){var s=this._getContext(t);if(r)s.clearRect(r.x,r.y,r.width,r.height);else{var a=s.canvas;s.clearRect(0,0,a.width,a.height)}}},viewportToDrawerRectangle:function(t){var r=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),s=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio,s.x*e.pixelDensityRatio,s.y*e.pixelDensityRatio)},drawTile:function(t,r,s,a,o,l,c){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(r,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var h=this._getContext(s);a=a||1,t.drawCanvas(h,r,a,o,l,c)}else t.drawHTML(this.canvas)},_getContext:function(t){var r=this.context;if(t){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var s=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=s.x,this.sketchCanvas.height=s.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var a=this;this.viewer.addHandler("rotate",function o(){if(a.viewport.getRotation()!==0){a.viewer.removeHandler("rotate",o);var l=a._calculateSketchCanvasSize();a.sketchCanvas.width=l.x,a.sketchCanvas.height=l.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}r=this.sketchContext}return r},saveContext:function(t){this.useCanvas&&this._getContext(t).save()},restoreContext:function(t){this.useCanvas&&this._getContext(t).restore()},setClip:function(t,r){if(this.useCanvas){var s=this._getContext(r);s.beginPath(),s.rect(t.x,t.y,t.width,t.height),s.clip()}},drawRectangle:function(t,r,s){if(this.useCanvas){var a=this._getContext(s);a.save(),a.fillStyle=r,a.fillRect(t.x,t.y,t.width,t.height),a.restore()}},blendSketch:function(t,r,s,a){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:r,translate:s,compositeOperation:a}),!(!this.useCanvas||!this.sketchCanvas)){t=o.opacity,a=o.compositeOperation;var l=o.bounds;if(this.context.save(),this.context.globalAlpha=t,a&&(this.context.globalCompositeOperation=a),l)l.x<0&&(l.width+=l.x,l.x=0),l.x+l.width>this.canvas.width&&(l.width=this.canvas.width-l.x),l.y<0&&(l.height+=l.y,l.y=0),l.y+l.height>this.canvas.height&&(l.height=this.canvas.height-l.y),this.context.drawImage(this.sketchCanvas,l.x,l.y,l.width,l.height,l.x,l.y,l.width,l.height);else{r=o.scale||1,s=o.translate;var c=s instanceof e.Point?s:new e.Point(0,0),h=0,d=0;if(s){var f=this.sketchCanvas.width-this.canvas.width,v=this.sketchCanvas.height-this.canvas.height;h=Math.round(f/2),d=Math.round(v/2)}this.context.drawImage(this.sketchCanvas,c.x-h*r,c.y-d*r,(this.canvas.width+2*h)*r,(this.canvas.height+2*d)*r,-h,-d,this.canvas.width+2*h,this.canvas.height+2*d)}this.context.restore()}},drawDebugInfo:function(t,r,s,a){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(a)%this.debugGridColor.length,l=this.context;l.save(),l.lineWidth=2*e.pixelDensityRatio,l.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",l.strokeStyle=this.debugGridColor[o],l.fillStyle=this.debugGridColor[o],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),a.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:a.getRotation(!0),point:a.viewport.pixelFromPointNoRotate(a._getRotationPoint(!0),!0)}),a.viewport.getRotation(!0)%360===0&&a.getRotation(!0)%360===0&&a._drawer.viewer.viewport.getFlip()&&a._drawer._flip(),l.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var c=(t.position.x+t.size.x/2)*e.pixelDensityRatio,h=(t.position.y+t.size.y/2)*e.pixelDensityRatio;l.translate(c,h),l.rotate(Math.PI/180*-this.viewport.getRotation(!0)),l.translate(-c,-h),t.x===0&&t.y===0&&(l.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),l.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),l.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),l.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),l.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),l.fillText("Order: "+s+" of "+r,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),l.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),l.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),a.getRotation(!0)%360!==0&&this._restoreRotationChanges(),a.viewport.getRotation(!0)%360===0&&a.getRotation(!0)%360===0&&a._drawer.viewer.viewport.getFlip()&&a._drawer._flip(),l.restore()}},debugRect:function(t){if(this.useCanvas){var r=this.context;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),r.restore()}},setImageSmoothingEnabled:function(t){this.useCanvas&&(this._imageSmoothingEnabled=t,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(t){t.msImageSmoothingEnabled=this._imageSmoothingEnabled,t.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(t){var r=this._getContext(t).canvas;return new e.Point(r.width,r.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var r=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),s=this._getContext(t.useSketch);s.save(),s.translate(r.x,r.y),this.viewer.viewport.flipped?(s.rotate(Math.PI/180*-t.degrees),s.scale(-1,1)):s.rotate(Math.PI/180*t.degrees),s.translate(-r.x,-r.y)},_flip:function(t){t=t||{};var r=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),s=this._getContext(t.useSketch);s.translate(r.x,0),s.scale(-1,1),s.translate(-r.x,0)},_restoreRotationChanges:function(t){var r=this._getContext(t);r.restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*t),y:Math.round(r.y*t)}},_calculateSketchCanvasSize:function(){var t=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return t;var r=Math.ceil(Math.sqrt(t.x*t.x+t.y*t.y));return{x:r,y:r}}}}(i),function(e){e.Viewport=function(t){var r=arguments;r.length&&r[0]instanceof e.Point&&(t={containerSize:r[0],contentSize:r[1],config:r[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,t.initialDegrees=t.degrees,delete t.degrees,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new e.Spring({initial:t.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={get degrees(){return e.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(t){e.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(t)},resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,r){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,r)},_setContentBounds:function(t,r){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=t.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var t=this._contentAspectRatio/this.getAspectRatio(),r;return this.homeFillsViewer?r=t>=1?t:1:r=t>=1?1:t,r/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),s=r/this.getAspectRatio();return new e.Rect(t.x-r/2,t.y-s/2,r,s)},goHome:function(t){return this.viewer&&this.viewer.raiseEvent("home",{immediately:t}),this.fitBounds(this.getHomeBounds(),t)},getMinZoom:function(){var t=this.getHomeZoom(),r=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*t;return r},getMaxZoom:function(){var t=this.maxZoomLevel;return t||(t=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,t/=this._contentBounds.width),Math.max(t,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert(e.type(t)==="object","[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(-this.getRotation(t))},getBoundsNoRotate:function(t){var r=this.getCenter(t),s=1/this.getZoom(t),a=s/this.getAspectRatio();return new e.Rect(r.x-s/2,r.y-a/2,s,a)},getBoundsWithMargins:function(t){return this.getBoundsNoRotateWithMargins(t).rotate(-this.getRotation(t),this.getCenter(t))},getBoundsNoRotateWithMargins:function(t){var r=this.getBoundsNoRotate(t),s=this._containerInnerSize.x*this.getZoom(t);return r.x-=this._margins.left/s,r.y-=this._margins.top/s,r.width+=(this._margins.left+this._margins.right)/s,r.height+=(this._margins.top+this._margins.bottom)/s,r},getCenter:function(t){var r=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),s=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),a,o,l,c,h,d,f,v;return t?r:this.zoomPoint?(a=this.pixelFromPoint(this.zoomPoint,!0),o=this.getZoom(),l=1/o,c=l/this.getAspectRatio(),h=new e.Rect(r.x-l/2,r.y-c/2,l,c),d=this._pixelFromPoint(this.zoomPoint,h),f=d.minus(a).rotate(-this.getRotation(!0)),v=f.divide(this._containerInnerSize.x*o),s.plus(v)):s},getZoom:function(t){return t?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(t){return Math.max(Math.min(t,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var r=this.viewportToViewerElementRectangle(t).getBoundingBox(),s=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),a=!1,o=!1;if(!this.wrapHorizontal){var l=r.x+r.width,c=s.x+s.width,h,d,f;r.width>s.width?h=this.visibilityRatio*s.width:h=this.visibilityRatio*r.width,d=s.x-l+h,f=c-r.x-h,h>s.width?(r.x+=(d+f)/2,a=!0):f<0?(r.x+=f,a=!0):d>0&&(r.x+=d,a=!0)}if(!this.wrapVertical){var v=r.y+r.height,w=s.y+s.height,x,b,_;r.height>s.height?x=this.visibilityRatio*s.height:x=this.visibilityRatio*r.height,b=s.y-v+x,_=w-r.y-x,x>s.height?(r.y+=(b+_)/2,o=!0):_<0?(r.y+=_,o=!0):b>0&&(r.y+=b,o=!0)}var A=a||o,D=A?this.viewerElementToViewportRectangle(r):t.clone();return D.xConstrained=a,D.yConstrained=o,D.constraintApplied=A,D},_raiseConstraintsEvent:function(t){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:t})},applyConstraints:function(t){var r=this.getZoom(),s=this._applyZoomConstraints(r);r!==s&&this.zoomTo(s,this.zoomPoint,t);var a=this.getConstrainedBounds(!1);return a.constraintApplied&&(this.fitBounds(a,t),this._raiseConstraintsEvent(t)),this},ensureVisible:function(t){return this.applyConstraints(t)},_fitBounds:function(t,r){r=r||{};var s=r.immediately||!1,a=r.constraints||!1,o=this.getAspectRatio(),l=t.getCenter(),c=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();c.getAspectRatio()>=o?c.height=c.width/o:c.width=c.height*o,c.x=l.x-c.width/2,c.y=l.y-c.height/2;var h=1/c.width;if(s)return this.panTo(l,!0),this.zoomTo(h,null,!0),a&&this.applyConstraints(!0),this;var d=this.getCenter(!0),f=this.getZoom(!0);this.panTo(d,!0),this.zoomTo(f,null,!0);var v=this.getBounds(),w=this.getZoom();if(w===0||Math.abs(h/w-1)<1e-8)return this.zoomTo(h,null,!0),this.panTo(l,s),a&&this.applyConstraints(!1),this;if(a){this.panTo(l,!1),this.zoomTo(h,null,!1);var x=this.getConstrainedBounds();this.panTo(d,!0),this.zoomTo(f,null,!0),this.fitBounds(x)}else{var b=c.rotate(-this.getRotation()),_=b.getTopLeft().times(h).minus(v.getTopLeft().times(w)).divide(h-w);this.zoomTo(h,_,s)}return this},fitBounds:function(t,r){return this._fitBounds(t,{immediately:r,constraints:!1})},fitBoundsWithConstraints:function(t,r){return this._fitBounds(t,{immediately:r,constraints:!0})},fitVertically:function(t){var r=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,t)},fitHorizontally:function(t){var r=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,t)},getConstrainedBounds:function(t){var r,s;return r=this.getBounds(t),s=this._applyBoundaryConstraints(r),s},panBy:function(t,r){var s=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(s.plus(t),r)},panTo:function(t,r){return r?(this.centerSpringX.resetTo(t.x),this.centerSpringY.resetTo(t.y)):(this.centerSpringX.springTo(t.x),this.centerSpringY.springTo(t.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:t,immediately:r}),this},zoomBy:function(t,r,s){return this.zoomTo(this.zoomSpring.target.value*t,r,s)},zoomTo:function(t,r,s){var a=this;return this.zoomPoint=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,s?this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:r,immediately:s}),this},setRotation:function(t,r){return this.rotateTo(t,null,r)},getRotation:function(t){return t?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(t,r,s){return this.rotateTo(t,r,s)},rotateTo:function(t,r,s){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===t&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,s)if(this.rotationPivot){var a=t-this._oldDegrees;if(!a)return this.rotationPivot=null,this;this._rotateAboutPivot(t)}else this.degreesSpring.resetTo(t);else{var o=e.positiveModulo(this.degreesSpring.current.value,360),l=e.positiveModulo(t,360),c=l-o;c>180?l-=360:c<-180&&(l+=360);var h=o-l;this.degreesSpring.resetTo(t+h),this.degreesSpring.springTo(t)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t,immediately:!!s,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(t,r,s){return this.rotateTo(this.degreesSpring.target.value+t,r,s)},resize:function(t,r){var s=this.getBoundsNoRotate(),a=s,o;return this.containerSize.x=t.x,this.containerSize.y=t.y,this._updateContainerInnerSize(),r&&(o=t.x/this.containerSize.x,a.width=s.width*o,a.height=a.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:t,maintain:r}),this.fitBounds(a,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var t=this;this._adjustCenterSpringsForZoomPoint(function(){t.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,r},_rotateAboutPivot:function(t){var r=t===!0,s=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(s.x),this.centerSpringY.shiftBy(s.y),r?this.degreesSpring.update():this.degreesSpring.resetTo(t);var a=this.degreesSpring.current.value-this._oldDegrees,o=s.rotate(a*-1).times(-1);this.centerSpringX.shiftBy(o.x),this.centerSpringY.shiftBy(o.y)},_adjustCenterSpringsForZoomPoint:function(t){if(this.zoomPoint){var r=this.pixelFromPoint(this.zoomPoint,!0);t();var s=this.pixelFromPoint(this.zoomPoint,!0),a=s.minus(r),o=this.deltaPointsFromPixels(a,!0);this.centerSpringX.shiftBy(o.x),this.centerSpringY.shiftBy(o.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else t()},deltaPixelsFromPointsNoRotate:function(t,r){return t.times(this._containerInnerSize.x*this.getZoom(r))},deltaPixelsFromPoints:function(t,r){return this.deltaPixelsFromPointsNoRotate(t.rotate(this.getRotation(r)),r)},deltaPointsFromPixelsNoRotate:function(t,r){return t.divide(this._containerInnerSize.x*this.getZoom(r))},deltaPointsFromPixels:function(t,r){return this.deltaPointsFromPixelsNoRotate(t,r).rotate(-this.getRotation(r))},pixelFromPointNoRotate:function(t,r){return this._pixelFromPointNoRotate(t,this.getBoundsNoRotate(r))},pixelFromPoint:function(t,r){return this._pixelFromPoint(t,this.getBoundsNoRotate(r))},_pixelFromPointNoRotate:function(t,r){return t.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(t,r){return this._pixelFromPointNoRotate(t.rotate(this.getRotation(!0),this.getCenter(!0)),r)},pointFromPixelNoRotate:function(t,r){var s=this.getBoundsNoRotate(r);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/s.width).plus(s.getTopLeft())},pointFromPixel:function(t,r){return this.pointFromPixelNoRotate(t,r).rotate(-this.getRotation(r),this.getCenter(r))},_viewportToImageDelta:function(t,r){var s=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/s,r*this._contentSizeNoRotate.x/s)},viewportToImageCoordinates:function(t,r){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(s===1){var a=this.viewer.world.getItemAt(0);return a.viewportToImageCoordinates(t,r,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,r){var s=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*s,r/this._contentSizeNoRotate.x*s)},imageToViewportCoordinates:function(t,r){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(s===1){var a=this.viewer.world.getItemAt(0);return a.imageToViewportCoordinates(t,r,!0)}}var o=this._imageToViewportDelta(t,r);return o.x+=this._contentBoundsNoRotate.x,o.y+=this._contentBoundsNoRotate.y,o},imageToViewportRectangle:function(t,r,s,a){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,r,s,a)),this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(l===1){var c=this.viewer.world.getItemAt(0);return c.imageToViewportRectangle(t,r,s,a,!0)}}var h=this.imageToViewportCoordinates(o.x,o.y),d=this._imageToViewportDelta(o.width,o.height);return new e.Rect(h.x,h.y,d.x,d.y,o.degrees)},viewportToImageRectangle:function(t,r,s,a){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,r,s,a)),this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(l===1){var c=this.viewer.world.getItemAt(0);return c.viewportToImageRectangle(t,r,s,a,!0)}}var h=this.viewportToImageCoordinates(o.x,o.y),d=this._viewportToImageDelta(o.width,o.height);return new e.Rect(h.x,h.y,d.x,d.y,o.degrees)},viewerElementToImageCoordinates:function(t){var r=this.pointFromPixel(t,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(t){var r=this.imageToViewportCoordinates(t);return this.pixelFromPoint(r,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(t);return r.plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(t){return this.pointFromPixel(t,!0)},viewportToViewerElementCoordinates:function(t){return this.pixelFromPoint(t,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(t);return r.plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(r===1){var s=this.viewer.world.getItemAt(0);return s.viewportToImageZoom(t)}}var a=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,l=this._contentBoundsNoRotate.width,c=o/a*l;return t*c},imageToViewportZoom:function(t){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(r===1){var s=this.viewer.world.getItemAt(0);return s.imageToViewportZoom(t)}}var a=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,l=this._contentBoundsNoRotate.width,c=a/o/l;return t*c},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(t){return this.flipped===t?this:(this.flipped=t,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:t}),this)}}}(i),function(e){e.TiledImage=function(o){var l=this;e.console.assert(o.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(o.drawer,"[TiledImage] options.drawer is required"),e.console.assert(o.viewer,"[TiledImage] options.viewer is required"),e.console.assert(o.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(o.source,"[TiledImage] options.source is required"),e.console.assert(!o.clip||o.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=o.tileCache,delete o.tileCache,this._drawer=o.drawer,delete o.drawer,this._imageLoader=o.imageLoader,delete o.imageLoader,o.clip instanceof e.Rect&&(this._clip=o.clip.clone()),delete o.clip;var c=o.x||0;delete o.x;var h=o.y||0;delete o.y,this.normHeight=o.source.dimensions.y/o.source.dimensions.x,this.contentAspectX=o.source.dimensions.x/o.source.dimensions.y;var d=1;o.width?(d=o.width,delete o.width,o.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete o.height)):o.height&&(d=o.height/this.normHeight,delete o.height);var f=o.fitBounds;delete o.fitBounds;var v=o.fitBoundsPlacement||i.Placement.CENTER;delete o.fitBoundsPlacement;var w=o.degrees||0;delete o.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency},o),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:h,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:d,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:w,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),f&&this.fitBounds(f,v,!0),this._drawingHandler=function(x){l.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:l},x))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(o){o!==this._fullyLoaded&&(this._fullyLoaded=o,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var o=this._xSpring.update(),l=this._ySpring.update(),c=this._scaleSpring.update(),h=this._degreesSpring.update();return o||l||c||h?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(this.getRotation(o),this._getRotationPoint(o))},getBoundsNoRotate:function(o){return o?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(o){var l=this.getBoundsNoRotate(o);if(this._clip){var c=o?this._worldWidthCurrent:this._worldWidthTarget,h=c/this.source.dimensions.x,d=this._clip.times(h);l=new e.Rect(l.x+d.x,l.y+d.y,d.width,d.height)}return l.rotate(this.getRotation(o),this._getRotationPoint(o))},getTileBounds:function(o,l,c){var h=this.source.getNumTiles(o),d=(h.x+l%h.x)%h.x,f=(h.y+c%h.y)%h.y,v=this.source.getTileBounds(o,d,f);return this.getFlip()&&(v.x=1-v.x-v.width),v.x+=(l-d)/h.x,v.y+=this._worldHeightCurrent/this._worldWidthCurrent*((c-f)/h.y),v},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var o=this.imageToWindowCoordinates(new e.Point(0,0)),l=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(l.x-o.x,l.y-o.y)},_viewportToImageDelta:function(o,l,c){var h=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(o*(this.source.dimensions.x/h),l*(this.source.dimensions.y*this.contentAspectX/h))},viewportToImageCoordinates:function(o,l,c){var h;return o instanceof e.Point?(c=l,h=o):h=new e.Point(o,l),h=h.rotate(-this.getRotation(c),this._getRotationPoint(c)),c?this._viewportToImageDelta(h.x-this._xSpring.current.value,h.y-this._ySpring.current.value):this._viewportToImageDelta(h.x-this._xSpring.target.value,h.y-this._ySpring.target.value)},_imageToViewportDelta:function(o,l,c){var h=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(o/this.source.dimensions.x*h,l/this.source.dimensions.y/this.contentAspectX*h)},imageToViewportCoordinates:function(o,l,c){o instanceof e.Point&&(c=l,l=o.y,o=o.x);var h=this._imageToViewportDelta(o,l);return c?(h.x+=this._xSpring.current.value,h.y+=this._ySpring.current.value):(h.x+=this._xSpring.target.value,h.y+=this._ySpring.target.value),h.rotate(this.getRotation(c),this._getRotationPoint(c))},imageToViewportRectangle:function(o,l,c,h,d){var f=o;f instanceof e.Rect?d=l:f=new e.Rect(o,l,c,h);var v=this.imageToViewportCoordinates(f.getTopLeft(),d),w=this._imageToViewportDelta(f.width,f.height,d);return new e.Rect(v.x,v.y,w.x,w.y,f.degrees+this.getRotation(d))},viewportToImageRectangle:function(o,l,c,h,d){var f=o;o instanceof e.Rect?d=l:f=new e.Rect(o,l,c,h);var v=this.viewportToImageCoordinates(f.getTopLeft(),d),w=this._viewportToImageDelta(f.width,f.height,d);return new e.Rect(v.x,v.y,w.x,w.y,f.degrees-this.getRotation(d))},viewerElementToImageCoordinates:function(o){var l=this.viewport.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.viewport.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){var l=o.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){var l=this.imageToViewerElementCoordinates(o);return l.plus(i.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(o){var l=this._scaleSpring.current.value;return o=o.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((o.x-this._xSpring.current.value)/l,(o.y-this._ySpring.current.value)/l,o.width/l,o.height/l,o.degrees)},viewportToImageZoom:function(o){var l=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return l*o},imageToViewportZoom:function(o){var l=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return o/l},setPosition:function(o,l){var c=this._xSpring.target.value===o.x&&this._ySpring.target.value===o.y;if(l){if(c&&this._xSpring.current.value===o.x&&this._ySpring.current.value===o.y)return;this._xSpring.resetTo(o.x),this._ySpring.resetTo(o.y),this._needsDraw=!0}else{if(c)return;this._xSpring.springTo(o.x),this._ySpring.springTo(o.y),this._needsDraw=!0}c||this._raiseBoundsChange()},setWidth:function(o,l){this._setScale(o,l)},setHeight:function(o,l){this._setScale(o/this.normHeight,l)},setCroppingPolygons:function(o){var l=function(h){return h instanceof e.Point||typeof h.x=="number"&&typeof h.y=="number"},c=function(h){return h.map(function(d){try{if(l(d))return{x:d.x,y:d.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!e.isArray(o))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=o.map(function(h){return c(h)})}catch(h){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(h),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(o,l,c){l=l||e.Placement.CENTER;var h=e.Placement.properties[l],d=this.contentAspectX,f=0,v=0,w=1,x=1;if(this._clip&&(d=this._clip.getAspectRatio(),w=this._clip.width/this.source.dimensions.x,x=this._clip.height/this.source.dimensions.y,o.getAspectRatio()>d?(f=this._clip.x/this._clip.height*o.height,v=this._clip.y/this._clip.height*o.height):(f=this._clip.x/this._clip.width*o.width,v=this._clip.y/this._clip.width*o.width)),o.getAspectRatio()>d){var b=o.height/x,_=0;h.isHorizontallyCentered?_=(o.width-o.height*d)/2:h.isRight&&(_=o.width-o.height*d),this.setPosition(new e.Point(o.x-f+_,o.y-v),c),this.setHeight(b,c)}else{var A=o.width/w,D=0;h.isVerticallyCentered?D=(o.height-o.width/d)/2:h.isBottom&&(D=o.height-o.width/d),this.setPosition(new e.Point(o.x-f,o.y-v+D),c),this.setWidth(A,c)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(o){e.console.assert(!o||o instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),o instanceof e.Rect?this._clip=o.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(o){this.flipped=!!o,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(o){o!==this.opacity&&(this.opacity=o,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(o){this._preload=!!o,this._needsDraw=!0},getRotation:function(o){return o?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(o,l){this._degreesSpring.target.value===o&&this._degreesSpring.isAtTargetValue()||(l?this._degreesSpring.resetTo(o):this._degreesSpring.springTo(o),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(o){return this.getBoundsNoRotate(o).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(o){o!==this.compositeOperation&&(this.compositeOperation=o,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(o,l){var c=this._scaleSpring.target.value===o;if(l){if(c&&this._scaleSpring.current.value===o)return;this._scaleSpring.resetTo(o),this._updateForScale(),this._needsDraw=!0}else{if(c)return;this._scaleSpring.springTo(o),this._updateForScale(),this._needsDraw=!0}c||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var o=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),l=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,c=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(l/this.minPixelRatio)/Math.log(2))));return c=Math.max(c,this.source.minLevel||0),o=Math.min(o,c),{lowestLevel:o,highestLevel:c}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var o=this.lastDrawn.pop();o.beingDrawn=!1}var l=this.viewport,c=this._viewportToTiledImageRectangle(l.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var h=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(c=c.intersection(h),c===null)return}for(var d=this._getLevelsInterval(),f=d.lowestLevel,v=d.highestLevel,w=null,x=!1,b=e.now(),_=v;_>=f;_--){var A=!1,D=l.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(_),!0).x*this._scaleSpring.current.value;if(_===f||!x&&D>=this.minPixelRatio)A=!0,x=!0;else if(!x)continue;var I=l.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(_),!1).x*this._scaleSpring.current.value,W=l.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,q=this.immediateRender?1:W,Y=Math.min(1,(D-.5)/.5),X=q/Math.abs(q-I);if(w=this._updateLevel(x,A,_,Y,X,c,b,w),this._providesCoverage(this.coverage,_))break}this._drawTiles(this.lastDrawn),w&&!w.context2D?(this._loadTile(w,b),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(o,l,c){var h,d;this.wrapHorizontal?(h=e.positiveModulo(l.x,1),d=e.positiveModulo(c.x,1)):(h=Math.max(0,l.x),d=Math.min(1,c.x));var f,v,w=1/this.source.aspectRatio;this.wrapVertical?(f=e.positiveModulo(l.y,w),v=e.positiveModulo(c.y,w)):(f=Math.max(0,l.y),v=Math.min(w,c.y));var x=this.source.getTileAtPoint(o,new e.Point(h,f)),b=this.source.getTileAtPoint(o,new e.Point(d,v)),_=this.source.getNumTiles(o);return this.wrapHorizontal&&(x.x+=_.x*Math.floor(l.x),b.x+=_.x*Math.floor(c.x)),this.wrapVertical&&(x.y+=_.y*Math.floor(l.y/w),b.y+=_.y*Math.floor(c.y/w)),{topLeft:x,bottomRight:b}},_updateLevel:function(o,l,c,h,d,f,v,w){var x=f.getBoundingBox().getTopLeft(),b=f.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:o,level:c,opacity:h,visibility:d,drawArea:f,topleft:x,bottomright:b,currenttime:v,best:w}),this._resetCoverage(this.coverage,c),this._resetCoverage(this.loadingCoverage,c);var _=this._getCornerTiles(c,x,b),A=_.topLeft,D=_.bottomRight,I=this.source.getNumTiles(c),W=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(D.x+=1,this.wrapHorizontal||(D.x=Math.min(D.x,I.x-1)));for(var q=A.x;q<=D.x;q++)for(var Y=A.y;Y<=D.y;Y++){var X;if(this.getFlip()){var Q=(I.x+q%I.x)%I.x;X=q+I.x-Q-Q-1}else X=q;f.intersection(this.getTileBounds(c,X,Y))!==null&&(w=this._updateTile(l,o,X,Y,c,h,d,W,I,v,w))}return w},_updateTile:function(o,l,c,h,d,f,v,w,x,b,_){var A=this._getTile(c,h,d,b,x,this._worldWidthCurrent,this._worldHeightCurrent),D=l;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:A}),this._setCoverage(this.coverage,d,c,h,!1);var I=A.loaded||A.loading||this._isCovered(this.loadingCoverage,d,c,h);if(this._setCoverage(this.loadingCoverage,d,c,h,I),!A.exists||(o&&!D&&(this._isCovered(this.coverage,d,c,h)?this._setCoverage(this.coverage,d,c,h,!0):D=!0),!D))return _;if(this._positionTile(A,this.source.tileOverlap,this.viewport,w,v),!A.loaded)if(A.context2D)this._setTileLoaded(A);else{var W=this._tileCache.getImageRecord(A.cacheKey);W&&this._setTileLoaded(A,W.getData())}if(A.loaded){var q=this._blendTile(A,c,h,d,f,b);q&&(this._needsDraw=!0)}else A.loading?this._tilesLoading++:I||(_=this._compareTiles(_,A));return _},_getTile:function(o,l,c,h,d,f,v){var w,x,b,_,A,D,I,W,q,Y,X=this.tilesMatrix,Q=this.source;return X[c]||(X[c]={}),X[c][o]||(X[c][o]={}),(!X[c][o][l]||!X[c][o][l].flipped!=!this.flipped)&&(w=(d.x+o%d.x)%d.x,x=(d.y+l%d.y)%d.y,b=this.getTileBounds(c,o,l),_=Q.getTileBounds(c,w,x,!0),A=Q.tileExists(c,w,x),D=Q.getTileUrl(c,w,x),I=Q.getTilePostData(c,w,x),this.loadTilesWithAjax?(W=Q.getTileAjaxHeaders(c,w,x),e.isPlainObject(this.ajaxHeaders)&&(W=e.extend({},this.ajaxHeaders,W))):W=null,q=Q.getContext2D?Q.getContext2D(c,w,x):void 0,Y=new e.Tile(c,o,l,b,A,D,q,this.loadTilesWithAjax,W,_,I,Q.getTileHashKey(c,w,x,D,W,I)),this.getFlip()?w===0&&(Y.isRightMost=!0):w===d.x-1&&(Y.isRightMost=!0),x===d.y-1&&(Y.isBottomMost=!0),Y.flipped=this.flipped,X[c][o][l]=Y),Y=X[c][o][l],Y.lastTouchTime=h,Y},_loadTile:function(o,l){var c=this;o.loading=!0,this._imageLoader.addJob({src:o.getUrl(),tile:o,source:this.source,postData:o.postData,loadWithAjax:o.loadWithAjax,ajaxHeaders:o.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(h,d,f){c._onTileLoad(o,l,h,d,f)},abort:function(){o.loading=!1}})},_onTileLoad:function(o,l,c,h,d){if(!c){e.console.error("Tile %s failed to load: %s - error: %s",o,o.getUrl(),h),this.viewer.raiseEvent("tile-load-failed",{tile:o,tiledImage:this,time:l,message:h,tileRequest:d}),o.loading=!1,o.exists=!1;return}if(l<this.lastResetTime){e.console.warn("Ignoring tile %s loaded before reset: %s",o,o.getUrl()),o.loading=!1;return}var f=this,v=function(){var w=f.source,x=w.getClosestLevel();f._setTileLoaded(o,c,x,d)};this._midDraw?window.setTimeout(v,1):v()},_setTileLoaded:function(o,l,c,h){var d=0,f=this;function v(){return d++,w}function w(){d--,d===0&&(o.loading=!1,o.loaded=!0,o.hasTransparency=f.source.hasTransparency(o.context2D,o.getUrl(),o.ajaxHeaders,o.postData),o.context2D||f._tileCache.cacheTile({data:l,tile:o,cutoff:c,tiledImage:f}),f._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:o,tiledImage:this,tileRequest:h,get image(){return e.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),l},data:l,getCompletionCallback:v}),v()()},_positionTile:function(o,l,c,h,d){var f=o.bounds.getTopLeft();f.x*=this._scaleSpring.current.value,f.y*=this._scaleSpring.current.value,f.x+=this._xSpring.current.value,f.y+=this._ySpring.current.value;var v=o.bounds.getSize();v.x*=this._scaleSpring.current.value,v.y*=this._scaleSpring.current.value;var w=c.pixelFromPointNoRotate(f,!0),x=c.pixelFromPointNoRotate(f,!1),b=c.deltaPixelsFromPointsNoRotate(v,!0),_=c.deltaPixelsFromPointsNoRotate(v,!1),A=x.plus(_.divide(2)),D=h.squaredDistanceTo(A);l||(b=b.plus(new e.Point(1,1))),o.isRightMost&&this.wrapHorizontal&&(b.x+=.75),o.isBottomMost&&this.wrapVertical&&(b.y+=.75),o.position=w,o.size=b,o.squaredDistance=D,o.visibility=d},_blendTile:function(o,l,c,h,d,f){var v=1e3*this.blendTime,w,x;if(o.blendStart||(o.blendStart=f),w=f-o.blendStart,x=v?Math.min(1,w/v):1,this.alwaysBlend&&(x*=d),o.opacity=x,this.lastDrawn.push(o),x===1)this._setCoverage(this.coverage,h,l,c,!0),this._hasOpaqueTile=!0;else if(w<v)return!0;return!1},_compareTiles:function(o,l){return!o||l.visibility>o.visibility||l.visibility===o.visibility&&l.squaredDistance<o.squaredDistance?l:o},_drawTiles:function(o){if(!(this.opacity===0||o.length===0&&!this.placeholderFillStyle)){var l=o[0],c;l&&(c=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(l.context2D,l.getUrl(),l.ajaxHeaders,l.postData));var h,d,f=this.viewport.getZoom(!0),v=this.viewportToImageZoom(f);o.length>1&&v>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&e.supportsCanvas&&this.viewer.useCanvas&&(c=!0,h=l.getScaleForEdgeSmoothing(),d=l.getTranslationForEdgeSmoothing(h,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var w;c&&(h||(w=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(w.x=this._drawer.viewer.container.clientWidth-(w.x+w.width)),w=w.times(e.pixelDensityRatio)),this._drawer._clear(!0,w)),h||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:c}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:c}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var x=!1;if(this._clip){this._drawer.saveContext(c);var b=this.imageToViewportRectangle(this._clip,!0);b=b.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var _=this._drawer.viewportToDrawerRectangle(b);h&&(_=_.times(h)),d&&(_=_.translate(d)),this._drawer.setClip(_,c),x=!0}if(this._croppingPolygons){var A=this;this._drawer.saveContext(c);try{var D=this._croppingPolygons.map(function(ne){return ne.map(function(oe){var ue=A.imageToViewportCoordinates(oe.x,oe.y,!0).rotate(-A.getRotation(!0),A._getRotationPoint(!0)),de=A._drawer.viewportCoordToDrawerCoord(ue);return h&&(de=de.times(h)),de})});this._drawer.clipWithPolygons(D,c)}catch(ne){e.console.error(ne)}x=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var I=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));h&&(I=I.times(h)),d&&(I=I.translate(d));var W=null;typeof this.placeholderFillStyle=="function"?W=this.placeholderFillStyle(this,this._drawer.context):W=this.placeholderFillStyle,this._drawer.drawRectangle(I,W,c)}var q=a(this.subPixelRoundingForTransparency),Y=!1;if(q===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)Y=!0;else if(q===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var X=this.viewer&&this.viewer.isAnimating();Y=!X}for(var Q=o.length-1;Q>=0;Q--)l=o[Q],this._drawer.drawTile(l,this._drawingHandler,c,h,d,Y,this.source),l.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:l});x&&this._drawer.restoreContext(c),h||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(c),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(c)),c&&(h&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:h,translate:d,compositeOperation:this.compositeOperation,bounds:w}),h&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),h||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(o)}},_drawDebugInfo:function(o){if(this.debugMode)for(var l=o.length-1;l>=0;l--){var c=o[l];try{this._drawer.drawDebugInfo(c,o.length,l,this)}catch(h){e.console.error(h)}}},_providesCoverage:function(o,l,c,h){var d,f,v,w;if(!o[l])return!1;if(c===void 0||h===void 0){d=o[l];for(v in d)if(Object.prototype.hasOwnProperty.call(d,v)){f=d[v];for(w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&!f[w])return!1}return!0}return o[l][c]===void 0||o[l][c][h]===void 0||o[l][c][h]===!0},_isCovered:function(o,l,c,h){return c===void 0||h===void 0?this._providesCoverage(o,l+1):this._providesCoverage(o,l+1,2*c,2*h)&&this._providesCoverage(o,l+1,2*c,2*h+1)&&this._providesCoverage(o,l+1,2*c+1,2*h)&&this._providesCoverage(o,l+1,2*c+1,2*h+1)},_setCoverage:function(o,l,c,h,d){if(!o[l]){e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",l);return}o[l][c]||(o[l][c]={}),o[l][c][h]=d},_resetCoverage:function(o,l){o[l]={}}});var t=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function r(o){return o!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&o!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&o!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function s(o){return r(o)?t:o}function a(o){if(typeof o=="number")return s(o);if(!o||!e.Browser)return t;var l=o[e.Browser.vendor];return r(l)&&(l=o["*"]),s(l)}}(i),function(e){var t=function(s){e.console.assert(s,"[TileCache.cacheTile] options is required"),e.console.assert(s.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(s.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=s.tile,this.tiledImage=s.tiledImage},r=function(s){e.console.assert(s,"[ImageRecord] options is required"),e.console.assert(s.data,"[ImageRecord] options.data is required"),this._tiles=[],s.create.apply(null,[this,s.data,s.ownerTile]),this._destroyImplementation=s.destroy.bind(null,this),this.getImage=s.getImage.bind(null,this),this.getData=s.getData.bind(null,this),this.getRenderedContext=s.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(s){e.console.assert(s,"[ImageRecord.addTile] tile is required"),this._tiles.push(s)},removeTile:function(s){for(var a=0;a<this._tiles.length;a++)if(this._tiles[a]===s){this._tiles.splice(a,1);return}e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",s)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(s){s=s||{},this._maxImageCacheCount=s.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(s){e.console.assert(s,"[TileCache.cacheTile] options is required"),e.console.assert(s.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(s.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(s.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var a=s.cutoff||0,o=this._tilesLoaded.length,l=this._imagesLoaded[s.tile.cacheKey];if(l||(s.data||(e.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),s.data=s.image),e.console.assert(s.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),l=this._imagesLoaded[s.tile.cacheKey]=new r({data:s.data,ownerTile:s.tile,create:s.tiledImage.source.createTileCache,destroy:s.tiledImage.source.destroyTileCache,getImage:s.tiledImage.source.getTileCacheDataAsImage,getData:s.tiledImage.source.getTileCacheData,getRenderedContext:s.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),l.addTile(s.tile),s.tile.cacheImageRecord=l,this._imagesLoadedCount>this._maxImageCacheCount){for(var c=null,h=-1,d=null,f,v,w,x,b,_,A=this._tilesLoaded.length-1;A>=0;A--)if(_=this._tilesLoaded[A],f=_.tile,!(f.level<=a||f.beingDrawn)){if(!c){c=f,h=A,d=_;continue}x=f.lastTouchTime,v=c.lastTouchTime,b=f.level,w=c.level,(x<v||x===v&&b>w)&&(c=f,h=A,d=_)}c&&h>=0&&(this._unloadTile(d),o=h)}this._tilesLoaded[o]=new t({tile:s.tile,tiledImage:s.tiledImage})},clearTilesFor:function(s){e.console.assert(s,"[TileCache.clearTilesFor] tiledImage is required");for(var a,o=0;o<this._tilesLoaded.length;++o)a=this._tilesLoaded[o],a.tiledImage===s&&(this._unloadTile(a),this._tilesLoaded.splice(o,1),o--)},getImageRecord:function(s){return e.console.assert(s,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[s]},_unloadTile:function(s){e.console.assert(s,"[TileCache._unloadTile] tileRecord is required");var a=s.tile,o=s.tiledImage;a.unload(),a.cacheImageRecord=null;var l=this._imagesLoaded[a.cacheKey];l.removeTile(a),l.getTileCount()||(l.destroy(),delete this._imagesLoaded[a.cacheKey],this._imagesLoadedCount--),o.viewer.raiseEvent("tile-unloaded",{tile:a,tiledImage:o})}}}(i),function(e){e.World=function(t){var r=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(s){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,r){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},r.index!==void 0){var s=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(s,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(t!==void 0,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,r){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(r!==void 0,"[World.setItemIndex] index is required");var s=this.getIndexOfItem(t);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r===s||s===-1||(this._items.splice(s,1),this._items.splice(r,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:s,newIndex:r}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var r=e.indexOf(this._items,t);r!==-1&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){this.viewer._cancelPendingImages();var t,r;for(r=0;r<this._items.length;r++)t=this._items[r],t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy();var s=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,r=0;r<s.length;r++)t=s[r],this._raiseRemoveItem(t)},resetItems:function(){for(var t=0;t<this._items.length;t++)this._items[t].reset()},update:function(){for(var t=!1,r=0;r<this._items.length;r++)t=this._items[r].update()||t;return t},draw:function(){for(var t=0;t<this._items.length;t++)this._items[t].draw();this._needsDraw=!1},needsDraw:function(){for(var t=0;t<this._items.length;t++)if(this._items[t].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(t){this._autoRefigureSizes=t,t&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){t=t||{};var r=t.immediately||!1,s=t.layout||e.DEFAULT_SETTINGS.collectionLayout,a=t.rows||e.DEFAULT_SETTINGS.collectionRows,o=t.columns||e.DEFAULT_SETTINGS.collectionColumns,l=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,c=t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,h=l+c,d;!t.rows&&o?d=o:d=Math.ceil(this._items.length/a);var f=0,v=0,w,x,b,_,A;this.setAutoRefigureSizes(!1);for(var D=0;D<this._items.length;D++)D&&D%d===0&&(s==="horizontal"?(v+=h,f=0):(f+=h,v=0)),w=this._items[D],x=w.getBounds(),x.width>x.height?b=l:b=l*(x.width/x.height),_=b*(x.height/x.width),A=new e.Point(f+(l-b)/2,v+(l-_)/2),w.setPosition(A,r),w.setWidth(b,r),s==="horizontal"?f+=h:v+=h;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,s=this._contentFactor||0;if(!this._items.length)this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;else{var a=this._items[0],o=a.getBounds();this._contentFactor=a.getContentSize().x/o.width;for(var l=a.getClippedBounds().getBoundingBox(),c=l.x,h=l.y,d=l.x+l.width,f=l.y+l.height,v=1;v<this._items.length;v++)a=this._items[v],o=a.getBounds(),this._contentFactor=Math.max(this._contentFactor,a.getContentSize().x/o.width),l=a.getClippedBounds().getBoundingBox(),c=Math.min(c,l.x),h=Math.min(h,l.y),d=Math.max(d,l.x+l.width),f=Math.max(f,l.y+l.height);this._homeBounds=new e.Rect(c,h,d-c,f-h),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==s||!this._homeBounds.equals(t)||!this._contentSize.equals(r))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(t){this.raiseEvent("remove-item",{item:t})}})}(i)})(Fa);var Qd=Fa.exports;const $d=Jd(Qd),ef=["aria-label","alt"],tf={key:1,class:"group relative h-10 p-2"},rf=["innerHTML"],nf=["innerHTML"],sf=Pt({__name:"Image.ce",props:{src:{type:String,required:!0},width:{type:Number},height:{type:Number},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},cover:{type:Boolean,default:!1},fit:{type:String,default:"contain"},caption:{type:String},noCaption:{type:Boolean,default:!1}},setup(n){const i=n,e=Re(null),t=Re(null),r=Ee(()=>{var H,M;return(M=(H=e.value)==null?void 0:H.getRootNode())==null?void 0:M.host}),s=Ee(()=>{var H;return(H=e==null?void 0:e.value)==null?void 0:H.parentNode}),a=Re();Ue(a,()=>{Q()});const o=Re(),l=Ee(()=>{var H,M;return Number(((((H=o.value)==null?void 0:H.width)||1)/(((M=o.value)==null?void 0:M.height)||1)).toFixed(4))});Ue(l,()=>{Q(),t.value&&ne()}),Ue(t,()=>{var H;t.value&&(i.width?((H=e.value)==null||H.setAttribute("style",`width: ${i.width}px;margin: auto`),a.value=i.width):new ResizeObserver(()=>{var M;a.value=(M=t.value)==null?void 0:M.clientWidth}).observe(t.value),o.value&&ne())}),Ue(i,()=>{b()});const c=Re(),h=Re(),d=Re();Ue(d,()=>{D(d.value)});function f(H){if(/upload\.wikimedia\.org/.test(H)){let M=H.split("/"),G=M[5]==="thumb"?M[8]:M[7];d.value=`https://iiif.juncture-digital.org/wc:${G.replace(/ /g,"_")}/manifest.json`}else d.value=/^http/.test(H)?H:/^\w+:/.test(H)?`https://iiif.juncture-digital.org/${H.replace(/ /g,"_")}/manifest.json`:H}const v=Re(),w=Ee(()=>{var H,M,G;return i.caption||v.value&&((G=(M=(H=v.value)==null?void 0:H.label)==null?void 0:M.en)==null?void 0:G[0])}),x=Re();function b(){f(i.src)}Ht(()=>{b(),oe()});async function _(H){var G;return H.indexOf("manifest.json")>0?!0:((G=(await fetch(H,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:G.indexOf("image"))===-1}async function A(H){let M=await fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(H)});if(M.ok)return(await M).json()}async function D(H){if(await _(H)){let M=await q(H),G=I({type:"Annotation",motivation:"painting"},M).body;o.value={width:G.width,height:G.height},h.value=G.service?`${G.service[0].id||G.service[0]["@id"]}/info.json`:{url:G.id,type:"image",buildPyramid:!0}}else Y(H).then(M=>{o.value=M}),h.value={url:H,type:"image",buildPyramid:!0}}function I(H,M,G=1){const re=W(H,M);return re.length>=G?re[G-1]:null}function W(H,M,G=[]){if(G=G||[],M.items)for(let re=0;re<M.items.length;re++){let fe=M.items[re];!Object.entries(H).find(([be,Pe])=>fe[be]&&fe[be]!==Pe)?G.push(fe):W(H,fe,G)}return G}async function q(H){let M=await fetch(H);if(M.ok){let G=await M.json();return v.value=parseFloat(G["@context"].split("/").slice(-2,-1).pop())<3?await A(v):G,v.value}}async function Y(H){return new Promise((M,G)=>{let re=new Image;re.onload=()=>M({width:re.width,height:re.height}),re.onerror=()=>G(),re.src=H})}function X(){var H,M,G;if((H=t.value)!=null&&H.clientWidth){let re=i.height||Number(((M=t.value)==null?void 0:M.clientWidth)/l.value).toFixed(0);(G=t.value)==null||G.setAttribute("style",`height: ${re}px;`)}}function Q(){setTimeout(()=>{var H,M;return(M=(H=c.value)==null?void 0:H.viewport)==null?void 0:M.goHome(!0)},100)}function ne(){if(!t.value)return;let H=s.value.querySelector("#osd");X();const M={element:H,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:h.value,homeFillsViewer:i.cover||i.fit==="cover",maxZoomPixelRatio:10};c.value=$d(M),c.value.addHandler("viewport-change",()=>le()),setTimeout(()=>ae(),500)}function oe(){let H=r.value.parentElement;for(;H.parentElement&&H.tagName!=="MAIN";)H=H.parentElement;Array.from(H.querySelectorAll("a")).forEach(M=>{let G=new URL(M.href),fe=new URLSearchParams(G.search).get("zoom");fe&&(M.classList.add("zoom"),M.href="javascript:void(0)",ue(M)&&M.addEventListener("click",()=>{fe&&_e(fe)}))})}function ue(H){function M(G){let re=G.previousSibling;for(;re;){if(re.nodeName==="EZ-IMAGE")return re===r.value?re:null;re=re.previousSibling}}for(M(H);H.parentElement&&H.tagName!=="BODY";){H=H.parentElement;let G=H.querySelector(":scope > ez-image, :scope > p > ez-image");if(G)return G===r.value?G:null}}let de="";function _e(H){var G,re,fe;H=H.replace(/^zoomto\|/i,"");const M=H==null?void 0:H.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(M){let ye=(G=M==null?void 0:M.groups)==null?void 0:G.region;ye&&(de===ye?((re=c.value)==null||re.viewport.goHome(),de=""):(de=ye,(fe=c.value)==null||fe.viewport.fitBounds(Ae(ye,c.value),!1)))}}function Ae(H,M){let G;const re=H.split(":");let[fe,ye,be,Pe]=re[re.length-1].split(",").map(He=>parseInt(He));const Ce=M.world.getItemAt(0).getContentSize();return re.length===2&&(re[0]==="pct"||re[0]==="percent")&&(fe=Math.round(Ce.x*fe/100),ye=Math.round(Ce.y*ye/100),be=Math.round(Ce.x*be/100),Pe=Math.round(Ce.y*Pe/100)),G=M.viewport.imageToViewportRectangle(fe,ye,be,Pe),G}function ae(){var M,G;const H=(M=c.value)==null?void 0:M.world.getItemAt(0);if(H){let re=(G=c.value)==null?void 0:G.viewport.getBounds();const fe=re?H.viewportToImageRectangle(re):null;x.value=fe?`${Math.ceil(fe.x)},${Math.ceil(fe.y)},${Math.ceil(fe.width)},${Math.ceil(fe.height)}`:""}}let te=null;function le(){te!==null&&(clearTimeout(te),te=null),te=window.setTimeout(()=>ae(),100)}function xe(H){navigator.clipboard&&navigator.clipboard.writeText(H)}return(H,M)=>(lt(),_t("div",{ref_key:"root",ref:e,class:Ar(["rounded overflow-hidden shadow-lg",{"float-left mr-4":n.left,"float-right ml-4":n.right,"w-1/2":n.left||n.right,"w-full":!n.left&&!n.right}])},[h.value?(lt(),_t("div",{key:0,ref_key:"osdEl",ref:t,id:"osd",class:"w-full",role:"img","aria-label":w.value,alt:w.value},null,8,ef)):qr("",!0),h.value&&w.value&&!n.noCaption?(lt(),_t("div",tf,[Be("div",{class:"font-bold text-xl mb-2",innerHTML:w.value},null,8,rf),x.value?(lt(),_t("div",{key:0,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:x.value,onClick:M[0]||(M[0]=G=>xe(x.value||""))},null,8,nf)):qr("",!0)])):qr("",!0)],2))}}),of=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.z-50{z-index:50}.m-2{margin:.5rem}.ml-4{margin-left:1rem}.mt-4{margin-top:1rem}.block{display:block}.table{display:table}.flow-root{display:flow-root}.hidden{display:none}.w-full{width:100%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0{opacity:0}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}
`,af=$t(sf,[["styles",[of]]]),lf=Pt({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(n){return()=>{}}});/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class cf extends Hr{constructor(e){super("[data-hs-overlay]");pe(this,"root");this.root=e,this.openNextOverlay=!1}init(){this.root.addEventListener("click",e=>{const r=e.target.closest(this.selector),s=e.target.closest("[data-hs-overlay-close]"),a=e.target.getAttribute("aria-overlay")==="true";if(s)return this.close(s.closest(".hs-overlay.open"));if(r)return this.toggle(this.root.querySelector(r.getAttribute("data-hs-overlay")));a&&this._onBackdropClick(e.target)}),this.root.addEventListener("keydown",e=>{if(e.keyCode===27){const t=this.root.querySelector(".hs-overlay.open");if(!t)return;setTimeout(()=>{t.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(t)})}})}toggle(e){e&&(e.classList.contains("hidden")?this.open(e):this.close(e))}open(e){if(!e)return;const t=this.root.querySelector(".hs-overlay.open"),r=this.getClassProperty(e,"--body-scroll","false")!=="true";if(t)return this.openNextOverlay=!0,this.close(t).then(()=>{this.open(e),this.openNextOverlay=!1});r&&(this.root.style.overflow="hidden"),this._buildBackdrop(e),this._checkTimer(e),this._autoHide(e),e.classList.remove("hidden"),e.setAttribute("aria-overlay","true"),e.setAttribute("tabindex","-1"),setTimeout(()=>{e.classList.contains("hidden")||(e.classList.add("open"),this._fireEvent("open",e),this._dispatch("open.hs.overlay",e,e),this._focusInput(e))},50)}close(e){return new Promise(t=>{e&&(e.classList.remove("open"),e.removeAttribute("aria-overlay"),e.removeAttribute("tabindex","-1"),this.afterTransition(e,()=>{e.classList.contains("open")||(e.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",e),this._dispatch("close.hs.overlay",e,e),this.root.style.overflow="",t(e))}))})}_autoHide(e){const t=parseInt(this.getClassProperty(e,"--auto-hide","0"));t&&(e.autoHide=setTimeout(()=>{this.close(e)},t))}_checkTimer(e){e.autoHide&&(clearTimeout(e.autoHide),delete e.autoHide)}_onBackdropClick(e){this.getClassProperty(e,"--overlay-backdrop","true")!=="static"&&this.close(e)}_buildBackdrop(e){const t=e.getAttribute("data-hs-overlay-backdrop-container")||!1;let r=document.createElement("div"),s="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const l of e.classList.values())l.startsWith("hs-overlay-backdrop-open:")&&(s+=` ${l}`);const a=this.getClassProperty(e,"--overlay-backdrop","true")!=="static";this.getClassProperty(e,"--overlay-backdrop","true")!=="false"&&(t&&(r=this.root.querySelector(t).cloneNode(!0),r.classList.remove("hidden"),s=r.classList,r.classList=""),a&&r.addEventListener("click",()=>this.close(e),!0),r.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(r),setTimeout(()=>{r.classList=s}))}_destroyBackdrop(){const e=this.root.querySelector("[data-hs-overlay-backdrop-template]");e&&(this.openNextOverlay&&(e.style.transitionDuration=`${parseFloat(window.getComputedStyle(e).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),e.classList.add("opacity-0"),this.afterTransition(e,()=>{e.remove()}))}_focusInput(e){const t=e.querySelector("[autofocus]");t&&t.focus()}}const hf=Nn('<div class="hs-overlay-open:opacity-100 hs-overlay-open:duration-500 opacity-0 transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto"><div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"><div class="flex justify-between items-center py-3 px-4 border-b dark:border-gray-700"><h3 class="font-bold text-gray-800 dark:text-white"> Modal title </h3><button type="button" class="inline-flex flex-shrink-0 justify-center items-center h-8 w-8 rounded-md text-gray-500 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 focus:ring-offset-white transition-all text-sm dark:focus:ring-gray-700 dark:focus:ring-offset-gray-800" data-hs-overlay="#hs-basic-modal"><span class="sr-only">Close</span><svg class="w-3.5 h-3.5" width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z" fill="currentColor"></path></svg></button></div><div class="p-4 overflow-y-auto"><p class="mt-1 text-gray-800 dark:text-gray-400"> This is a wider card with supporting text below as a natural lead-in to additional content. </p></div><div class="flex justify-end items-center gap-x-2 py-3 px-4 border-t dark:border-gray-700"><button type="button" class="py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800" data-hs-overlay="#hs-basic-modal"> Close </button><a class="py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800" href="#"> Save changes </a></div></div></div>',1),uf=[hf],df=Pt({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(n){const i=n,e=Re(null),t=Re(null),r=Ee(()=>{var c,h;return(h=(c=e.value)==null?void 0:c.getRootNode())==null?void 0:h.host}),s=Ee(()=>e==null?void 0:e.value),a=Ee(()=>t==null?void 0:t.value),o=Ee(()=>new cf(s.value));Ue(a,()=>{o.value.init(),a.value.addEventListener("open.hs.overlay",c=>l.value=!0),a.value.addEventListener("close.hs.overlay",c=>l.value=!1)});const l=Re(!1);return Ue(l,c=>{c?(o.value.open(a.value),r.value.setAttribute("open","")):(o.value.close(a.value),r.value.removeAttribute("open"))}),Ue(i,()=>{l.value=i.open}),Ht(()=>{l.value=i.open}),(c,h)=>(lt(),_t("div",{ref_key:"overlayRef",ref:e},[Be("div",{ref_key:"modalRef",ref:t,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 left-0 z-[60] overflow-x-hidden overflow-y-auto"},uf,512)],512))}}),ff=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.z-50{z-index:50}.m-2{margin:.5rem}.ml-4{margin-left:1rem}.mt-4{margin-top:1rem}.block{display:block}.table{display:table}.flow-root{display:flow-root}.hidden{display:none}.w-full{width:100%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0{opacity:0}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}
`,pf=$t(df,[["styles",[ff]]]),gf=["innerHTML","title"],mf=Pt({__name:"Trigger.ce",props:{anno:{type:String},play:{type:String},start:{type:String},zoomto:{type:String}},setup(n){const i=n,e=Re(null),t=Ee(()=>{var o,l;return(l=(o=e.value)==null?void 0:o.getRootNode())==null?void 0:l.host}),r=Ee(()=>{var o;return(o=t.value)==null?void 0:o.textContent}),s=Re();Ue(i,()=>{a()}),Ht(()=>{a()});function a(){s.value=i.anno&&"anno"||i.play&&"play"||i.start&&"play"||i.zoomto&&"zoomto"}return(o,l)=>(lt(),_t("a",{ref_key:"root",ref:e,class:"bg-green-100",href:"javascript:;",innerHTML:r.value,title:`Click to trigger ${s.value} action`},null,8,gf))}}),vf=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.z-50{z-index:50}.m-2{margin:.5rem}.ml-4{margin-left:1rem}.mt-4{margin-top:1rem}.block{display:block}.table{display:table}.flow-root{display:flow-root}.hidden{display:none}.w-full{width:100%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0{opacity:0}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}html{padding:1rem;font-family:sans-serif}ez-header ul,ez-menu ul{display:none}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}
`,wf=$t(mf,[["styles",[vf]]]);function is(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ei=is();function Na(n){ei=n}const Ua=/[&<>"']/,yf=new RegExp(Ua.source,"g"),ja=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bf=new RegExp(ja.source,"g"),xf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mo=n=>xf[n];function Fe(n,i){if(i){if(Ua.test(n))return n.replace(yf,mo)}else if(ja.test(n))return n.replace(bf,mo);return n}const Tf=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Wa(n){return n.replace(Tf,(i,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const _f=/(^|[^\[])\^/g;function we(n,i){n=typeof n=="string"?n:n.source,i=i||"";const e={replace:(t,r)=>(r=typeof r=="object"&&"source"in r?r.source:r,r=r.replace(_f,"$1"),n=n.replace(t,r),e),getRegex:()=>new RegExp(n,i)};return e}const Sf=/[^\w:]/g,Ef=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function vo(n,i,e){if(n){let t;try{t=decodeURIComponent(Wa(e)).replace(Sf,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}i&&!Ef.test(e)&&(e=Rf(i,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const sr={},Pf=/^[^:]+:\/*[^/]*$/,Cf=/^([^:]+:)[\s\S]*$/,kf=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Rf(n,i){sr[" "+n]||(Pf.test(n)?sr[" "+n]=n+"/":sr[" "+n]=fr(n,"/",!0)),n=sr[" "+n];const e=n.indexOf(":")===-1;return i.substring(0,2)==="//"?e?i:n.replace(Cf,"$1")+i:i.charAt(0)==="/"?e?i:n.replace(kf,"$1")+i:n+i}const Tr={exec:()=>null};function wo(n,i){const e=n.replace(/\|/g,(s,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),t=e.split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),i)if(t.length>i)t.splice(i);else for(;t.length<i;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function fr(n,i,e){const t=n.length;if(t===0)return"";let r=0;for(;r<t;){const s=n.charAt(t-r-1);if(s===i&&!e)r++;else if(s!==i&&e)r++;else break}return n.slice(0,t-r)}function Af(n,i){if(n.indexOf(i[1])===-1)return-1;let e=0;for(let t=0;t<n.length;t++)if(n[t]==="\\")t++;else if(n[t]===i[0])e++;else if(n[t]===i[1]&&(e--,e<0))return t;return-1}function Of(n,i){!n||n.silent||(i&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function yo(n,i,e,t){const r=i.href,s=i.title?Fe(i.title):null,a=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){t.state.inLink=!0;const o={type:"link",raw:e,href:r,title:s,text:a,tokens:t.inlineTokens(a)};return t.state.inLink=!1,o}return{type:"image",raw:e,href:r,title:s,text:Fe(a)}}function zf(n,i){const e=n.match(/^(\s+)(?:```)/);if(e===null)return i;const t=e[1];return i.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[a]=s;return a.length>=t.length?r.slice(t.length):r}).join(`
`)}class _r{constructor(i){pe(this,"options");pe(this,"rules");pe(this,"lexer");this.options=i||ei}space(i){const e=this.rules.block.newline.exec(i);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(i){const e=this.rules.block.code.exec(i);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:fr(t,`
`)}}}fences(i){const e=this.rules.block.fences.exec(i);if(e){const t=e[0],r=zf(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:r}}}heading(i){const e=this.rules.block.heading.exec(i);if(e){let t=e[2].trim();if(/#$/.test(t)){const r=fr(t,"#");(this.options.pedantic||!r||/ $/.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(i){const e=this.rules.block.hr.exec(i);if(e)return{type:"hr",raw:e[0]}}blockquote(i){const e=this.rules.block.blockquote.exec(i);if(e){const t=e[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(t);return this.lexer.state.top=r,{type:"blockquote",raw:e[0],tokens:s,text:t}}}list(i){let e=this.rules.block.list.exec(i);if(e){let t=e[1].trim();const r=t.length>1,s={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");const a=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",l="",c=!1;for(;i;){let h=!1;if(!(e=a.exec(i))||this.rules.block.hr.test(i))break;o=e[0],i=i.substring(o.length);let d=e[2].split(`
`,1)[0].replace(/^\t+/,_=>" ".repeat(3*_.length)),f=i.split(`
`,1)[0],v=0;this.options.pedantic?(v=2,l=d.trimLeft()):(v=e[2].search(/[^ ]/),v=v>4?1:v,l=d.slice(v),v+=e[1].length);let w=!1;if(!d&&/^ *$/.test(f)&&(o+=f+`
`,i=i.substring(f.length+1),h=!0),!h){const _=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),A=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),D=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,v-1)}}#`);for(;i;){const W=i.split(`
`,1)[0];if(f=W,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),D.test(f)||I.test(f)||_.test(f)||A.test(i))break;if(f.search(/[^ ]/)>=v||!f.trim())l+=`
`+f.slice(v);else{if(w||d.search(/[^ ]/)>=4||D.test(d)||I.test(d)||A.test(d))break;l+=`
`+f}!w&&!f.trim()&&(w=!0),o+=W+`
`,i=i.substring(W.length+1),d=f.slice(v)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(o)&&(c=!0));let x=null,b;this.options.gfm&&(x=/^\[[ xX]\] /.exec(l),x&&(b=x[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:o,task:!!x,checked:b,loose:!1,text:l,tokens:[]}),s.raw+=o}s.items[s.items.length-1].raw=o.trimRight(),s.items[s.items.length-1].text=l.trimRight(),s.raw=s.raw.trimRight();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){const d=s.items[h].tokens.filter(v=>v.type==="space"),f=d.length>0&&d.some(v=>/\n.*\n/.test(v.raw));s.loose=f}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(i){const e=this.rules.block.html.exec(i);if(e){const t={type:"html",block:!0,raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(e[0]):Fe(e[0]),s=t;s.type="paragraph",s.text=r,s.tokens=this.lexer.inline(r)}return t}}def(i){const e=this.rules.block.def.exec(i);if(e){const t=e[1].toLowerCase().replace(/\s+/g," "),r=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:s}}}table(i){const e=this.rules.block.table.exec(i);if(e){const t={type:"table",raw:e[0],header:wo(e[1]).map(r=>({text:r,tokens:[]})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){let r=t.align.length,s,a,o,l;for(s=0;s<r;s++){const c=t.align[s];c&&(/^ *-+: *$/.test(c)?t.align[s]="right":/^ *:-+: *$/.test(c)?t.align[s]="center":/^ *:-+ *$/.test(c)?t.align[s]="left":t.align[s]=null)}for(r=t.rows.length,s=0;s<r;s++)t.rows[s]=wo(t.rows[s],t.header.length).map(c=>({text:c,tokens:[]}));for(r=t.header.length,a=0;a<r;a++)t.header[a].tokens=this.lexer.inline(t.header[a].text);for(r=t.rows.length,a=0;a<r;a++)for(l=t.rows[a],o=0;o<l.length;o++)l[o].tokens=this.lexer.inline(l[o].text);return t}}}lheading(i){const e=this.rules.block.lheading.exec(i);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(i){const e=this.rules.block.paragraph.exec(i);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(i){const e=this.rules.block.text.exec(i);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(i){const e=this.rules.inline.escape.exec(i);if(e)return{type:"escape",raw:e[0],text:Fe(e[1])}}tag(i){const e=this.rules.inline.tag.exec(i);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Fe(e[0]):e[0]}}link(i){const e=this.rules.inline.link.exec(i);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const a=fr(t.slice(0,-1),"\\");if((t.length-a.length)%2===0)return}else{const a=Af(e[2],"()");if(a>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+a;e[2]=e[2].substring(0,a),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);a&&(r=a[1],s=a[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),yo(e,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(i,e){let t;if((t=this.rules.inline.reflink.exec(i))||(t=this.rules.inline.nolink.exec(i))){let r=(t[2]||t[1]).replace(/\s+/g," ");if(r=e[r.toLowerCase()],!r){const s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return yo(t,r,t[0],this.lexer)}}emStrong(i,e,t=""){let r=this.rules.inline.emStrong.lDelim.exec(i);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const a=[...r[0]].length-1;let o,l,c=a,h=0;const d=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,e=e.slice(-1*i.length+a);(r=d.exec(e))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(l=[...o].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&a%3&&!((a+l)%3)){h+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+h);const f=[...i].slice(0,a+r.index+l+1).join("");if(Math.min(a,l)%2){const w=f.slice(1,-1);return{type:"em",raw:f,text:w,tokens:this.lexer.inlineTokens(w)}}const v=f.slice(2,-2);return{type:"strong",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(i){const e=this.rules.inline.code.exec(i);if(e){let t=e[2].replace(/\n/g," ");const r=/[^ ]/.test(t),s=/^ /.test(t)&&/ $/.test(t);return r&&s&&(t=t.substring(1,t.length-1)),t=Fe(t,!0),{type:"codespan",raw:e[0],text:t}}}br(i){const e=this.rules.inline.br.exec(i);if(e)return{type:"br",raw:e[0]}}del(i){const e=this.rules.inline.del.exec(i);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(i,e){const t=this.rules.inline.autolink.exec(i);if(t){let r,s;return t[2]==="@"?(r=Fe(this.options.mangle?e(t[1]):t[1]),s="mailto:"+r):(r=Fe(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(i,e){let t;if(t=this.rules.inline.url.exec(i)){let r,s;if(t[2]==="@")r=Fe(this.options.mangle?e(t[0]):t[0]),s="mailto:"+r;else{let a;do a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(a!==t[0]);r=Fe(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(i,e){const t=this.rules.inline.text.exec(i);if(t){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Fe(t[0]):t[0]:r=Fe(this.options.smartypants?e(t[0]):t[0]),{type:"text",raw:t[0],text:r}}}}const $={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Tr,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;$._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;$.def=we($.def).replace("label",$._label).replace("title",$._title).getRegex();$.bullet=/(?:[*+-]|\d{1,9}[.)])/;$.listItemStart=we(/^( *)(bull) */).replace("bull",$.bullet).getRegex();$.list=we($.list).replace(/bull/g,$.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$.def.source+")").getRegex();$._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";$._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;$.html=we($.html,"i").replace("comment",$._comment).replace("tag",$._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();$.lheading=we($.lheading).replace(/bull/g,$.bullet).getRegex();$.paragraph=we($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex();$.blockquote=we($.blockquote).replace("paragraph",$.paragraph).getRegex();$.normal={...$};$.gfm={...$.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};$.gfm.table=we($.gfm.table).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex();$.gfm.paragraph=we($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex();$.pedantic={...$.normal,html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Tr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:we($.normal._paragraph).replace("hr",$.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const V={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Tr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Tr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};V._punctuation="\\p{P}$+<=>`^|~";V.punctuation=we(V.punctuation,"u").replace(/punctuation/g,V._punctuation).getRegex();V.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;V.anyPunctuation=/\\[punct]/g;V._escapes=/\\([punct])/g;V._comment=we($._comment).replace("(?:-->|$)","-->").getRegex();V.emStrong.lDelim=we(V.emStrong.lDelim,"u").replace(/punct/g,V._punctuation).getRegex();V.emStrong.rDelimAst=we(V.emStrong.rDelimAst,"gu").replace(/punct/g,V._punctuation).getRegex();V.emStrong.rDelimUnd=we(V.emStrong.rDelimUnd,"gu").replace(/punct/g,V._punctuation).getRegex();V.anyPunctuation=we(V.anyPunctuation,"gu").replace(/punct/g,V._punctuation).getRegex();V._escapes=we(V._escapes,"gu").replace(/punct/g,V._punctuation).getRegex();V._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;V._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;V.autolink=we(V.autolink).replace("scheme",V._scheme).replace("email",V._email).getRegex();V._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;V.tag=we(V.tag).replace("comment",V._comment).replace("attribute",V._attribute).getRegex();V._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;V._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;V._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;V.link=we(V.link).replace("label",V._label).replace("href",V._href).replace("title",V._title).getRegex();V.reflink=we(V.reflink).replace("label",V._label).replace("ref",$._label).getRegex();V.nolink=we(V.nolink).replace("ref",$._label).getRegex();V.reflinkSearch=we(V.reflinkSearch,"g").replace("reflink",V.reflink).replace("nolink",V.nolink).getRegex();V.normal={...V};V.pedantic={...V.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",V._label).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",V._label).getRegex()};V.gfm={...V.normal,escape:we(V.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};V.gfm.url=we(V.gfm.url,"i").replace("email",V.gfm._extended_email).getRegex();V.breaks={...V.gfm,br:we(V.br).replace("{2,}","*").getRegex(),text:we(V.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Df(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function bo(n){let i="";for(let e=0;e<n.length;e++){const t=Math.random()>.5?"x"+n.charCodeAt(e).toString(16):n.charCodeAt(e).toString();i+="&#"+t+";"}return i}class vt{constructor(i){pe(this,"tokens");pe(this,"options");pe(this,"state");pe(this,"tokenizer");pe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=i||ei,this.options.tokenizer=this.options.tokenizer||new _r,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:$.normal,inline:V.normal};this.options.pedantic?(e.block=$.pedantic,e.inline=V.pedantic):this.options.gfm&&(e.block=$.gfm,this.options.breaks?e.inline=V.breaks:e.inline=V.gfm),this.tokenizer.rules=e}static get rules(){return{block:$,inline:V}}static lex(i,e){return new vt(e).lex(i)}static lexInline(i,e){return new vt(e).inlineTokens(i)}lex(i){i=i.replace(/\r\n|\r/g,`
`),this.blockTokens(i,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(i,e=[]){this.options.pedantic?i=i.replace(/\t/g,"    ").replace(/^ +$/gm,""):i=i.replace(/^( *)(\t+)/gm,(o,l,c)=>l+"    ".repeat(c.length));let t,r,s,a;for(;i;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(t=o.call({lexer:this},i,e))?(i=i.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.space(i)){i=i.substring(t.raw.length),t.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(t);continue}if(t=this.tokenizer.code(i)){i=i.substring(t.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);continue}if(t=this.tokenizer.fences(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.heading(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.hr(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.blockquote(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.list(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.html(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.def(i)){i=i.substring(t.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.lheading(i)){i=i.substring(t.raw.length),e.push(t);continue}if(s=i,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=i.slice(1);let c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=i.substring(0,o+1))}if(this.state.top&&(t=this.tokenizer.paragraph(s))){r=e[e.length-1],a&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t),a=s.length!==i.length,i=i.substring(t.raw.length);continue}if(t=this.tokenizer.text(i)){i=i.substring(t.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);continue}if(i){const o="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,e}inline(i,e=[]){return this.inlineQueue.push({src:i,tokens:e}),e}inlineTokens(i,e=[]){let t,r,s,a=i,o,l,c;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,o.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;i;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(t=h.call({lexer:this},i,e))?(i=i.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.escape(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.tag(i)){i=i.substring(t.raw.length),r=e[e.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(t=this.tokenizer.link(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.reflink(i,this.tokens.links)){i=i.substring(t.raw.length),r=e[e.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(t=this.tokenizer.emStrong(i,a,c)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.codespan(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.br(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.del(i)){i=i.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.autolink(i,bo)){i=i.substring(t.raw.length),e.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(i,bo))){i=i.substring(t.raw.length),e.push(t);continue}if(s=i,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const d=i.slice(1);let f;this.options.extensions.startInline.forEach(v=>{f=v.call({lexer:this},d),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(s=i.substring(0,h+1))}if(t=this.tokenizer.inlineText(s,Df)){i=i.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(c=t.raw.slice(-1)),l=!0,r=e[e.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(i){const h="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return e}}class Sr{constructor(i){pe(this,"options");this.options=i||ei}code(i,e,t){var s;const r=(s=(e||"").match(/^\S*/))==null?void 0:s[0];if(this.options.highlight){const a=this.options.highlight(i,r);a!=null&&a!==i&&(t=!0,i=a)}return i=i.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Fe(r)+'">'+(t?i:Fe(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:Fe(i,!0))+`</code></pre>
`}blockquote(i){return`<blockquote>
${i}</blockquote>
`}html(i,e){return i}heading(i,e,t,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(t);return`<h${e} id="${s}">${i}</h${e}>
`}return`<h${e}>${i}</h${e}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(i,e,t){const r=e?"ol":"ul",s=e&&t!==1?' start="'+t+'"':"";return"<"+r+s+`>
`+i+"</"+r+`>
`}listitem(i,e,t){return`<li>${i}</li>
`}checkbox(i){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(i){return`<p>${i}</p>
`}table(i,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+e+`</table>
`}tablerow(i){return`<tr>
${i}</tr>
`}tablecell(i,e){const t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+i+`</${t}>
`}strong(i){return`<strong>${i}</strong>`}em(i){return`<em>${i}</em>`}codespan(i){return`<code>${i}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(i){return`<del>${i}</del>`}link(i,e,t){const r=vo(this.options.sanitize,this.options.baseUrl,i);if(r===null)return t;i=r;let s='<a href="'+i+'"';return e&&(s+=' title="'+e+'"'),s+=">"+t+"</a>",s}image(i,e,t){const r=vo(this.options.sanitize,this.options.baseUrl,i);if(r===null)return t;i=r;let s=`<img src="${i}" alt="${t}"`;return e&&(s+=` title="${e}"`),s+=this.options.xhtml?"/>":">",s}text(i){return i}}class rs{strong(i){return i}em(i){return i}codespan(i){return i}del(i){return i}html(i){return i}text(i){return i}link(i,e,t){return""+t}image(i,e,t){return""+t}br(){return""}}class ns{constructor(){pe(this,"seen");this.seen={}}serialize(i){return i.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(i,e){let t=i,r=0;if(this.seen.hasOwnProperty(t)){r=this.seen[i];do r++,t=i+"-"+r;while(this.seen.hasOwnProperty(t))}return e||(this.seen[i]=r,this.seen[t]=0),t}slug(i,e={}){const t=this.serialize(i);return this.getNextSafeSlug(t,e.dryrun)}}class wt{constructor(i){pe(this,"options");pe(this,"renderer");pe(this,"textRenderer");pe(this,"slugger");this.options=i||ei,this.options.renderer=this.options.renderer||new Sr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new rs,this.slugger=new ns}static parse(i,e){return new wt(e).parse(i)}static parseInline(i,e){return new wt(e).parseInline(i)}parse(i,e=!0){let t="";for(let r=0;r<i.length;r++){const s=i[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=s,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){t+=o||"";continue}}switch(s.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{const a=s;t+=this.renderer.heading(this.parseInline(a.tokens),a.depth,Wa(this.parseInline(a.tokens,this.textRenderer)),this.slugger);continue}case"code":{const a=s;t+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=s;let o="",l="";for(let h=0;h<a.header.length;h++)l+=this.renderer.tablecell(this.parseInline(a.header[h].tokens),{header:!0,align:a.align[h]});o+=this.renderer.tablerow(l);let c="";for(let h=0;h<a.rows.length;h++){const d=a.rows[h];l="";for(let f=0;f<d.length;f++)l+=this.renderer.tablecell(this.parseInline(d[f].tokens),{header:!1,align:a.align[f]});c+=this.renderer.tablerow(l)}t+=this.renderer.table(o,c);continue}case"blockquote":{const a=s,o=this.parse(a.tokens);t+=this.renderer.blockquote(o);continue}case"list":{const a=s,o=a.ordered,l=a.start,c=a.loose;let h="";for(let d=0;d<a.items.length;d++){const f=a.items[d],v=f.checked,w=f.task;let x="";if(f.task){const b=this.renderer.checkbox(!!v);c?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=b+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=b+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:b}):x+=b}x+=this.parse(f.tokens,c),h+=this.renderer.listitem(x,w,!!v)}t+=this.renderer.list(h,o,l);continue}case"html":{const a=s;t+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=s;t+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=s,o=a.tokens?this.parseInline(a.tokens):a.text;for(;r+1<i.length&&i[r+1].type==="text";)a=i[++r],o+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);t+=e?this.renderer.paragraph(o):o;continue}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return t}parseInline(i,e){e=e||this.renderer;let t="";for(let r=0;r<i.length;r++){const s=i[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){t+=a||"";continue}}switch(s.type){case"escape":{const a=s;t+=e.text(a.text);break}case"html":{const a=s;t+=e.html(a.text);break}case"link":{const a=s;t+=e.link(a.href,a.title,this.parseInline(a.tokens,e));break}case"image":{const a=s;t+=e.image(a.href,a.title,a.text);break}case"strong":{const a=s;t+=e.strong(this.parseInline(a.tokens,e));break}case"em":{const a=s;t+=e.em(this.parseInline(a.tokens,e));break}case"codespan":{const a=s;t+=e.codespan(a.text);break}case"br":{t+=e.br();break}case"del":{const a=s;t+=e.del(this.parseInline(a.tokens,e));break}case"text":{const a=s;t+=e.text(a.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return t}}class Li{constructor(i){pe(this,"options");this.options=i||ei}preprocess(i){return i}postprocess(i){return i}}pe(Li,"passThroughHooks",new Set(["preprocess","postprocess"]));var Gi,yn,Er,Va;class Lf{constructor(...i){Nr(this,Gi);Nr(this,Er);pe(this,"defaults",is());pe(this,"options",this.setOptions);pe(this,"parse",Yi(this,Gi,yn).call(this,vt.lex,wt.parse));pe(this,"parseInline",Yi(this,Gi,yn).call(this,vt.lexInline,wt.parseInline));pe(this,"Parser",wt);pe(this,"parser",wt.parse);pe(this,"Renderer",Sr);pe(this,"TextRenderer",rs);pe(this,"Lexer",vt);pe(this,"lexer",vt.lex);pe(this,"Tokenizer",_r);pe(this,"Slugger",ns);pe(this,"Hooks",Li);this.use(...i)}walkTokens(i,e){var r,s;let t=[];for(const a of i)switch(t=t.concat(e.call(this,a)),a.type){case"table":{const o=a;for(const l of o.header)t=t.concat(this.walkTokens(l.tokens,e));for(const l of o.rows)for(const c of l)t=t.concat(this.walkTokens(c.tokens,e));break}case"list":{const o=a;t=t.concat(this.walkTokens(o.items,e));break}default:{const o=a;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{t=t.concat(this.walkTokens(o[l],e))}):o.tokens&&(t=t.concat(this.walkTokens(o.tokens,e)))}}return t}use(...i){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return i.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=e.renderers[s.name];a?e.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=e[s.level];a?a.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){const s=this.defaults.renderer||new Sr(this.defaults);for(const a in t.renderer){const o=t.renderer[a],l=a,c=s[l];s[l]=(...h)=>{let d=o.apply(s,h);return d===!1&&(d=c.apply(s,h)),d||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new _r(this.defaults);for(const a in t.tokenizer){const o=t.tokenizer[a],l=a,c=s[l];s[l]=(...h)=>{let d=o.apply(s,h);return d===!1&&(d=c.apply(s,h)),d}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new Li;for(const a in t.hooks){const o=t.hooks[a],l=a,c=s[l];Li.passThroughHooks.has(a)?s[l]=h=>{if(this.defaults.async)return Promise.resolve(o.call(s,h)).then(f=>c.call(s,f));const d=o.call(s,h);return c.call(s,d)}:s[l]=(...h)=>{let d=o.apply(s,h);return d===!1&&(d=c.apply(s,h)),d}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,a=t.walkTokens;r.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(i){return this.defaults={...this.defaults,...i},this}}Gi=new WeakSet,yn=function(i,e){return(t,r,s)=>{typeof r=="function"&&(s=r,r=null);const a={...r},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=Yi(this,Er,Va).call(this,!!o.silent,!!o.async,s);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(Of(o,s),o.hooks&&(o.hooks.options=o),s){const c=s,h=o.highlight;let d;try{o.hooks&&(t=o.hooks.preprocess(t)),d=i(t,o)}catch(w){return l(w)}const f=w=>{let x;if(!w)try{o.walkTokens&&this.walkTokens(d,o.walkTokens),x=e(d,o),o.hooks&&(x=o.hooks.postprocess(x))}catch(b){w=b}return o.highlight=h,w?l(w):c(null,x)};if(!h||h.length<3||(delete o.highlight,!d.length))return f();let v=0;this.walkTokens(d,w=>{w.type==="code"&&(v++,setTimeout(()=>{h(w.text,w.lang,(x,b)=>{if(x)return f(x);b!=null&&b!==w.text&&(w.text=b,w.escaped=!0),v--,v===0&&f()})},0))}),v===0&&f();return}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(c=>i(c,o)).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(l);try{o.hooks&&(t=o.hooks.preprocess(t));const c=i(t,o);o.walkTokens&&this.walkTokens(c,o.walkTokens);let h=e(c,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(c){return l(c)}}},Er=new WeakSet,Va=function(i,e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,i){const s="<p>An error occurred:</p><pre>"+Fe(r.message+"",!0)+"</pre>";if(e)return Promise.resolve(s);if(t){t(null,s);return}return s}if(e)return Promise.reject(r);if(t){t(r);return}throw r}};const Qt=new Lf;function me(n,i,e){return Qt.parse(n,i,e)}me.options=me.setOptions=function(n){return Qt.setOptions(n),me.defaults=Qt.defaults,Na(me.defaults),me};me.getDefaults=is;me.defaults=ei;me.use=function(...n){return Qt.use(...n),me.defaults=Qt.defaults,Na(me.defaults),me};me.walkTokens=function(n,i){return Qt.walkTokens(n,i)};me.parseInline=Qt.parseInline;me.Parser=wt;me.parser=wt.parse;me.Renderer=Sr;me.TextRenderer=rs;me.Lexer=vt;me.lexer=vt.lex;me.Tokenizer=_r;me.Slugger=ns;me.Hooks=Li;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;wt.parse;vt.lex;me.use({walkTokens(n){},renderer:{paragraph(n){let i=Array.from(n.matchAll(/(\[\^(\w+)\])([^:]|\s|$)/g)),e=Array.from(n.matchAll(/==(.+?)==\{([^\}]+)/g));return i.length||e.length?(n=Hf(n),n=Mf(n),`<p>${n}</p>`):Array.from(n.matchAll(/(\[\^(\w+)\]:)/g)).length?`<ol style="margin-left:-1rem;">${Bf(n)}</ol>`:!1},code(n,i){var e;if(i==="juncture"){let t=n.trim().split(`
`),r=t[0],s=(e=r.match(/\.ez-[^\W]+/))==null?void 0:e[0].slice(1),a=ss(qa(r)),o=t.length>1?me.parse(t.slice(1).map(c=>c.replace(/^    /,"")).join(`
`)):"";return`<${s} ${a}>
${o}</${s}>`}return!1}}});const bn=/\.github\.io$/.test(location.hostname);function If(n){var o,l;let i=((o=n.textContent)==null?void 0:o.trim().split(`
`))||[];if(i.length===0)return"";let e=i[0],t=(l=e.match(/ez-[^\W]+/))==null?void 0:l[0],r=ss(qa(e)),s=i.length>1?me.parse(i.slice(1).map(c=>c.replace(/^    /,"")).join(`
`)):"";return`<${t} ${r}>
${s}</${t}>`}function Mf(n){let i=n.matchAll(/==(.+?)==\{([^\}]+)/g),e=[],t=0;for(const r of i){e.push(n.slice(t,r.index));let[s,a,o]=r,l=Uf(o),c=l.qid?"ez-entity-infobox":"ez-trigger";e.push(`<${c} ${ss(l)}>${a}</${c}>`),t=(r.index||0)+s.length+1}return e.push(n.slice(t)),e.join("")}function Hf(n){let i=[],e=0;return Array.from(n.matchAll(/(\[\^(\w+)\])([^:]|\s|$)/g)).forEach(t=>{i.push(n.slice(e,t.index));let[r,s,a]=t;i.push(`<sup><a id="fnRef:${a}" href="#fn:${a}" style="font-weight:bold;padding:0 3px;">${a}</a></sup>`),e=(t.index||0)+s.length}),i.push(n.slice(e)),i.join("")}function Bf(n){let i=[],e=0,t="",r="";Array.from(n.matchAll(/(\[\^(\w+)\]:)/g)).forEach(a=>{let[o,l,c]=a;if(t){let h=n.slice(e,a.index).trim();i.push(`<li id="fn:${r}" role="doc-endnote"><p>${h}${t}</p></li>`)}t=`<a href="#fnRef:${c}" title="Jump back to footnote ${c} in the text" class="reversefootnote" role="doc-backlink" style="margin-left:6px;text-decoration:none;">↩</a>`,r=c,e=(a.index||0)+o.length+1});let s=n.slice(e).trim();return i.push(`<li id="fn:${r}" role="doc-endnote"><p>${s}${t}</p></li>`),i.join("")}function qa(n){var e;let i=[];return n=n.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(e=n==null?void 0:n.match(/[^\s"]+|"([^"]*)"/gmi))==null||e.forEach(t=>{i.length>0&&i[i.length-1].indexOf("=")===i[i.length-1].length-1?i[i.length-1]=`${i[i.length-1]}${t}`:i.push(t)}),Object.fromEntries(i.slice(1).map(t=>{if(t.indexOf("=")>0){let[r,s]=t.split("=");return[r,s[0]==='"'&&s[s.length-1]==='"'?s.slice(1,-1):s]}else return[t,"true"]}))}function ss(n){return Object.entries(n).map(([i,e])=>e==="true"?i:`${i}="${e}"`).join(" ")}function Ff(n){return/^Q\d+$/.test(n)}function Nf(n){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(n)}function Uf(n){var r;if(!n)return{};let i=[];n=n.replace(/“/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(r=n==null?void 0:n.match(/[^\s"]+|"([^"]*)"/gmi))==null||r.forEach(s=>{i.length>0&&i[i.length-1].indexOf("=")===i[i.length-1].length-1?i[i.length-1]=`${i[i.length-1]}${s}`:i.push(s)});let e={},t=new Set;return i.forEach(s=>{if(s[0]==="#")e.id=s.slice(1);else if(s[0]===".")t.add(s.slice(1));else if(s.indexOf("=")>0){let[a,o]=s.split("=");a==="class"?o.split(",").forEach(l=>t.add(l)):e[a]=o[0]==='"'&&o[o.length-1]==='"'?o.slice(1,-1):o}else Ff(s)?e.qid=s:Nf(s)?e.zoomto=s:e[s]="true"}),t.size>0&&(e.class=Array.from(t).join(" ")),e}function jf(n){return me.parse(n)}async function Wf(){var t;let n={},i=((t=window==null?void 0:window.config)==null?void 0:t.baseurl)||`/${location.pathname.split("/")[1]}`;const e=[location.hostname==="localhost"?"http://localhost:8080/config.yml":`${i}/config.yml`,location.hostname==="localhost"?"http://localhost:8080/ezsite/default_config.yml":`${i}/ezsite/default_config.yml`];for(const r of e){let s=await fetch(r);if(s.ok&&(n=window.jsyaml.load(await s.text())),s.ok)break}return window.config={...window.config,...n,meta:Vf(),isGHP:bn},bn&&(window.config.owner||(window.config.owner=location.hostname.split(".")[0]),window.config.repo||(window.config.repo=location.pathname.split("/")[1])),window.config}function Vf(){var c,h,d;let n,i;Array.from(document.getElementsByTagName("*")).forEach(f=>{/^\w+-\w+/.test(f.tagName)&&(f.tagName.split("-")[1]==="META"?n=f:f.tagName.split("-")[1]==="HEADER"&&(i=f))}),n||(n=document.querySelector("param[ve-config]"));let e=(c=document.querySelector("h1, h2, h3"))==null?void 0:c.innerText.trim(),t=(h=document.querySelector("p"))==null?void 0:h.innerText.trim(),r=document.querySelector('script[type="application/ld+json"]'),s=r?JSON.parse(r.innerText):{"@context":"https://schema.org","@type":"WebSite",description:"",headline:"",name:"",url:""};s.url=location.href;let a=n!=null&&n.getAttribute("title")?n.getAttribute("title"):i!=null&&i.getAttribute("title")?i.getAttribute("title"):e||"",o=n!=null&&n.getAttribute("description")?n.getAttribute("description"):t||"",l=(n==null?void 0:n.getAttribute("robots"))||(location.hostname.indexOf("www")===0?"":"noindex, nofollow");if(a&&(document.title=a,s.name=a,s.headline=a),o&&((d=document.querySelector('meta[name="description"]'))==null||d.setAttribute("content",o),s.description=o),l){let f=document.createElement("meta");f.setAttribute("name","robots"),f.setAttribute("content",l),document.head.appendChild(f)}return n&&n.getAttribute("ve-config")===null&&n.remove(),r&&(r.innerText=JSON.stringify(s)),{title:a,description:o,robots:l,seo:s}}async function qf(n){n.querySelectorAll("a").forEach(i=>{let e=new URL(i.href);new URLSearchParams(e.search).get("zoom")&&i.setAttribute("rel","nofollow"),bn&&config.repo&&e.origin===location.origin&&e.pathname.indexOf(`/${config.repo}/`)!==0&&(i.href=`/${config.repo}${e.pathname}`)}),Array.from(n.querySelectorAll("img")).forEach(i=>{var t;if((t=i.parentElement)!=null&&t.classList.contains("card"))return;let e=document.createElement("ez-image");e.setAttribute("src",i.src),e.setAttribute("alt",i.alt),e.setAttribute("left",""),i.parentNode.replaceWith(e)}),Array.from(n.querySelectorAll("blockquote")).filter(i=>/^\s*ez-\S+/.test(i.textContent||"")).forEach(i=>{var s;let e=i.querySelector("p"),t=i.querySelector("ul"),r=new DOMParser().parseFromString(If(e),"text/html").children[0].children[1].children[0];t&&r.appendChild(t),(s=i.parentNode)==null||s.replaceChild(r,i)})}function Gf(n){return!isNaN(n)}function Zf(n){let i=[];for(;n.parentElement;){let e=Array.from(n.parentElement.children).filter(t=>t.tagName===n.tagName);i.push(e.indexOf(n)+1),n=n.parentElement}return i.reverse().join(".")}function xo(){let n=document.querySelector("main"),i=document.createElement("main"),e=i,t;return n&&Array.from(n==null?void 0:n.querySelectorAll("p")).filter(r=>/^#{1,6}$/.test(r.textContent||"")).forEach(r=>{var s;return r.replaceWith(document.createElement(`h${(s=r.textContent)==null?void 0:s.length}`))}),Array.from((n==null?void 0:n.children)||[]).forEach(r=>{var s,a,o;if(r.tagName[0]==="H"&&Gf(r.tagName.slice(1))){let l=r,c=parseInt(l.tagName.slice(1));e&&Array.from(e.children).filter(f=>!/^H\d/.test(f.tagName)).filter(f=>!/PARAM/.test(f.tagName)).forEach((f,v)=>{let w=`${e.getAttribute("data-id")||1}.${v+1}`;f.setAttribute("data-id",w),f.id=w,f.className="segment"}),e=document.createElement("section"),e.classList.add(`section-${c}`),Array.from(l.classList).forEach(f=>e.classList.add(f)),t=((s=l.nextElementSibling)==null?void 0:s.tagName)==="PARAM"?l.nextElementSibling:null,t&&t.classList.forEach(f=>e.classList.add(f)),l.className="",l.id&&(e.id=l.id,l.removeAttribute("id")),e.innerHTML+=l.outerHTML,l.innerHTML.trim()||(a=e.firstChild)==null||a.remove();let h=[...i.querySelectorAll(`H${c-1}`)],d=c===1||h.length===0?i:(o=h.pop())==null?void 0:o.parentElement;d==null||d.appendChild(e),e.setAttribute("data-id",Zf(e))}else r!==t&&(e.innerHTML+=r.outerHTML)}),i.querySelectorAll("section").forEach(r=>{if(r.classList.contains("cards")&&!r.classList.contains("wrapper")){r.classList.remove("cards");let s=document.createElement("section");s.className="cards wrapper",Array.from(r.children).slice(1).forEach(a=>{var h,d;s.appendChild(a),a.classList.add("card");let o=a.querySelector("h1, h2, h3, h4, h5, h6");o&&o.remove();let l=a.querySelector("p > img");l&&((h=l.parentElement)==null||h.replaceWith(l));let c=a.querySelector("p > a");c&&((d=c.parentElement)==null||d.replaceWith(c))}),r.appendChild(s)}}),qf(i),n==null||n.replaceWith(i),n}function xn(n,i=null,e=0){Xf(n[e],()=>{e<n.length-1?xn(n,i,e+1):i&&i()})}function Xf(n,i){let e=document.createElement(n.tag);Object.entries(n).forEach(([t,r])=>{t!=="tag"&&e.setAttribute(t,r)}),e.addEventListener("load",i),n.tag==="script"?document.body.appendChild(e):document.head.appendChild(e)}Ja(()=>import("./preline-7d6f83a6.js").then(n=>n.p),[]);gn("node_modules/@shoelace-style/shoelace/dist");function Kf(){customElements.define("ez-accordion",At(zh)),customElements.define("ez-button",At(xu)),customElements.define("ez-collapse",At(Cu)),customElements.define("ez-entity-infobox",At(Kd)),customElements.define("ez-image",At(af)),customElements.define("ez-meta",At(lf)),customElements.define("ez-modal",At(pf)),customElements.define("ez-trigger",At(wf))}let ni=globalThis.window;ni.md2html=jf;console.log("ezsite: version=0.4.4");Kf();xn([{tag:"script",src:"https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"},{tag:"script",src:"https://cdn.jsdelivr.net/npm/marked/marked.min.js",crossorigin:"anonymous",referrerpolicy:"no-referrer"}],async()=>{ni.config=await Wf(),console.log(ni.config),ni.config.stylesheets?xn(ni.config.stylesheets.map(n=>({tag:"link",href:n[0]=="/"?n:`${ni.config.baseurl||"http://localhost:8080"}/${n}`,rel:"stylesheet"})),()=>{xo()}):xo()});export{Jd as g};
